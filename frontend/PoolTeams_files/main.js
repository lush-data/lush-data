(this["webpackJsonpfe-terminal-sites"]=this["webpackJsonpfe-terminal-sites"]||[]).push([[0],{1002:function(e,t,a){"use strict";(function(e){var n=a(5),r=a(13),i=a(4),o=a.n(i),l=a(26),c=a(0),s=a(6),u=a.n(s),d=a(11),m=a(41),p=a(1040),b=a(1003),f=function(){var t=Object(l.a)(o.a.mark((function t(a,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({path:"netlify.toml"}).then((function(t){return e.from(t.data.content,"base64").toString()}));case 3:r=t.sent,n({toml:Object(p.a)(r)}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({toml:{}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}(),g=function(){var t=Object(l.a)(o.a.mark((function t(a,n){var r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({path:"package.json"}).then((function(t){var a=e.from(t.data.content,"base64").toString();return JSON.parse(a)}));case 3:r=t.sent,i=null,u()(r,"dependencies.gatsby")?i=m.b:u()(r,"dependencies.react-scripts")?i=m.a:u()(r,"dependencies.next")?i=m.g:u()(r,"dependencies.nuxt")?i=m.h:u()(r,"dependencies.gridsome")?i=m.c:u()(r,"devDependencies.sapper")||u()(r,"dependencies.sapper")?i=m.j:(u()(r,"devDependencies.svelte")||u()(r,"dependencies.svelte"))&&(i=m.k),n({packageJson:{hasBuildCommand:!!u()(r,"scripts.build"),framework:i}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({packageJson:{}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}(),y=function(){var t=Object(l.a)(o.a.mark((function t(a,n){var i,l,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({path:".fleek.json"}).then((function(t){var a=e.from(t.data.content,"base64").toString();return JSON.parse(a)}));case 3:i=t.sent,l=u()(i,"build.environment",{}),c=Object.entries(l).map((function(e){var t=Object(r.a)(e,2);return{name:t[0],value:t[1]}})),n({fleekJson:{dockerImage:u()(i,"build.image",""),publishDirectory:u()(i,"build.publicDir",""),buildCommand:u()(i,"build.command",""),envVars:c,detected:!0}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({fleekJson:{detected:!1}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,r,i,l,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:n=e.sent,r=n.data,i=!!r.find((function(e){return"yarn.lock"===e.name})),l=!!r.find((function(e){return"package-lock.json"===e.name})),c=!!r.find((function(e){return"wp-content"===e.name})),s=!!r.find((function(e){return"Gemfile"===e.name})),u=!!r.find((function(e){return"mkdocs.yml"===e.name})),a({rootDirectory:{hasYarnLock:i,hasPackageLock:l,hasWpContent:c,hasGemfile:s,hasMkDocsYml:u}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a({rootDirectory:{}});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,t({path:"archetypes/default.md"});case 4:n=m.d,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("No hugo configuration found");case 10:a({hugoFiles:{framework:n}});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}();t.a=function(e){var t=Object(d.v)().repos,a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getContents(Object(n.a)(Object(n.a)({},e),a))},i=Object(c.useReducer)((function(e,t){return Object(n.a)(Object(n.a)({},e),t)}),{}),o=Object(r.a)(i,2),l=o[0],s=o[1],u=l.rootDirectory,m=l.packageJson,p=l.toml,E=l.hugoFiles,O=l.fleekJson,j=u&&m&&p&&E&&O;return Object(c.useEffect)((function(){e.ref&&!j&&(v(a,s),g(a,s),f(a,s),h(a,s),y(a,s))}),[e.ref]),j?Object(b.a)(l):null}}).call(this,a(32).Buffer)},1003:function(e,t,a){"use strict";var n=a(5),r=a(156),i=a(41);t.a=function(e){var t=e.rootDirectory,a=e.packageJson,o=e.toml,l=e.hugoFiles,c=e.fleekJson,s=t.hasYarnLock,u=t.hasPackageLock,d=t.hasWpContent,m=t.hasGemfile,p=t.hasMkDocsYml,b=a.hasBuildCommand,f=a.framework,g=o.tomlCommand,y=o.tomlDirectory,v=l.framework,h=u&&!s,E=h?"npm install":"yarn",O=h?"npm run":"yarn",j=g&&"".concat(E," && ").concat(g)||b&&"".concat(E," && ").concat(O," build")||"",S=y||"",k=c.detected,w=Object(r.a)(c,["detected"]),x=Object(n.a)({buildCommand:j,baseDirectory:"",publishDirectory:S,dockerImage:"",installCommand:E,runScriptCommand:O},w);return{framework:k&&i.i||f||v||d&&i.l||m&&i.e||p&&i.f||i.i,defaultValues:x}}},1024:function(e,t,a){e.exports=a.p+"static/media/man-on-browser-background.8f3efbc6.svg"},1025:function(e){e.exports=JSON.parse('{"common":{"done":"Done","save":"Save","delete":"Delete","cancel":"Cancel","confirm":"Confirm","created":"Created","createdAt":"Created at {{date}}","lastPublished":"Last published on {{date}}","back":"Back","comingSoon":"Coming soon!","copiedToClipboard":"Successfully copied to clipboard","today":"Today","change":"Change","edit":"Edit","name":"Name","email":"Email","details":"Details","addPM":"Add Payment Method","at":"at","on":"on","size":"Size","verify":"Verify"},"hello":"hello world","module":{"hello":"Helo World Module"},"auth":{"page_title":"Fleek: Verifying User","success":"User was verifying correctly.","verifying":"Verifying user...","error":"Sorry, we got an error when trying verifying user."},"modals":{"record":"Record","host":"Host","pointsTo":"Points to","dnsConfiguration":{"title":"DNS Configuration","pointText":"Point app CNAME record to {{domain}}","description":"Log in to the account you have with your DNS provider, and add a CNAME record for app pointing to {{domain}}","command":"CNAME {{domain}} {{terminalRecord}}","footerText":"If you\u2019ve already done this, allow up to 24 hours for the changes to propgate.","error":"Sorry we were unable to verify your DNS settings. Please make sure your DNS records as indicated below are correctly applied with your DNS provider. If you\u2019ve already done so, please wait a few minutes and click Verify again.","buttons":{"cancel":"Cancel","verifyDns":"Verify DNS configuration"}},"nameServer":{"title":"DNS Configuration","step1":{"title":"Step 1: Point A record to {{ip}}","description":"Create an A record for {{domain}} pointing to our load balancer\u2019s IP address {{ip}}.","command":"{{domain}} A {{ip}}"},"step2":{"title":"Step 2: Create an NS record for _dnslink","description":"Create a NS record for _dnslink pointing to our name server.","command":"_dnslink NS {{server}}","footer":"Please make sure DNS records as indicated above are correctly applied with your DNS provider. It can take up to a few minutes to apply; click \u201cVerify DNS Configuration\u201d below to check if the changes have propagated."},"footer":"An SSL certificate will automatically be applied to the domain and an additional www.subdomain, that will be created to redirect to the root domain."},"paymentMethod":{"title":"Add Payment Method","success":"Your payment info has been saved successfully","error":"An error has occurred while adding your payment information","form":{"inputs":{"name":{"label":"Name","placeholder":"Jane Doe"},"country":{"label":"Country","placeholder":"Choose Country"},"cta":"Save"},"errors":{"title":"Error","name":"Name field can\'t be blank","country":"Country field can\'t be blank","card":"Invalid Credit Card","internal":"Internal error, please try again"}}},"deleteSite":{"title":"Delete Site","siteNameInput":"Type in name of site to confirm","error":"Error when trying to delete the site, please try again later.","message":{"part1":"Are you sure you want to delete","part2":"If so, please type the name of the site to confirm."}},"uploadFiles":{"title":"Upload","addFiles":"Add Files","dragFiles":"Drag files here or ","uploadLink":"click to upload","files":"Files:","folders":"Folders:","totalSize":"Total Size:","targetPath":"Target Path:","filesUploaded":"files uploaded","uploadingProgress":"<0>{{uploadedItems}}</0> out of <0>{{totalItemsNumber}}</0>","uploadingError":"Error when trying to upload the files, please try again later.","uploaded":"Uploaded","partiallyUploaded":"Partially Uploaded"},"changeSiteName":{"title":"Change site name","siteNameInput":"Site Name","error":"Error when trying to change the site name, please try again later.","message":"The site name determines the default URL for your site. Only alphanumeric characters and hyphens are allowed."},"dnsLink":{"title":"Optional: Set up DNS link for your domain","subTitle":"Step 1: Add CNAME record to set up DNS link","subtitle2":"Add this CNAME record to your DNS provider to set up DNS link","cancel":"Cancel","verifyDns":"Verify DNS configuration","command":"CNAME from _dnslink.{{currentDomain}} to _dnslink.{{domain}}"},"createFolder":{"title":"Create Folder","inputLabel":"Folder Name","error":"Error when trying to create a new folder, please try again later.","invalidName":"Folder name cannot contain any of the following characters: ?%*:|\\"<>"},"deleteStoredItems":{"title":"Delete File","messageOneFile":"Are you sure you want to delete {{fileName}} file?","messageManyFiles":"Are you sure you want to delete {{filesNumber}} files?","error":"Error when trying to remove the files, please try again later."},"apiDetails":{"title":"API Details","copy":"Your api {{type}} was successfully copied to your clipboard.","warning":"API Secret is only visible upon generation","error":"We\'re sorry, there was an error when trying to generate a new api key.","inputs":{"apiKey":"Api Key","apiSecret":"Api Secret"}}},"layout":{"sidebar":{"team":"Team","sites":"Hosting","builds":"Builds","domains":"Domains","members":"Members","billing":"Billing","teamSettings":"Team Settings","storage":"Storage","new":"New","beta":"Beta","getCLI":"Get the SDK"},"teamSelector":{"createTeam":"Create New Team"},"userMenu":{"settings":"Settings","logout":"Log Out","signedAs":"Signed in as","loading":"...loading"}},"sites":{"title":"Hosting","page_title":"Fleek: Hosting","page_title_new_site":"Fleek: New Site","addNewSite":"Add New Site","deployFrom":"Deploys from","ownedBy":"Owned by","lastPublished":"Last published","deployInProgress":"Deploy in Progress...","failedDeploy":"Failed Deploy","at":"at","github":"Github","ipfs":"IPFS","andSymbol":"&","tabs":{"overview":"Overview","deploys":{"title":"Deploys","sections":{"deployInfo":{"title":"Deploy Info","subtitle":"Auto publishing is {{isAuto}}.","descriptionAuto":"Deploys from {{branch}} are published automatically.","descriptionNotAuto":"Deploys from {{branch}} are not published automatically.","on":"on","off":"off","button":"Deploy settings","listOfDeploys":{"triggerDeploy":"Trigger deploy","deployItem":{"goToCommitDetails":"Open GitHub with commit details","goToDeployDetails":"Go to deploy details","branchLabel":"Production:","deployPreview":"Deploy Preview:","deployMessagePlaceholder":"No deploy message","deployTime":"Deployed in {{time}}","startDeployTime":"{{dayAndMonth}} at {{hourAndMinute}}","deployTimePlaceholder":"Deploy Time Pending","timeFailedDeploy":"Deploy Failed","goToPR":"Open GitHub with PR details","prTitle":"Pull request <0>{{prNumber}}</0> to {{branch}}"}}},"deployStatus":{"title":"Deploy Status","description":"Fleek\'s robots are busy building and deploying your site to IPFS and our CDN","retryDeploy":"Retry deploy","cancelDeploy":"Cancel deploy","publishDeploy":"Publish deploy","previewDeploy":"Preview deploy","deployInProgress":"Deploy in progress","publishedDeploy":"Published deploy","deploySuccessful":"Deploy successful","deployCancelled":"Cancelled","deployFailed":"Deploy failed"}}},"settings":{"title":"Settings","http":{"title":"HTTPS","paragraph":"Enable automatic TLS certificates with Cloudflare, or use your own certificate"},"ssl":{"title":"SSL/TLS certificate","errorParagraph":"To provision a certificate automatically, Fleek needs to go through a domain validation process on your behalf. This step cannot be completed unless the DNS records for your custom domain are already pointing at our servers.","buttonText":"VERIFY DNS CONFIGURATION","errorLink":"Learn more about HTTPS on custom domains","error":"We could not provision a Cloudflare certificate for your custom domain.","waiting":"Waiting on DNS propagation","waitingParagraph":"We\u2019ll provision your Let\u2019s Encrypt certificate automatically once the DNS configuration for your custom domain is pointing to our servers and the changes have propagated.","httpEnabled":"Your site has HTTPS enabled","certificate":"Certificate:","domains":"Domains:","expires":"Expires:","created":"Created:","notDeployed":"Waiting on Successful Deployment","notDeployedParagraph":"We\u2019ll provision your SSL certificate automatically once you successfully deploy a site or add a custom domain to your site pointing to our servers."},"ens":{"title":"ENS","comingSoon":"Coming Soon!","paragraph":"Add your ENS to your Fleek site","setControllerModal":{"title":"Set up Fleek ENS controller","migrateEnsStep":"Step {{stepNumber}}: Migrate your ENS","setControllerStep":"Step {{stepNumber}}: Set Fleek as ENS controller","migrateEnsParagraph":"Click Migrate below to go to app.ens.domains to update your ENS domain to the most recent resolver.","migrate":"Migrate","migrated":"Migrated","setControllerParagraph":"Set Fleek as a controller to your ENS domain to set your site to point to your ENS domain and automatically update for all future site deployments.","setControllerButton":"Set Fleek as controller","errors":{"generic":"An error occurred","failedToConnect":"Failed to connect, please try again","wrongNetId":"Please switch to {{network}}","notOwnerOfDomain":"Connected account is not the owner of the domain","failedTransaction":"The Ethereum transaction did not go through","rejectedTransaction":"The Ethereum transaction was rejected"}},"ensBox":{"title":"ENS Info","description":"Add an ENS domain to point to your deployed site. Fleek will automatically update future deployments to point to your ENS domain."},"domainRow":{"ensDomain":"ENS domain","remove":"Remove domain","fleekController":"Fleek Controller","setFleek":"Set Fleek as controller","pending":"Pending transaction"},"noDomain":{"addEns":"Add ENS","learnMore":"Learn more about ENS in our docs"},"addEns":{"title":"Add a ENS domain to your site","description":"Use an existing ENS domain to deploy your site on. Fleek will update the IPFS hash the ENS name is pointing to for auto deploys.","learnMore":"Learn more about ENS in our docs","ensDomain":"ENS Domain","connectedTo":"Connected to {{ethAddress}}","alreadyOwner":"<0>{{owner}}</0> is the owner of {{domain}}. Is that you?","yesAdd":"Yes, Add ENS","noAnother":"No, Try Another","isAvailable":"{{domain}} is available!","wouldYouLike":"Would you like to make this purchase?","byClicking":"By clicking buy, we will redirect you to purchase your ENS domain","buyDomain":"Buy {{domain}}","setUpFleek":"Set up Fleek ENS controller","weRecommend":"We recommend you set Fleek as a controller on your ENS domain to automate updating the content of your site for future deployments.","setFleekAs":"Set Fleek as controller","domainRegistered":"This ENS domain is already associated with another Fleek site which could cause conflicts upon site updates."}},"domains":{"title":"Domains","paragraph":"Add your own custom domain to your Fleek site for free"},"customDomains":{"title":"Custom Domains","remove":"Remove domain","dnsLink":"Set Up DNS Link","dnsLinkVerified":"DNS Link Verified","success":"Custom domain was deleted correctly.","error":"Error when trying to delete the domain, please try again.","paragraph":"By default, your site is always accessible via a Fleek subdomain based on the site name. Custom domains allow you to access your site via one or more non-Fleek domain names.","buttonText":"Add Custom Domain","learnAboutCustomDomains":"Learn more about custom domains in our docs","learnAboutRedirect":"Learn more about redirect rules in our docs","defaultSubdomain":"Default subdomain","primaryDomain":"Primary domain","redirectsAutomatically":"Redirects automatically to primary domain","waitingOnDNS":"Waiting on DNS propagation","checkDNS":"Check DNS configuration","terminalDNS":"Fleek DNS","linkDNS":"DNS Link","successPayment":"Payment successfully processed","errorPayment":"Error processing the payment","pollingMessage":"You\u2019ve successfully purchased a domain, please wait a couple of minutes for it to propagate.","types":{"PRIMARY":"Primary domain","DEFAULT_SUBDOMAIN":"Default subdomain","REDIRECT_TO_PRIMARY":"Redirects automatically to primary domain"}}}},"errors":{"404":{"title":"Page not found","description":"Sorry, we couldnt find the page you are looking for"}},"start":{"connectWithGithub":{"step":"1. Connect to Github","title":"Continuous Deployment","subtitle":"When you push to Git we run your build tool on our services and deploy the result.","buttonMsg":"Connect with Github"},"buildOptions":{"cardTitle":"Deploy settings for {{repository}}","cardSubtitle":"Get more control over how Fleek builds and deploys your site with these settings.","step":"3. Build options, and deploy!","title":"Basic build settings","subtitle":"If you\'re using a static site generator or build tool, we\'ll need these settings to build your site.","docs":"Learn more in our docs","deploySiteMsg":"Deploy site","pickPlan":"Pick a plan","pickPlanInfo":"The {{planName}} team plan includes up to {{sitesLimit}} sites, please upgrade your plan to deploy.","repository":"Repository","branchToDeploy":"Branch to deploy","buildCommand":"Build command","framework":"Framework","publishDirectory":"Publish directory","branchesPlaceholder":"No branches found","buildCommandTooltip":"The build command to run before deploying. Examples: build, gulp build, make all.","publishDirectoryTooltip":"The directory to deploy after running the build command. Examples: _site, dist, public.","dockerImageTooltip":"The docker image and tag from the Docker Hub to use as a base when building your site.","frameworkToolip":"The framework used by the site","gatsbyPlugin":"Make sure you have the Gatsby IPFS plugin installed in your app.","showAdvanced":"Show advanced","envVars":{"title":"Environment Variables","subtitle":"Define environment variables for more control and flexibility over your build.","newVar":"New variable","keyPlaceholder":"VARIABLE_NAME","variablePlaceholder":"somevalue","keyLabel":"Key","variableLabel":"Value","errors":{"onlyAlphaNumericAndUnderscore":"Variable names can only consist of alphanumeric characters and underscores.","startWithLetter":" Variable names must start with a letter."}},"frameworkOptions":{"other":"Other","nextJs":"NextJS","createReactApp":"Create React App","hugo":"Hugo","gatsby":"Gatsby","jekyll":"Jekyll","wordpress":"Wordpress","nuxtjs":"NuxtJS","gridsome":"Gridsome","svelte":"Svelte","mkdocs":"MkDocs","sapper":"Svelte + Sapper"}},"stepper":{"title":"Create a new site","description":"From zero to hero, three easy steps to get your site live."},"pickRepository":{"step":"2. Pick a repository","title":"Continuous Deployment: GitHub App","subtitle":"Choose the repository you want to link to your site on Fleek. When you push to Git we run your build tool on our services and deploy the result.","searchPlaceholder":"Search repos","editPermissionsLink":{"question":"Can\u2019t see your repo here?","link":"Configure the Fleek app on GitHub."}}},"siteHeader":{"deploy":{"DEPLOYED":"{{domain}}","IN_PROGRESS":"Site deploy in progress","FAILED":"Site has not yet been deployed","CANCELLED":"Site has not yet been deployed"},"ipfs":{"pending":"IPFS Hash Pending","verify":"Verify on IPFS"}},"overview":{"name":"Name","owner":"Owner","repository":"GitHub Repo/Branch","ipfsHash":"Current IPFS Hash","numberOfDomains":"Number of Domains","certificate":"SSL Certificate","created":"Created","lastPublished":"Last Published","ssl":{"CLOUDFLARE":"Cloudflare","LETS_ENCRYPT":"Let\'s Encrypt"}},"deploys":{"title":"Deploy Log","preview":"Preview","copyToClipboard":"Copy to Clipboard","summaryList":{"title":"Deploy Summary","filesUploaded":{"title":"All files already uploaded","subtitle":"All files already uploaded by a previous deploy with the same commits."},"redirectRulesProcessed":{"title":"No redirect rules processed","subtitle":"This deploy did not include any redirect rules."},"headerRulesProcessed":{"title":"No header rules processed","subtitle":"This deploy did not include any header rules."},"linkedResources":{"title":"All linked resources are secure","subtitle":"Congratulations! No insecure mixed content found in your files."},"buildTime":{"title":"Build time: {{buildTime}}. Total deploy time: {{totalDeployTime}}","subtitle":"Build started at {{startedAt}} and ended at {{endedAt}}."}},"backToDeploys":"Back to All Deploys"}},"members":{"title":"Members","addMember":{"title":"Add team members","subtitle":"We automatically update your billing as you add and remove team members.","emails":{"title":"Emails of the new members","subtitle":"Use commas to add multiple emails.","fieldLabel":"Send invites to","invalidEmail":"One or more emails addresses are invalid","noEmailAddress":"Please add at least one email address","duplicate":"{{emails}} is already invited or on the team","duplicate_plural":"{{emails}} are already invited or on the team"},"error":{"errorSendingInvitations":"An error occured while sending the invitations"},"extraSeats":{"title":"Add extra Seats","description":"Inviting {{totalNewMembers}} new members will add <1>{{extraSeats}} extra seats at {{monthlyCost}}/month</1> to your monthly bill."},"buttonText":"INVITE MEMBERS"},"add":"Add members","invited":"Invited","tryAgain":"Try again","allSites":"All sites","remove":"Remove from team","error":"Error when trying to get your team members, please try again.","removeMember":{"success":"Team member was deleted correctly.","error":"Error when trying to delete the member, please try again."},"roles":{"admin":"Owner","member":"Collaborator"}},"team":{"title":"Team","create":{"stepper":{"title":"Create a new team","description":"Teams are the perfect environment for people to collaborate across multiple sites.","step1":{"title":"1. Configure your team","teamName":{"title":"What\u2019s your team\u2019s name?","subtitle":"Create a team and invite your team members.","inputLabel":"Team Name","pickPlan":"Pick a plan","reviewPayment":"Review payment","errors":{"notAllowedChars":"Team name can only consist of alphanumeric characters, hyphens, dots and underscores.","notUnique":"Team name {{teamName}} is already taken."}}},"step2":{"title":"2. Pick a plan"},"step3":{"title":"3. Review team and payment","createTeam":"Create team","howManyPeople":"How many people are on your team?","inputLabel":"Number of users","additionalUsersLabel":"{{userNumber}} additional users @ ${{pricePerUser}} per user/month"}}}},"teams":{"pageTitle":"Fleek Hosting: Teams"},"billing":{"title":"Billing","misc":{"priceWithUnit":"${{price}}","unlimited":"Unlimited","custom":"Custom","priceDescription":"{{description}} price"},"creditCardDisplay":{"text":"{{type}} ending in <1>{{digits}}</1>","noCreditCard":"No credit cards available","creditCardTypes":{"amex":"Amex","discover":"Discover","mastercard":"Mastercard","visa":"Visa","defaultCard":"Card"}},"changePlan":{"pageTitle":"Fleek: Change Plan","back":"Back","stepper":{"title":"Change your team plan","description":"Upgrade or downgrade your team to suit your business needs.","step1":"1. Select a Plan","step2":"2. Review team and payment"},"step2Payment":{"pickedPlan":"{{type}}: {{price}}/month","whichPayment":"Which payment method would you like to use?","changePaymentMethod":"CHANGE PAYMENT METHOD","addPaymentMethod":"ADD PAYMENT METHOD","summary":"Summary","summarySubtitle":"Your next payment will be prorated according to your billing cycle.","typePlan":"{{type}} plan","total":"Total","updateTeam":"UPDATE TEAM","upTo":"up to {{limit}}","including":"{{plan}} (including {{siteLimit}} {{sitesText}}, {{userLimit}} {{usersText}})","userSingular":"user","userPlural":"users","siteSingular":"site","sitePlural":"sites"},"pickPlan":{"title":"Pick a team plan","subtitle":"Pick the plan that best suits your team\u2019s needs.","plans":{"title":"{{name}}: {{price}}","pickPlan":"Pick Plan","contactSales":"Contact Sales","currentPlan":"Current plan","perMonth":"{{price}}/month","contactUs":"To revert to a {{startPlan}} plan, contact us at <1>{{supportEmail}}</1>"}}},"topBar":{"title":"Billing"},"headerCard":{"billingFor":"Billing for {{recipient}}","billingPeriod":"Current billing period runs from <1>{{startDate}}</1> to <3>{{endDate}}<3/>.","learnMore":"Learn more about billing in our docs"},"planDetails":{"title":"Plan Details","subtitle":"Current plan information.","cardTitle":"Team Plan","link":"Learn more about plans on our pricing page","buttonText":"Change Plan","teamPlan":"{{type}} team plan","effectiveFrom":"Effective from {{startDate}}","mb":"MB","gb":"GB","bandwidth":"{{used}} {{unit}} / {{limit}} {{limitUnit}} bandwidth","minutes":"{{used}} / {{limit}} build minutes","price":"${{price}}"},"invoices":{"title":"Invoices","subtitle":"Past and pending invoices for this team account.","receipts":{"title":"Receipts","timestamp":"{{date}} at {{time}}","charged":"{{price}} charged to {{creditCard}} ending in {{fourLastDigits}}","defaultReceipt":"No Invoices!"}},"billingSettings":{"sectionTitles":{"general":"General","planDetails":"Plan Details","invoices":"Invoices","billingDetails":"Billing Details"}}},"errors":{"404":{"title":"Page not found","description":"Sorry, we couldnt find the page you are looking for","cta":"Go to Sites"},"500":{"title":"Internal Server Error","description":"Sorry, something went wrong. Try again in a few minutes","cta":"Try again"}},"siteSettings":{"editSettings":"Edit settings","notSet":"Not set","sectionTitles":{"buildAndDeploy":"Build & Deploy","continuousDeployment":"Continuous Deployment","domainManagement":"Domain Management","advancedBuildSettings":"Advanced Build Settings","domains":"Domains","ens":"ENS","https":"HTTPS","general":"General","siteDetails":"Site Details","dangerZone":"Danger Zone"},"deployment":{"subtitle":"Settings for Continuous Deployment from a Git repository","buildSettings":{"title":"Build Settings","repository":"Repository:","baseDirectory":"Base directory:","notSet":"Not set","buildCommand":"Build command:","publishDirectory":"Publish directory:","learnMore":"Learn more about common configuration directives in the docs","baseDirectoryTip":"Directory to change to before starting a build. Where we will look for package.json/.nvmrc/etc."},"deployContexts":{"title":"Deploy Contexts","subtitle":"Deploy contexts are a way to tell Fleek how to build your site. They give you the flexibility to configure your site\u2019s builds depending on the context they are going to be deployed to.","productionBranch":"Production branch:","learnMore":"Learn more about deploy contexts in the docs","error":"Sorry, we got an error when editing deploy settings.","previewPRs":{"label":"Deploy previews","onTitle":"Automatically build deploy previews for all pull requests","onDescription":"Every pull request gets deployed in its own context with a unique URL.","offTitle":"Don\u2019t build deploy previews for pull requests","offDescription":"Fleek won\u2019t deploy any pull requests."}},"advancedBuildSettings":{"title":"Advanced Build Settings","subtitle":"Advanced settings for environment variables and docker"},"environmentVariables":{"title":"Environment Variables","subtitle":"Set environment variables for your build script and add-ons.","learnMore":"Learn more about environment variables in the docs","editVariables":"EDIT VARIABLES","key":"Key","value":"Value","error":"Sorry, we got an error when editing the environment variables"},"dockerFile":{"title":"Specify Docker Image","subtitle":"Specify a docker image and tag from the Docker Hub to use as a base when building your site.","learnMore":"Learn more about specifying docker images in the docs","error":"Sorry, we got an error when editing docker image settings.","label":"Docker Image Name (e.g. node:lts)","labelFirstLine":"Docker Image Name","labelSecondLine":"(e.g. node:lts)"}},"general":{"siteDetails":{"title":"Site Information","subtitle":"General information about your site","siteName":"Site name","owner":"Owner","siteId":"Site ID","created":"Created","lastUpdate":"Last update","changeName":"Change Site Name"},"dangerZone":{"title":"Delete Site","subtitle":"Irreversible and destructive actions.","content":"Once you delete a site, there is no going back.","deleteSite":"Delete this site"}}},"addCustomDomain":{"pageTitle":"Fleek: Add custom domain","title":"Add a custom domain to your site","description":"You can bring a domain name that you already own, or buy a new one. When you buy the domain with us, we automatically configure your DNS settings and provision a wildcard certificate for your domain.","linkToDocs":"Learn more in our docs","inputLabel":"Custom Domain","verifyDomain":"Verify","errors":{"invalidDomain":"Invalid Domain"},"ownerPart":{"question":"already has an owner. Is it you?","confirm":"Yes, Add Domain","cancel":"No, Try Another"},"purchasing":{"title":"{{domainName}} is available!","description":"Purchasing domains within Fleek will be available soon. In the meantime purchase your domain elsewhere and add it as an external domain.","submit":"Add external domain"},"buyDomain":{"title":"{{domainName}} is available!","noPaymentMethod":"No payment methods available","availablePM":"Available payment method:","changePaymentMehtod":"Change Payment Method","addPaymentMethod":"Add new payment method","subtitle":"Registration costs ${{cost}} for the first year. Would you like to make this purchase?","detail":"Add a payment method so that we can process the charge. This transaction is non-refundable. This domain registration will auto-renew for ${{renewCost}} for the second year.","buyCTA":"Buy {{domain}}"}},"siteDeploys":{"sections":{"deployInfo":{"title":"Deploy Info","subtitle":"Auto publishing is on.","description":"Deploys from master are published automatically.","button":"Deploy settings","listOfDeploys":{"triggerDeploy":"Trigger deploy","errorTriggerDeploy":"An error occurred while triggering the deploy","deployItem":{"deployMessagePlaceholder":"No deploy message","deployTime":"Deployed in {{time}}"}}}}},"deploymentStatus":{"published":"Published","failed":"Failed","inProgress":"In Progress","cancelled":"Cancelled"},"githubAuthorized":{"title":"Authorized","logoAlt":"Fleek Logo"},"noDataInfo":{"sitesList":{"title":"Sites","subtitle":"Host your site on IPFS (You\u2019re on one now)","description":"Host your sites on IPFS in 3 quick steps. Connect your git provider, select a repo and deploy!\\nAll your sites will be listed here once you add them.","buttonText":"Add new site","goToDocs":"Learn more about Sites in our docs"}},"sitesGettingStarted":{"title":"Getting Started","firstStep":{"instruction":{"title":"Deploying your site","subtitle":"Fleek\u2019s robots are busy building and deploying your site to IPFS and our CDN.","buttonText":"Check Deploy Status"},"done":{"title":"Site is deployed","subtitle":"Fleek\u2019s robots built and deployed your site to IPFS and our CDN."}},"secondStep":{"instruction":{"title":"Set up a custom domain with SSL","subtitle":"Buy a new domain or setup a domain you already own. All domains come with a free SSL cert.","addDomainButtonText":"Add or Buy Domain","verifyDomainButtonText":"Verify Domain"},"done":{"title":"Custom domain and SSL added","subtitle":"{{domainName}} was added as a custom domain with an SSL certifacte."}}},"billingDetails":{"title":"Billing Details","subtitle":"Payment and billing information for this team account.","paymentInformation":{"title":"Payment Information","paymentMethod":"Payment Method:","cardInfo":"{{cardName}} ending in {{cardLastFourDigits}}"},"billingInformation":{"title":"Billing Information","name":"Name:","email":"Email:","placeholder":"No payment method added"}},"topBanner":{"message":"We released the Space Daemon for building peer-to-peer encrypted apps. <0>Learn More</0>"},"siteSuspendedOverlay":{"title":"Site Suspended","description":"Your account has been suspended for an overdue bill for more than 30 days. Add your billing information.","buttonText":"Add Payment"},"accountSuspensionBanner":{"suspendedMessage":"Your account has been suspended for an overdue bill for more than 30 days. <1>Add your billing information.</1>","restrictedMessage":"Your account has been overdue for more than 15 days. It will be suspended after 30 days. <1>Add your billing information.</1>"},"storage":{"title":"Storage","upload":"Upload","actions":"Actions","open":"Open","download":"Download","downloadAs":"Download as","copyPath":"Copy Path","createFolder":"Create Folder","header":"File Information","lastModified":"Last modified, {{date}}","tabs":{"overview":"OVERVIEW","settings":"SETTINGS"},"details":{"name":"Name","hash":"Hash","size":"Size","owner":"Owner","created":"Created","objectUrl":"Object URL"},"table":{"columns":{"name":"Name","lastModified":"Last Modified","size":"Size"},"emptyMessage":"No folders or files found"},"actionsMessage":{"copyPathSuccess":"Object path copied to the clipboard!","downloadSuccess":"We are processing your download..."}},"accountSettings":{"pageTitle":"Fleek: Account Settings","join":"Joined on {{date}}","error":"We\'re sorry, there was an error when trying to get the account info.","navs":{"general":"General","profile":"Profile","api":"Api"},"api":{"title":"Api","description":"Use our API for Storage CLI & SDK","card":{"title":"Api Details","apiKey":"Api Key","new":"Create New API Key","copy":"Your api key was successfully copied to your clipboard."}},"profile":{"title":"Profile","description":"Personal information details","card":{"title":"Personal information","name":"Name","email":"Email"}}}}')},1040:function(e,t,a){"use strict";var n=function(e){for(var t,a=/^\[([a-zA-Z.]+)\]/gm,n=0;n<=10;){var r=a.exec(e);if(null===r)return null;if("build"===r[1]){t=a.lastIndex;break}n+=1}if(n>10)return null;var i=a.exec(e),o=i?i.index:e.length;return e.slice(t,o)};t.a=function(e){var t=n(e);if(!t)return{tomlCommand:void 0,tomlDirectory:void 0};var a=/^(\s*)command = "(.*)"/m.exec(t),r=a?a[2]:"",i=/^(\s*)publish = "(.*)"/m.exec(t);return{tomlCommand:r,tomlDirectory:i?i[2]:""}}},1056:function(e,t,a){e.exports=a(1788)},11:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(139),o=a(638),l=Object(o.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},button:{maxWidth:300},content:{position:"relative",marginTop:48,marginLeft:160},sidebar:{width:200,paddingTop:10,position:"relative",boxShadow:e.palette.shadows.small,backgroundColor:e.palette.palette.whiteThree},container:{display:"flex",position:"fixed",top:30,left:0,right:0,height:"calc(100vh - 30px)"},bannerContainer:{position:"fixed",top:0,left:0,right:0}}})),c=a(60),s=a(31),u=a(1840),d=a(339),m=a(1032),p=a(133),b=Object(o.a)((function(e){return{teamContainer:{padding:"18px 15px",borderTop:"1px solid ".concat(e.palette.palette.whiteSmoke),borderBottom:"1px solid ".concat(e.palette.palette.whiteSmoke),marginBottom:8},teamLabel:{marginBottom:7},root:{height:"100%",display:"flex",position:"relative",flexDirection:"column"},userMenuContainer:{flex:1,display:"flex",alignItems:"flex-end",padding:"15px 12px"},logo:{height:33},logoContainer:{display:"flex",paddingBottom:10,justifyContent:"center"},cliContainer:{margin:"5px 15px"}}})),f=a(156),g=a(18),y=a.n(g),v=a(851),h=Object(o.a)((function(e){return{root:{display:"flex",borderRadius:3,padding:"5px 7px",textDecoration:"none",backgroundColor:"#d0e4ff",justifyContent:"space-between",color:e.palette.palette.linkBlue}}})),E=function(e){var t=e.className,a=Object(f.a)(e,["className"]),n=h(),i=Object(u.a)().t;return r.a.createElement("a",Object.assign({target:"_blank",rel:"noopener noreferrer",href:"https://docs.fleek.co/storage/fleek-storage-js",className:y()(n.root,t)},a),r.a.createElement(d.a,{color:"inherit",display:"inline",variant:"caption"},i("layout.sidebar.getCLI")),r.a.createElement(v.a,{size:12,color:"inherit",icon:["far","long-arrow-right"]}))};E.defaultProps={className:null};var O,j=E,S=a(5),k=a(13),w=a(29),x=a(28),C=a(14),I=a(36),N=a(1028),D=a(6),T=a.n(D),B=a(68),A=function(e){var t=T()(e,"individual")||{},a=t.firstname,n=t.lastname;return a&&n?"".concat(a," ").concat(n):a||(n||(e.username||"unknown"))},P="Has sites",R=function(e){var t=e.hasSites;return Object(w.a)({},P,t)},M=function(e){try{var t={app_id:B.a.intercomKey,name:A(e),email:e.email,username:e.username,terminal_account_id:e.id,user_id:e.id};window.Intercom("boot",t)}catch(a){}},L=function(e,t){try{if(t){var a=R(t),n=Object(S.a)({user_id:e.id,email:e.email},a);window.Intercom("update",n)}else window.Intercom("update",{last_request_at:parseInt((new Date).getTime()/1e3,10)})}catch(r){}},F=function(){try{window.Intercom("shutdown")}catch(e){}},U=a(53),_={key:"logout",icon:"sign-out"},W={key:"settings",icon:"cog"},V=function(e,t){var a={logout:t("layout.userMenu.logout"),settings:t("layout.userMenu.settings"),signedAs:t("layout.userMenu.signedAs")},n=[Object(S.a)(Object(S.a)({},W),{},{text:a.settings}),Object(S.a)(Object(S.a)({},_),{},{text:a.logout})];if(e.loading||e.error)return{i18n:a,items:n,user:{id:"",name:t("layout.userMenu.loading")}};var r=T()(e,"data.getCurrentUser.user",{})||{},i=T()(r,"individual.profilePicUrl");return{i18n:a,items:n,user:Object(S.a)({id:T()(r,"id",""),email:T()(r,"email",""),name:T()(r,"individual.firstname",""),username:T()(r,"username","")},i&&{profilePicUrl:i})}},z=(O={},Object(w.a)(O,_.key,(function(){F(),U.a.signout()})),Object(w.a)(O,W.key,(function(e){e.history.push($.l.buildUrl(null,"/settings/general/profile"))})),O),G=function(){var e=Object(u.a)().t,t=Object(c.g)(),a=Object(n.useState)(!U.a.isAuthenticated),i=Object(k.a)(a,2),o=i[0],l=i[1],s=Object(x.b)(I.a,{skip:o,client:C.c,onCompleted:function(){var t=V(s,e).user,a=t.id,n=Object(f.a)(t,["id"]);window.analytics.identify(a,Object(S.a)({},n))}}),d=V(s,e),m=d.user,p=d.i18n,b=d.items;return Object(n.useEffect)((function(){if(!U.a.isAuthenticated)var e=U.a.onListen(U.a.events.onUserAuth,(function(t){t&&(e(),l(!1))}))}),[]),U.a.isAuthenticated?r.a.createElement(N.a,{onItemClick:function(e){z[e]({history:t})},user:m,i18n:p,items:b}):null},K=a(1034),H=Object(o.a)({select:{width:147,height:29,paddingTop:1}}),q=a(38),$=a(62),Y=function(e,t,a){if(e.loading||e.error)return[];var n=T()(e,"data.getMemberships.memberships",[])||[],r=Object(q.a)(n).sort($.g).map((function(e){var a=e.teamName,n=e.teamId;return{id:n,name:a,selected:t===n}})),i={id:"ADD_TEAM",name:a("layout.teamSelector.createTeam"),selected:!1};return[].concat(Object(q.a)(r),[i])},J=function(){var e=H(),t=Object(c.g)(),a=Object(u.a)().t,n=$.l.getAccountIdFromUrl(),i=Object(x.b)(I.e,{client:C.b,skip:!U.a.isAuthenticated,onCompleted:function(){var e=Y(i,n,a).find((function(e){return e.selected}));e&&window.analytics.group(e.id,{name:e.name})}}),o=Y(i,n,a);return r.a.createElement(K.a,{value:o.find((function(e){return e.selected})),options:o,onChange:function(e){return function(e){if("ADD_TEAM"!==e.id){var a=$.l.buildUrl({accountId:e.id},"/teams/".concat(e.id,"/sites"));window.ga("set","userId",e.id),window.analytics.group(e.id,{name:e.name}),t.push(a)}else t.push($.l.buildUrl(null,"/teams/create/team-name"))}(e)},className:e.select})},Q=function(e){var t,a=e.t,n=e.location,r=e.teamId,i=(t=n.pathname,function(e){return e.some((function(e){return!!Object(c.f)(t,e)}))});return[{id:"sites",title:a("layout.sidebar.sites"),icon:"window",component:s.b,to:$.l.buildUrl(null,"/teams/".concat(r,"/sites")),disabled:!1,selected:i(["/teams/:teamId/sites","/sites","/start"])},{id:"storage",title:a("layout.sidebar.storage"),icon:"storage",component:s.b,disabled:!1,label:a("layout.sidebar.beta"),to:$.l.buildUrl(null,"/teams/".concat(r,"/storage/").concat(r,"-bucket")),selected:i(["/teams/:teamId/storage"])},{id:"billing",title:a("layout.sidebar.billing"),icon:"credit-card",component:s.b,to:$.l.buildUrl(null,"/teams/".concat(r,"/billing/general")),disabled:!1,selected:i(["/teams/:teamId/billing/general/:section?","/teams/:teamId/billing/change-plan"])},{id:"members",title:a("layout.sidebar.members"),icon:"members",component:s.b,disabled:!1,to:$.l.buildUrl(null,"/teams/".concat(r,"/members")),selected:i(["/teams/:teamId/members"])}]},Z=function(){var e=b(),t=Object(u.a)().t,a=Object(c.h)(),n=Object(p.a)(),i=Q({t:t,location:a,teamId:n});return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.logoContainer},r.a.createElement(s.b,{to:$.l.buildUrl(null,"/teams/".concat(n,"/sites"))},r.a.createElement("img",{alt:"fleek-logo",className:e.logo,src:"https://storage.googleapis.com/terminal-assets/images/fleek/fleek-logo.png"}))),r.a.createElement("div",{className:e.teamContainer},r.a.createElement(d.a,{variant:"body2",className:e.teamLabel},t("layout.sidebar.team")),r.a.createElement(J,null)),r.a.createElement(m.a,{items:i}),r.a.createElement(j,{className:e.cliContainer}),r.a.createElement("div",{className:e.userMenuContainer},r.a.createElement(G,null)))},X=a(1847),ee=Object(o.a)((function(e){return{container:{backgroundColor:"#f0f0f0",display:"flex",justifyContent:"center",alignItems:"center",height:30},text:{color:e.palette.palette.black,fontSize:14},link:{color:e.palette.palette.linkBlue,textDecoration:"none","&:hover":{textDecoration:"underline"}}}})),te=function(){var e=ee();return r.a.createElement("div",{className:e.container},r.a.createElement(d.a,{className:e.text},r.a.createElement(X.a,{i18nKey:"topBanner.message",components:[r.a.createElement("a",{className:e.link,href:"https://blog.fleek.co/posts/daemon-release",target:"_blank",rel:"noopener noreferrer"},"LEARN MORE")]})))},ae=(a(1341),function(e){var t=e.children,a=l();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null),r.a.createElement("div",{className:a.bannerContainer},r.a.createElement(te,null)),r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.sidebar},r.a.createElement(Z,null)),t))}),ne=function(e){var t=e.children,a=Object(f.a)(e,["children"]);return r.a.createElement(c.b,Object.assign({},a,{render:function(){return U.a.isAuthenticated?t:(U.a.authenticate("".concat(window.location.href.split("/#/")[1])),null)}}))},re=a(1027),ie=function(e){var t=e.t,a=$.l.getAccountIdFromUrl();return{items:[{type:"icon",enabled:!0,title:t("sites.title"),icon:["fal","window"],to:$.l.buildUrl(null,"/teams/".concat(a,"/sites"))}]}},oe=function(e){return new Promise((function(t){t(ie(e))}))},le=a(76),ce=function(e){var t=e.params,a=e.siteName,n=void 0===a?"":a,r=e.loading,i=void 0===r||r;return{items:[{type:"text",to:$.l.buildUrl(null,"/sites/".concat(t.siteSlug,"/overview")),title:n,enabled:!0,showSkeleton:i}]}},se=function(e){var t=e.t,a=$.l.getAccountIdFromUrl();return{items:[{type:"icon",enabled:!0,title:t("billing.title"),icon:["fal","credit-card"],to:$.l.buildUrl(null,"/teams/".concat(a,"/billing/general"))}]}},ue=function(e){var t=e.t,a=$.l.getAccountIdFromUrl();return{items:[{type:"icon",enabled:!0,title:t("members.title"),icon:["fal","users"],to:$.l.buildUrl(null,"/teams/".concat(a,"/members"))}]}},de=function(e){return new Promise((function(t){t(ue(e))}))},me=function(e){return{items:[{type:"icon",enabled:!0,title:(0,e.t)("team.title"),icon:["fal","users"],to:$.l.buildUrl(null,"/teams/create/team-name")}]}},pe=function(e){var t=e.t,a=e.location,n=Object(c.f)(a.pathname,"/teams/:teamId/storage/"),r=T()(n,"params.teamId","");return{items:[{type:"icon",enabled:!0,title:t("storage.title"),icon:["fal","hdd"],to:$.l.buildUrl(null,"/teams/".concat(r,"/storage"))}]}},be=function(e){var t=e.location,a=Object(c.f)(t.pathname,"/teams/:teamId/storage/:bucketName"),n=T()(a,"params",{}),r=n.teamId,i=n.bucketName;return{items:[{type:"text",enabled:!0,title:i,to:$.l.buildUrl(null,"/teams/".concat(r,"/storage/").concat(i))}]}},fe=[{path:"/teams/:teamId/sites",resolvers:[oe],defaultConfig:[ie]},{path:"/teams/:teamId/billing/*",resolvers:[function(e){return new Promise((function(t){t(se(e))}))}],defaultConfig:[se]},{path:"/sites/*",resolvers:[oe,function(e){return new Promise((function(t){var a=e.params;C.b.query({query:le.b,variables:{slug:a.siteSlug}}).then((function(a){var n=T()(a,"data.getSiteBySlug",{})||{},r=Object($.i)(n),i=ce(Object(S.a)(Object(S.a)({},e),{},{siteName:r,loading:!1}));t(i)})).catch((function(){var a=ce(e);t(a)}))}))}],defaultConfig:[ie,ce]}],ge=[{path:"/start*",resolvers:[oe],defaultConfig:[ie]}],ye=[{path:"/teams/:teamId/members",resolvers:[de],defaultConfig:[ue]},{path:"/teams/:teamId/members/add",resolvers:[de],defaultConfig:[ue]}],ve=[{path:"/teams/create*",resolvers:[function(e){return new Promise((function(t){t(me(e))}))}],defaultConfig:[me]}],he=[{path:"/teams/:teamId/storage",resolvers:[],defaultConfig:[pe]},{path:"/teams/:teamId/storage/:bucketName",resolvers:[],defaultConfig:[pe,be]},{path:"/teams/:teamId/storage/:bucketName/(object|folder)/*",resolvers:[],defaultConfig:[pe,be,function(e){var t=e.location,a=Object(c.f)(t.pathname,"/teams/:teamId/storage/:bucketName/object/*"),n=Object(c.f)(t.pathname,"/teams/:teamId/storage/:bucketName/folder/*"),r=(a||n||{params:{}}).params,i=r[0],o=r.teamId,l=r.bucketName,s=a?"object":"folder",u=i?i.split("/"):[];return{items:u.map((function(e,t){var a=t===u.length-1?s:"folder",n=u.slice(0,t+1).join("/");return{type:"text",enabled:!0,title:e,to:$.l.buildUrl(null,"/teams/".concat(o,"/storage/").concat(l,"/").concat(a,"/").concat(n))}}))}}]}],Ee=[].concat(Object(q.a)(ge),Object(q.a)(fe),Object(q.a)(ye),Object(q.a)(ve),Object(q.a)(he)),Oe=a(4),je=a.n(Oe),Se=a(26),ke=a(578),we=a.n(ke),xe=function(e,t){var a=Object(c.h)().pathname,r=e.find((function(e){return!!Object(c.f)(a,{path:e.path,exact:!0})})),i=T()(r,"resolvers",[]),o=T()(r,"defaultConfig",[]),l=Object(n.useState)({}),s=Object(k.a)(l,2),u=s[0],d=s[1];return Object(n.useEffect)((function(){var e=o.map((function(e){return e(t)}));d(we.a.all(e));var a=function(){var e=Object(Se.a)(je.a.mark((function e(){var a,n,r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.map((function(e){return e(t)})),e.next=3,Promise.all(a);case 3:n=e.sent,r=we.a.all(n),d(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.length>0&&a()}),[a]),u},Ce=function(e){var t=Object(u.a)().t,a=Object(c.i)(),n=Object(c.h)(),i=xe(Ee,Object(S.a)({t:t,params:a,location:n},e)).items,o=void 0===i?[]:i;return r.a.createElement(re.a,{items:o,component:s.b,itemsCount:{},disableLastItem:!1})};Ce.defaultProps={site:{}};var Ie=Ce,Ne=a(208),De=a(408),Te=a(1875),Be=a(17),Ae=a.n(Be),Pe=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},errorBox:{width:700,padding:"9px 12px",boxSizing:"border-box",height:52,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-70px",left:0,color:"white",fontSize:12},pointText:{margin:"19px 0 13px 0",color:"#000",fontWeight:500},description:{marginBottom:20,color:e.palette.palette.grey2,lineHeight:1.29},blackBox:{padding:"16px 17px 16px 17px",backgroundColor:"#081f24",borderRadius:6,marginBottom:20},consoleText:{fontFamily:"Inconsolata, monospace",color:"white"},footerText:{color:e.palette.palette.grey2},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}}}})),Re=Object(o.a)((function(e){return{title:{marginRight:10,color:e.palette.palette.grey1},detail:{color:e.palette.palette.whiteThree}}})),Me=function(e){var t=e.title,a=e.detail,n=Re();return r.a.createElement("div",null,r.a.createElement(d.a,{variant:"body2",display:"inline",className:n.title},t,":"),r.a.createElement(d.a,{variant:"body2",display:"inline",className:n.detail},a))};Me.defaultProps={title:"",detail:""};var Le=Me,Fe=function(e){var t=e.open,a=e.domain,n=e.terminalRecord,i=e.onClose,o=e.onSubmit,l=e.loading,c=e.error,s=Pe(),m=Object(u.a)().t,p=a.split("."),b=p.length>2?p.slice(0,p.length-2):[];return r.a.createElement(Te.a,{open:t,title:m("modals.dnsConfiguration.title"),maxWidth:700,onClose:i,className:y()(s.modal,Object(w.a)({},s.error,c))},c&&r.a.createElement("div",{className:s.errorBox},m("modals.dnsConfiguration.error")),r.a.createElement(d.a,{variant:"body2",className:s.pointText},m("modals.dnsConfiguration.pointText",{domain:a})),r.a.createElement(d.a,{variant:"body2",className:s.description},m("modals.dnsConfiguration.description",{domain:a})),r.a.createElement("div",{className:s.blackBox},r.a.createElement(Le,{title:m("modals.record"),detail:"CNAME"}),r.a.createElement(Le,{title:m("modals.host"),detail:b.join(".")}),r.a.createElement(Le,{title:m("modals.pointsTo"),detail:n})),r.a.createElement(d.a,{variant:"body2",className:s.footerText},m("modals.nameServer.step2.footer",{domain:a})),r.a.createElement("div",{className:s.buttonContainer},r.a.createElement(Ae.a,{buttonVariant:"secondary",onClick:i},m("modals.dnsConfiguration.buttons.cancel")),r.a.createElement(Ae.a,{buttonVariant:"primary",onClick:o,loading:l,disabled:l},m("modals.dnsConfiguration.buttons.verifyDns"))))};Fe.defaultProps={open:!1,domain:"domain",terminalRecord:"",loading:!1,error:!1};var Ue=Fe,_e=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},pointText:{margin:"19px 0 13px 0",color:"#000",fontWeight:500},description:{marginBottom:20,color:e.palette.palette.grey2,lineHeight:1.29},blackBox:{padding:"16px 17px 16px 17px",backgroundColor:"#081f24",borderRadius:6},consoleText:{fontFamily:"Inconsolata, monospace",color:"white"},footerText:{color:e.palette.palette.grey2,marginTop:20},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}},errorBox:{width:700,padding:"9px 12px",boxSizing:"border-box",height:52,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-70px",left:0,color:"white",fontSize:12}}})),We=function(e){var t=e.open,a=e.ip,n=e.domain,i=e.onClose,o=e.onSubmit,l=e.loading,c=e.error,s=_e(),m=Object(u.a)().t;return r.a.createElement(Te.a,{open:t,title:m("modals.nameServer.title"),maxWidth:700,onClose:i,className:y()(s.modal,Object(w.a)({},s.error,c))},c&&r.a.createElement("div",{className:s.errorBox},m("modals.dnsConfiguration.error")),r.a.createElement(d.a,{variant:"body2",className:s.pointText},m("modals.nameServer.step1.title",{ip:a})),r.a.createElement(d.a,{variant:"body2",className:s.description},m("modals.nameServer.step1.description",{domain:n,ip:a})),r.a.createElement("div",{className:s.blackBox},r.a.createElement(Le,{title:m("modals.record"),detail:"A"}),r.a.createElement(Le,{title:m("modals.host"),detail:"@"}),r.a.createElement(Le,{title:m("modals.pointsTo"),detail:a})),r.a.createElement(d.a,{variant:"body2",className:s.footerText},m("modals.nameServer.step2.footer",{domain:n})),r.a.createElement(d.a,{variant:"body2",className:s.footerText},m("modals.nameServer.footer")),r.a.createElement("div",{className:s.buttonContainer},r.a.createElement(Ae.a,{buttonVariant:"secondary",onClick:i},m("modals.dnsConfiguration.buttons.cancel")),r.a.createElement(Ae.a,{buttonVariant:"primary",onClick:o,loading:l,disabled:l},m("modals.dnsConfiguration.buttons.verifyDns"))))};We.defaultProps={open:!1,domain:"domain",error:!1};var Ve=We,ze=a(30),Ge=a(154),Ke=Object(o.a)((function(e){return{modal:{"& > div":{outline:"none"}},messageBox:{width:700,padding:"9px 12px",boxSizing:"border-box",borderRadius:4,position:"absolute",top:"-45px",left:0,fontSize:12},errorBox:{backgroundColor:e.palette.palette.lightErrorRed,color:e.palette.palette.saturatedRed},warningBox:{backgroundColor:e.palette.palette.fadeStarYellow,color:e.palette.palette.starYellow},subtitle:{margin:"19px 0 13px 0",color:"#000",fontWeight:500},description:{marginBottom:20,color:e.palette.palette.grey2,lineHeight:1.29},consoleText:{fontFamily:"Inconsolata, monospace",color:"white"},footerText:{color:e.palette.palette.grey2},buttonContainer:{marginTop:20,display:"flex",justifyContent:"flex-end","& > button":{marginLeft:15}},verifiedContainer:{display:"inline-flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.palette.fadeOutGreen,borderRadius:3,marginLeft:13,height:24,padding:5},checkmark:{color:e.palette.palette.green,fontSize:12,marginRight:4,marginLeft:-1,display:"inline-block",position:"relative",top:2},verifiedText:{color:e.palette.palette.green,fontSize:12,display:"inline-block"},migrateStepTitleText:{display:"inline-block"},link:{textDecoration:"none"}}})),He=function(e){var t,a=e.open,i=e.onClose,o=e.onSubmit,l=e.state,c=e.setState,s=e.ensDomain,m=e.siteId,p=T()(s,"isResolverMigrated",!1),b=T()(s,"domain"),f=Object(n.useState)(!1),g=Object(k.a)(f,2),v=g[0],h=g[1],E=Object(Ge.a)();Object(x.b)(I.c,{variables:{siteId:m},client:C.b});var O=Object(x.b)(I.d,{client:C.b,variables:{network:E.network,domain:b},skip:!v||!a}),j=O.data,N=O.startPolling,D=O.stopPolling,B=T()(j,"getEnsDomainInfo.isResolverMigrated",!1),A=p||B;Object(n.useEffect)((function(){a||h(!1),a&&!p&&h(!0),c((function(){return Object(S.a)(Object(S.a)({},l),{},{loading:!1,error:null})}))}),[a]),Object(n.useEffect)((function(){a&&!A&&v&&j&&N(3e3),a&&!A||D()}),[a,A,v,j]),Object(n.useEffect)((function(){return function(){return D()}}));var P=Ke(),R=Object(u.a)().t;return r.a.createElement(Te.a,{open:a,title:R("sites.tabs.settings.ens.setControllerModal.title"),maxWidth:700,onClose:i,className:y()(P.modal,Object(w.a)({},P.error,l.error))},l.error&&r.a.createElement("div",{className:y()(P.messageBox,(t={},Object(w.a)(t,P.errorBox,"error"===l.error.type),Object(w.a)(t,P.warningBox,"warning"===l.error.type),t))},l.error.message),v?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(d.a,{variant:"body2",className:y()(P.subtitle,P.migrateStepTitleText)},R("sites.tabs.settings.ens.setControllerModal.migrateEnsStep",{stepNumber:1})),A&&r.a.createElement("div",{className:P.verifiedContainer},r.a.createElement("div",{className:P.checkmark},r.a.createElement(ze.default,{icon:["far","check"],fontSize:"inherit"})),r.a.createElement(d.a,{className:P.verifiedText},R("sites.tabs.settings.ens.setControllerModal.migrated")))),r.a.createElement(d.a,{variant:"body2",className:P.description},R("sites.tabs.settings.ens.setControllerModal.migrateEnsParagraph")),r.a.createElement(Ae.a,{buttonVariant:"primary",target:"_blank",rel:"noopener noreferrer",href:"https://app.ens.domains/name/".concat(b),disabled:A},r.a.createElement(d.a,{variant:"body2"},R("sites.tabs.settings.ens.setControllerModal.migrate")))):null,r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"body2",className:P.subtitle},R("sites.tabs.settings.ens.setControllerModal.setControllerStep",{stepNumber:v?2:1})),r.a.createElement(d.a,{variant:"body2",className:P.description},R("sites.tabs.settings.ens.setControllerModal.setControllerParagraph")),r.a.createElement("div",{className:P.buttonContainer},r.a.createElement(Ae.a,{buttonVariant:"secondary",onClick:i},R("common.cancel")),r.a.createElement(Ae.a,{buttonVariant:"primary",onClick:o,loading:l.loading,disabled:!A},R("sites.tabs.settings.ens.setControllerModal.setControllerButton")))))};He.defaultProps={open:!1,state:{},ensDomain:null};var qe=He,$e=a(43),Ye=a(350),Je=Object(o.a)((function(e){return{root:{top:0,left:0,right:0,bottom:0,zIndex:2e3,display:"flex",position:"fixed",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.palette.landingPageGrey},logo:{height:200}}})),Qe=function(){var e=Je(),t=Object($e.b)();return Object(n.useEffect)((function(){return t(Object(Ye.b)(!0)),function(){return t(Object(Ye.b)(!1))}})),r.a.createElement("div",{className:e.root},r.a.createElement("img",{alt:"fleek-loading",src:"/loading-logo.svg",className:e.logo}))},Ze=a(986),Xe=a.n(Ze),et=a(987),tt=(Xe()(B.a.stripeKey),Object(et.a)(B.a.stripeKey)),at=a(107),nt=a(151),rt=a(184),it=a(20),ot=function(){var e=Object(c.h)(),t=Object(nt.a)(),a=Object(x.b)(I.a,{skip:!U.a.isAuthenticated,client:C.c,fetchPolicy:"cache-only"}).data,r=Object(x.b)(rt.a,{variables:{teamId:t,limit:it.h},client:C.b,fetchPolicy:"cache-only"}).data,i=T()(a,"getCurrentUser.user"),o=!!T()(r,"getSitesByTeam.sites.length");Object(n.useEffect)((function(){i&&M(i)}),[i]),Object(n.useEffect)((function(){i&&void 0!==o&&L(i,{hasSites:o})}),[i,o]),Object(n.useEffect)((function(){i&&(L(),window.gtag("config","UA-144542192-6",{page_path:e.pathname}))}),[i,e.pathname])},lt=a(213),ct=function(){var e=Object(Se.a)(je.a.mark((function e(){var t,a,n,r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.b.query({query:I.e,fetchPolicy:"network-only"});case 3:if(t=e.sent,a=T()(t,"data.getMemberships.memberships",[])||[],n=Object(q.a)(a).sort($.g),r=T()(n,"[0].teamId",null)||null){e.next=9;break}throw new Error("No available teams");case 9:return window.ga("set","userId",r),window.analytics.group(r,{name:r}),e.abrupt("return",$.l.buildUrl({accountId:r}));case 14:return e.prev=14,e.t0=e.catch(0),at.a(e.t0),console.error(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),st=[/\/sites.*/,/\/start.*/,/\/teams.*/],ut=[/\/copyright.*/,/\/terms_of_service.*/,/\/privacy_and_policy.*/],dt=function(){var e=Object(c.g)(),t=Object(c.h)(),a=Object(nt.a)();ot();var i=st.some((function(e){return t.pathname.match(e)})),o=ut.some((function(e){return t.pathname.match(e)}));return Object(n.useEffect)((function(){var e=function(){var e=Object(Se.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.b.query({query:lt.a});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),at.a(e.t0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(Se.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.b.query({query:I.h,variables:{teamId:a}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),at.a(e.t0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(Se.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.b.query({query:I.i,variables:{id:a}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),at.a(e.t0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();"/auth/cb"!==t.pathname&&(e(),n(),r())}),[a]),Object(n.useEffect)((function(){var t=function(){var t=Object(Se.a)(je.a.mark((function t(){var a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct();case 2:(a=t.sent)&&e.replace(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=setInterval((function(){!a&&U.a.isAuthenticated&&i&&t()}),5e3);return function(){return clearInterval(n)}}),[a]),o?null:!a&&i||!U.a.isAuthenticated?r.a.createElement(Qe,null):null},mt=a(513),pt=a(84),bt=Object(o.a)((function(e){return{terminal:{padding:16,borderRadius:6,margin:"20px 0 22px",backgroundColor:"#081f24",color:e.palette.palette.whiteThree},ctaContainer:{display:"flex",justifyContent:"flex-end","& > *:not(:last-child)":{marginRight:10}},subtitle:{marginTop:20},subtitle2:{color:e.palette.palette.grey2,marginTop:13},errorBox:{width:700,padding:"9px 12px",boxSizing:"border-box",height:68,backgroundColor:e.palette.palette.errorRed,borderRadius:4,position:"absolute",top:"-86px",left:0,color:"white",fontSize:12},submitButton:{minWidth:222},footerText:{color:e.palette.palette.grey2,marginBottom:10}}})),ft=function(e){var t=e.open,a=e.domain,i=e.siteId,o=e.domainId,l=e.closeModal,c=e.currentDomain,s=bt(),m=Object(u.a)().t,p=Object(n.useState)(),b=Object(k.a)(p,2),f=b[0],g=b[1],y=Object(n.useState)(!1),v=Object(k.a)(y,2),h=v[0],E=v[1],O=c.split("."),j=O.length>2?O.slice(0,O.length-2):[],S=Object(x.a)(pt.l,{client:C.b}),w=Object(k.a)(S,1)[0],I=function(){var e=Object(Se.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),g(null),e.prev=2,e.next=5,w({variables:{input:{siteId:i,domainId:o}}});case 5:l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),g(e.t0);case 11:E(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Te.a,{open:t,maxWidth:700,onClose:l,title:m("modals.dnsLink.title"),disableAutoFocus:!0,disableEnforceFocus:!0},f&&r.a.createElement("div",{className:s.errorBox},m("modals.dnsConfiguration.error")),r.a.createElement(d.a,{variant:"body2",className:s.subtitle},r.a.createElement(mt.a,{fontWeight:500},m("modals.dnsLink.subTitle"))),r.a.createElement(d.a,{variant:"body2",className:s.subtitle2},m("modals.dnsLink.subtitle2")),r.a.createElement("div",{className:s.terminal},r.a.createElement(Le,{title:m("modals.record"),detail:"CNAME"}),r.a.createElement(Le,{title:m("modals.host"),detail:["_dnslink"].concat(Object(q.a)(j)).join(".")}),r.a.createElement(Le,{title:m("modals.pointsTo"),detail:"_dnslink.".concat(a)})),r.a.createElement(d.a,{variant:"body2",className:s.footerText},m("modals.nameServer.step2.footer",{domain:a})),r.a.createElement("div",{className:s.ctaContainer},r.a.createElement(Ae.a,{onClick:l,disabled:h,buttonVariant:"secondary"},m("modals.dnsLink.cancel")),r.a.createElement(Ae.a,{onClick:I,disabled:h,loading:h,buttonVariant:"primary",className:s.submitButton},m("modals.dnsLink.verifyDns"))))};ft.defaultProps={domain:"",siteId:"",open:!1,domainId:"",currentDomain:"",closeModal:function(){}};var gt=ft,yt=a(217),vt=a(216),ht=Object(o.a)({form:{marginTop:20,marginBottom:10}}),Et=function(e){return{clientSecret:"",i18n:{title:e("modals.paymentMethod.title"),inputs:{name:{label:e("modals.paymentMethod.form.inputs.name.label"),placeholder:e("modals.paymentMethod.form.inputs.name.placeholder")},country:{label:e("modals.paymentMethod.form.inputs.country.label"),placeholder:e("modals.paymentMethod.form.inputs.country.placeholder")},cta:e("modals.paymentMethod.form.inputs.cta")},error:{title:e("modals.paymentMethod.form.errors.title"),name:e("modals.paymentMethod.form.errors.name"),country:e("modals.paymentMethod.form.errors.country"),card:e("modals.paymentMethod.form.errors.card"),internal:e("modals.paymentMethod.form.errors.internal")}}}},Ot=a(1865),jt=a(711),St=a(1862),kt=a(1891),wt=a(1892),xt=Object(o.a)({form:{display:"flex",flexDirection:"column",backgroundColor:"white"},input:{marginBottom:10},button:{marginTop:10},errorList:{margin:0,fontSize:13},alert:{marginBottom:20}}),Ct=a(988),It=a(61),Nt=Object(o.a)((function(e){return{root:{flex:1,borderRadius:4,padding:"10px 15px",alignItems:"center",backgroundColor:"white",border:"solid 1px ".concat(e.palette.palette.grey4)}}})),Dt=function(e){var t=e.onChange,a=e.className,n=Object(It.a)(),i=Nt(),o=function(e){return{iconStyle:"solid",hidePostalCode:!0,style:{base:{fontWeight:400,fontSize:"13px",fontSmoothing:"antialiased",lineHeight:"1.23",fontStyle:"normal",textTransform:"none",letterSpacing:"0.4px",color:e.palette.palette.black,iconColor:e.palette.palette.grey2,fontFamily:'"Work Sans", "Roboto", Helvetica, Arial, sans-serif',"::placeholder":{color:e.palette.palette.grey6}},invalid:{color:e.palette.palette.errorRed,iconColor:e.palette.palette.errorRed}}}}(n);return r.a.createElement("div",{className:y()(i.root,a)},r.a.createElement(yt.CardElement,{options:o,onChange:t}))};Dt.defaultProps={className:null};var Tt=Dt,Bt=function(e,t,a,n){var r=[],i=""!==e,o="none"!==t,l=T()(a,"complete",!1);return i||r.push(T()(n,"error.name","")),l||r.push(T()(n,"error.card","")),o||r.push(T()(n,"error.country","")),r},At=function(e){var t=e.i18n,a=e.onSuccess,i=e.className,o=e.clientSecret,l=Object(n.useState)(),c=Object(k.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(""),m=Object(k.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)([]),g=Object(k.a)(f,2),v=g[0],h=g[1],E=Object(n.useState)(!1),O=Object(k.a)(E,2),j=O[0],S=O[1],w=Object(n.useState)("none"),x=Object(k.a)(w,2),C=x[0],I=x[1],N=Object(yt.useStripe)(),D=Object(yt.useElements)(),B=xt(),A=function(){var e=Object(Se.a)(je.a.mark((function e(n){var r,i,l,c,u;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!((r=Bt(p,C,s,t)).length>0)){e.next=5;break}return h(r),e.abrupt("return");case 5:if(N&&D){e.next=9;break}return i=[T()(t,"error.internal","")],h(i),e.abrupt("return");case 9:return l=D.getElement(yt.CardElement),S(!0),e.prev=11,e.next=14,N.confirmCardSetup(o,{payment_method:{card:l,billing_details:{name:p,address:{country:C}}}});case 14:c=e.sent,T()(c,"error",!1)&&(u=T()(c,"error.message",""),h([u])),a(c,S),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(11),console.error(e.t0),h([T()(t,"error.internal","")]),S(!1);case 24:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e,t){v.length>0&&h([]),t(e)};return r.a.createElement("form",{onSubmit:A,className:y()(B.form,i)},v.length>0&&r.a.createElement(Ot.a,{severity:"error",className:B.alert},r.a.createElement(St.a,null,T()(t,"error.title","")),r.a.createElement("ul",{className:B.errorList},v.map((function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement(kt.a,{labelProps:{className:B.input},value:p,label:T()(t,"inputs.name.label",""),placeholder:T()(t,"inputs.name.placeholder",""),onChange:function(e){return P(e.target.value,b)}}),r.a.createElement(wt.a,{labelProps:{className:B.input},value:C,options:Ct,label:T()(t,"inputs.country.label",""),onChange:function(e){return P(e.target.value,I)},placeholder:T()(t,"inputs.country.placeholder","")}),r.a.createElement(Tt,{className:B.input,onChange:function(e){return P(e,u)}}),r.a.createElement(jt.a,{type:"submit",color:"primary",variant:"contained",className:B.button,disabled:j},T()(t,"inputs.cta","")))};At.defaultProps={i18n:{},className:null,clientSecret:"",onSuccess:function(){}};var Pt=At,Rt=a(291),Mt=function(e){var t=e.open,a=e.useTeamId,i=e.closeModal,o=e.onSuccess,l=ht(),c=Object(u.a)().t,s=Et(c).i18n,d=Object($e.b)(),m=Object(nt.a)(),p=Object(x.a)(pt.j,{client:C.b}),b=Object(k.a)(p,1)[0],f=Object(x.a)(pt.k,{client:C.b}),g=Object(k.a)(f,1)[0],y=Object(x.a)(pt.b,{client:C.b}),v=Object(k.a)(y,1)[0],h=Object($e.c)((function(e){return e.billing.clientSecretId})),E=function(){var e=Object(Se.a)(je.a.mark((function e(t){var n,r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(Object(Rt.c)()),n=!1,t.error){e.next=22;break}if(!a){e.next=16;break}return e.prev=4,e.next=7,v({variables:{teamId:m,paymentMethodId:T()(t,"setupIntent.payment_method")},refetchQueries:[{query:I.i,variables:{id:m}}]});case 7:r=e.sent,n=r.data,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:e.next=17;break;case 16:n=!0;case 17:(n?vt.c.success:vt.c.error)(c(n?"modals.paymentMethod.success":"modals.paymentMethod.error"),{autoClose:6e3}),i(),o(t);case 22:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h||function(){var e=Object(Se.a)(je.a.mark((function e(){var t,n,r,i;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a?b:g,n=a?"setupBillingIntent":"setupBillingIntentWithoutTeam",e.next=5,t({variables:Object(S.a)({},a&&{teamId:m})});case 5:r=e.sent,(i=T()(r,"data.".concat(n,".intentId")))&&d(Object(Rt.d)(i)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[]),r.a.createElement(Te.a,{open:t,maxWidth:460,onClose:function(){return i()},title:s.title,disableAutoFocus:!0,disableEnforceFocus:!0},r.a.createElement(yt.Elements,{stripe:tt},r.a.createElement(Pt,{i18n:s,onSuccess:E,className:l.form,clientSecret:h})))};Mt.defaultProps={open:!1,useTeamId:!0,onSuccess:function(){},closeModal:function(){}};var Lt=Mt,Ft=a(97),Ut=a(74),_t=a(220),Wt=Object(o.a)({buttons:{display:"flex",justifyContent:"flex-end","& > *":{marginLeft:10}},modal:{"& > div:focus":{outline:"none"}},message:{margin:"18px 0 28px 0"},alert:{margin:"15px 0"}}),Vt=function(e){var t=e.open,a=e.closeModal,i=e.itemsToRemove,o=e.redirectUrl,l=Wt(),s=Object(u.a)().t,m=Object(n.useState)({error:null,loading:!1}),p=Object(k.a)(m,2),b=p[0],f=p[1],g=Object($e.c)((function(e){return e.storage})).objects,y=Object($e.b)(),v=Object(c.g)(),h=function(e){var t=Object(q.a)(e);return e.filter((function(e){return"folder"===e.type})).forEach((function(e){var a=g.filter((function(t){var a=new RegExp("^".concat(e.fullKey)),n=e.fullKey===t.fullKey;return a.test(t.fullKey)&&!n}));t.push.apply(t,Object(q.a)(a))})),t},E=function(e){var t=new RegExp("(".concat(e.name,"/?)$"));return e.key.replace(t,"")},O=function(){var e=Object(Se.a)(je.a.mark((function e(){var t,n,r,l,c;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(Object(S.a)(Object(S.a)({},b),{},{error:null,loading:!0})),e.prev=1,e.next=4,Object(C.a)();case 4:t=e.sent,n=i[0],r=n.bucket,l=E(n),c={Prefix:l,Bucket:r},t.listObjectsV2(c,function(){var e=Object(Se.a)(je.a.mark((function e(t,n){var l,c,s;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}throw at.a(t),t;case 3:return l=n.Contents.map((function(e){return Object(_t.a)(e,r)})),c=l.filter((function(e){var t=!1;return i.forEach((function(a){if("folder"===a.type){var n=a.key.slice(0,a.key.length-1);new RegExp("^(".concat(n,"/\\w+)")).test(e.key)&&(t=!0)}a.key===e.key&&(t=!0)})),t})),e.next=7,Object(Ut.l)({Bucket:r,Delete:{Objects:c.map((function(e){return{Key:e.key}}))}});case 7:s=h(i),y(Object(Ut.r)(s)),f(Object(S.a)(Object(S.a)({},b),{},{loading:!1})),o&&v.push(o),a();case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),at.a(e.t0),console.error("Delete Site error: ",e.t0.message),f(Object(S.a)(Object(S.a)({},b),{},{loading:!1,error:s("modals.deleteStoredItems.error")}));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Te.a,{open:t,maxWidth:472,onClose:a,className:l.modal,title:s("modals.deleteStoredItems.title")},b.error&&r.a.createElement(Ft.a,{type:"error",message:b.error,className:l.alert,icon:["fal","times-circle"]}),r.a.createElement(d.a,{className:l.message,variant:"body2"},i.length>1?s("modals.deleteStoredItems.messageManyFiles",{filesNumber:i.length}):s("modals.deleteStoredItems.messageOneFile",{fileName:i[0].name})),r.a.createElement("div",{className:l.buttons},r.a.createElement(Ae.a,{onClick:a,buttonVariant:"secondary",disabled:b.loading},s("common.cancel")),r.a.createElement(Ae.a,{buttonVariant:"primary",loading:b.loading,onClick:O},s("common.confirm"))))};Vt.defaultProps={redirectUrl:null};var zt=Vt,Gt=a(82),Kt=Object(o.a)({buttons:{display:"flex",justifyContent:"flex-end","& > *":{marginLeft:10}},modal:{color:"red","& > div:focus":{outline:"none"}},alert:{margin:"15px 0"},input:{margin:"24px 0 8px"},form:{display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:150}}),Ht=new RegExp('^[^\\/?%*:|"<>]*$'),qt=function(e){var t=e.open,a=e.closeModal,i=Kt(),o=Object(u.a)().t,l=Object(c.h)(),s=Object(n.useState)({error:null,loading:!1,inputValue:"",inputError:""}),d=Object(k.a)(s,2),m=d[0],p=d[1],b=Object($e.b)(),f=function(){var e=Object(Se.a)(je.a.mark((function e(t){var n,r,i,s,u,d,f,g,y;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Object(c.f)(l.pathname,"/teams/:teamId/storage/:bucketName/folder/*"),r=Object(c.f)(l.pathname,"/teams/:teamId/storage/:bucketName"),i=T()(n||r,"params",{}),s=i.bucketName,u=i[0],f=(d=void 0===u?"":u)?"".concat(d.replace(/^\//,""),"/"):"",g="".concat(f).concat(m.inputValue,"/"),y={bucket:s,teamId:$.l.getAccountIdFromUrl()},p(Object(S.a)(Object(S.a)({},m),{},{loading:!0})),e.next=10,Object(C.a)();case 10:e.sent.putObject({Bucket:s,Key:g},(function(e){e?(y.error=e.message,window.analytics.track("Storage create folder failed",y),at.a(e),p(Object(S.a)(Object(S.a)({},m),{},{error:o("modals.createFolder.error"),loading:!1}))):(window.analytics.track("Storage create folder confirmed",y),b(Object(Ut.k)(g,s)),a())}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Te.a,{open:t,maxWidth:472,onClose:a,className:i.modal,title:o("modals.createFolder.title")},m.error&&r.a.createElement(Ft.a,{type:"error",message:m.error,className:i.alert,icon:["fal","times-circle"]}),r.a.createElement("form",{id:"createFolder",onSubmit:f,className:i.form},r.a.createElement(Gt.a,{autoFocus:!0,value:m.value,label:o("modals.createFolder.inputLabel"),onChange:function(e){var t=e.target.value,a=Ht.test(t)?"":o("modals.createFolder.invalidName");p(Object(S.a)(Object(S.a)({},m),{},{inputValue:e.target.value,inputError:a}))},className:i.input,error:!!m.inputError,errorMessage:m.inputError}),r.a.createElement("div",{className:i.buttons},r.a.createElement(Ae.a,{onClick:a,buttonVariant:"secondary",disabled:m.loading},o("common.cancel")),r.a.createElement(Ae.a,{type:"submit",form:"createFolder",buttonVariant:"primary",loading:m.loading,disabled:!m.inputValue||!!m.inputError},o("common.confirm")))))},$t=a(1033),Yt=Object(o.a)((function(e){return{dropzoneArea:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:485,height:165,margin:"28px auto",backgroundImage:"url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='6' ry='6' stroke='%23CECECEFF' stroke-width='4' stroke-dasharray='6%2c 14' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\")",borderRadius:6,cursor:"pointer","&:focus":{outline:"none"}},dropzoneActive:{border:"2px solid ".concat(e.palette.palette.linkBlue),backgroundImage:"none"},message:{marginTop:13},buttons:{display:"flex",margin:"18px 18px 0"},cancelBtn:{margin:"0 10px 0 auto"},link:{color:e.palette.palette.linkBlue},icon:{display:"flex",fontSize:46}}})),Jt=function(e){var t=e.onlyButton,a=e.onSelectFiles,n=e.closeModal,i=Yt(),o=Object(u.a)().t,l=Object($t.a)({onDrop:a}),c=l.getRootProps,s=l.getInputProps,m=l.isDragActive;return t?r.a.createElement("div",c(),r.a.createElement("input",s()),r.a.createElement(Ae.a,{component:"div",buttonVariant:"primary"},o("modals.uploadFiles.addFiles"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({className:y()(i.dropzoneArea,Object(w.a)({},i.dropzoneActive,m))},c()),r.a.createElement("input",s()),r.a.createElement(ze.default,{icon:["fal","upload"],className:i.icon}),r.a.createElement(d.a,{className:i.message,variant:"body2"},o("modals.uploadFiles.dragFiles"),r.a.createElement("span",{className:i.link},o("modals.uploadFiles.uploadLink")))),r.a.createElement("div",{className:i.buttons},r.a.createElement(Ae.a,{onClick:n,buttonVariant:"secondary",className:i.cancelBtn},o("common.cancel")),r.a.createElement(Ae.a,{buttonVariant:"primary",disabled:!0},o("common.confirm"))))};Jt.defaultProps={onlyButton:!1,closeModal:function(){}};var Qt=Jt,Zt=Object(o.a)((function(e){return{root:{display:"flex",padding:"8px 27px",marginTop:18,backgroundColor:e.palette.primary.main},text:{color:e.palette.palette.whiteThree,"&:not(:last-child)":{marginRight:28,flexShrink:0}}}})),Xt=function(e){var t=e.filesVisualRepresentation,a=e.targetPath,n=Zt(),i=Object(u.a)().t,o=Object.entries(t).reduce((function(e,t){var a=Object(k.a)(t,2),n=a[0],r=a[1],i=n.startsWith("/")?"numberOfFolders":"numberOfFiles";return Object(S.a)(Object(S.a)({},e),{},Object(w.a)({totalSize:e.totalSize+r.size},i,e[i]+1))}),{totalSize:0,numberOfFolders:0,numberOfFiles:0}),l=[{label:i("modals.uploadFiles.files"),value:o.numberOfFiles},{label:i("modals.uploadFiles.folders"),value:o.numberOfFolders},{label:i("modals.uploadFiles.totalSize"),value:Object($.b)(o.totalSize)},{label:i("modals.uploadFiles.targetPath"),value:a}];return r.a.createElement("div",{className:n.root},l.map((function(e){var t=e.label,a=e.value;return r.a.createElement(d.a,{key:t,variant:"caption",className:n.text,noWrap:!0},t,"\xa0",r.a.createElement(mt.a,{fontWeight:600,component:"span"},a))})))},ea=a(1873),ta=a(293),aa=a(91),na=Object(o.a)((function(e){return{tableRow:{"& > *":{borderBottom:"none",borderTop:"1px solid ".concat(e.palette.palette.extraLightGray)},"& > *:nth-child(1)":{paddingLeft:28,paddingRight:10,minWidth:310,maxWidth:310},"& > *:nth-child(2)":{minWidth:272,maxWidth:272},"& > *:nth-child(3)":{minWidth:37,maxWidth:37}},textEllipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},label:{marginLeft:10}}})),ra=function(e){var t=e.head,a=e.rows,n=e.onRemoveClick,i=na();return r.a.createElement(ea.a,{head:t,rows:a,renderRow:function(e){var t=e.row,a=e.onRemoveClick;return r.a.createElement(aa.TableRow,{hover:!0,key:t.id,className:i.tableRow},r.a.createElement(aa.FileCell,{type:t.type,className:i.fileCell},r.a.createElement("span",{className:i.textEllipsis},t.name),t.label&&r.a.createElement(d.a,{color:"textSecondary",variant:"subtitle2",component:"span",className:i.label},t.label)),r.a.createElement(aa.TableCell,null,t.size),r.a.createElement(aa.TableCell,null,!t.label&&r.a.createElement(ta.a,{onClick:function(){return a(t)},disableRipple:!0},r.a.createElement(v.a,{icon:["far","times"],size:8}))))},renderHead:function(e){return r.a.createElement(aa.TableRow,{className:i.tableRow},e.head.map((function(e){return r.a.createElement(aa.TableCell,{key:e},e)})),r.a.createElement(aa.TableCell,null))},onRemoveClick:n,renderLoadingRows:function(){return null}})};ra.defaultProps={head:[],rows:[],onRemoveClick:function(){}};var ia=ra,oa=Object(o.a)((function(){return{root:{minHeight:150,maxHeight:"calc(100vh - 350px)",overflow:"auto",marginTop:11},buttons:{display:"flex",margin:"18px 18px 0"},cancelBtn:{margin:"0 10px 0 auto"}}})),la=function(e){var t=e.filesVisualRepresentation,a=e.files,n=e.updateSelectedFiles,i=e.upload,o=oa(),l=Object(u.a)().t,c=[l("common.name"),l("common.size")],s=Object.entries(t).map((function(e){var t=Object(k.a)(e,2),a=t[0],n=t[1];return{id:a,name:a.replace(/^\//,""),size:Object($.b)(n.size),label:n.label,type:Object($.d)(a)}}));return r.a.createElement("form",{id:"UploadFiles",onSubmit:function(e){e.preventDefault(),i()}},r.a.createElement("div",{className:o.root},r.a.createElement(ia,{head:c,onRemoveClick:function(e){n(a.filter((function(t){return!t.path.startsWith(e.id)})))},rows:s})),r.a.createElement("div",{className:o.buttons},r.a.createElement(Qt,{onSelectFiles:function(e){n([].concat(Object(q.a)(a),Object(q.a)(e)))},onlyButton:!0}),r.a.createElement(Ae.a,{onClick:function(){n([])},buttonVariant:"secondary",className:o.cancelBtn},l("common.cancel")),r.a.createElement(Ae.a,{type:"submit",form:"UploadFiles",buttonVariant:"primary"},l("common.confirm"))))},ca=a(418),sa=a.n(ca),ua=a(196),da=Object(o.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"19px 0 7px"},logo:{width:51,marginBottom:3},buttons:{display:"flex",justifyContent:"flex-end",margin:"18px 18px 0"}}),ma=function(e){var t=e.files,a=e.cancel,i=e.onCompleteUpload,o=e.onError,l=e.bucket,c=e.prefix,s=e.markFileAsUploaded,m=da(),p=Object(u.a)().t,b=Object($e.b)(),f=t.filter((function(e){return!e.uploaded})),g=function(){var e=Object(Se.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c?C.b.query({query:ua.b,variables:{bucket:l,key:"".concat(c,"/")},fetchPolicy:"network-only"}):C.b.query({query:ua.a,variables:{slug:l},fetchPolicy:"network-only"}),i()}catch(t){o(p("modals.uploadFiles.uploadingError"))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=[];return function(){var t=Object(Se.a)(je.a.mark((function t(){var a,n,r;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.a)();case 2:a=t.sent,n=c?"".concat(c,"/"):"",r=function(t){var r={Bucket:l,Key:"".concat(n).concat(t.path.replace(/^\//,"")),ContentType:t.type,Body:t,ACL:"public-read"},i=new sa.a.ManagedUpload({params:r,service:a});return i.send((function(a){if(a)return at.a(a),void o(p("modals.uploadFiles.uploadingError"));s(t),b(Object(Ut.t)(r)),0===(e=e.filter((function(e){return i!==e}))).length&&g()})),i},e=f.map(r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e.forEach((function(e){e.send((function(){})),e.abort()}))}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.root},r.a.createElement("img",{alt:"fleek-loading",src:"/loading-logo.svg",className:m.logo}),r.a.createElement(d.a,{variant:"h6"},r.a.createElement(X.a,{i18nKey:"modals.uploadFiles.uploadingProgress",values:{uploadedItems:t.length-f.length,totalItemsNumber:t.length},components:[r.a.createElement(mt.a,{fontWeight:"600",component:"span"})]})),r.a.createElement(d.a,{variant:"subtitle1",color:"textSecondary"},p("modals.uploadFiles.filesUploaded"))),r.a.createElement("div",{className:m.buttons},r.a.createElement(Ae.a,{onClick:a,buttonVariant:"secondary"},p("common.cancel"))))},pa=Object(o.a)({modal:{"& > div":{padding:"23px 18px 18px","&:focus":{outline:"none"}}},alert:{margin:"15px 0"},fullWidth:{margin:"18px -18px 0"}}),ba=function(e){var t=e.open,a=e.closeModal,i=e.bucket,o=e.prefix,l=pa(),c=Object(u.a)().t,s=Object(n.useState)({error:null,selectedFiles:[],uploadingFiles:!1}),d=Object(k.a)(s,2),m=d[0],p=d[1];Object(n.useEffect)((function(){return U.a.disableAuthTokenRefreshing(),function(){U.a.enableAuthTokenRefreshing()}}),[]);var b=function(e){p(Object(S.a)(Object(S.a)({},m),{},{selectedFiles:[].concat(Object(q.a)(m.selectedFiles),Object(q.a)(e))}))},f=function(){window.analytics.track("Storage upload confirmed",{bucket:i,teamId:$.l.getAccountIdFromUrl()}),p(Object(S.a)(Object(S.a)({},m),{},{uploadingFiles:!0}))},g=function(){window.analytics.track("Storage upload cancelled",{bucket:i,teamId:$.l.getAccountIdFromUrl()}),p(Object(S.a)(Object(S.a)({},m),{},{uploadingFiles:!1}))},y=function(e){p(Object(S.a)(Object(S.a)({},m),{},{selectedFiles:e}))},v=function(e){window.analytics.track("Storage upload failed",{bucket:i,error:e,teamId:$.l.getAccountIdFromUrl()}),p(Object(S.a)(Object(S.a)({},m),{},{error:e,uploadingFiles:!1}))},h=function(e){p((function(t){var a=t.selectedFiles.map((function(t){return t.path===e.path?{path:t.path,name:t.name,size:t.size,uploaded:!0}:t}));return Object(S.a)(Object(S.a)({},t),{},{selectedFiles:a})}))},E=function(e,t){return e.reduce((function(a,n){if(n.path.startsWith("/")){var r=n.path.split("/"),i=Object(k.a)(r,2)[1],o="/".concat(i),l=n.uploaded&&t("modals.uploadFiles.uploaded"),c=T()(a,o,{size:0,label:T()(e,"0.label",l)});return Object(S.a)(Object(S.a)({},a),{},Object(w.a)({},o,{size:n.size+c.size,label:c.label!==l?t("modals.uploadFiles.partiallyUploaded"):l}))}return Object(S.a)(Object(S.a)({},a),{},Object(w.a)({},n.name,{size:n.size,label:n.uploaded&&t("modals.uploadFiles.uploaded")}))}),{})}(m.selectedFiles,c);return r.a.createElement(Te.a,{open:t,maxWidth:620,onClose:a,className:l.modal,title:c("modals.uploadFiles.title"),disableBackdropClick:!!m.selectedFiles.length},r.a.createElement(r.a.Fragment,null,m.error&&r.a.createElement(Ft.a,{type:"error",message:m.error,className:l.alert,icon:["fal","times-circle"]}),r.a.createElement("div",{className:l.fullWidth},r.a.createElement(Xt,{filesVisualRepresentation:E,targetPath:"".concat(i,"/").concat(o)}),0===m.selectedFiles.length?r.a.createElement(Qt,{onSelectFiles:b,closeModal:a}):m.uploadingFiles?r.a.createElement(ma,{markFileAsUploaded:h,files:m.selectedFiles,cancel:g,onCompleteUpload:a,onError:v,bucket:i,prefix:o}):r.a.createElement(la,{bucket:i,files:m.selectedFiles,updateSelectedFiles:y,upload:f,filesVisualRepresentation:E}))))},fa=a(1855),ga=Object(o.a)((function(e){return{root:{"& > div:focus":{outline:"none"}},content:{padding:"20px 0"},warning:{height:24,width:"100%",borderRadius:3,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.palette.fadeStarYellow,"& *":{color:e.palette.palette.starYellow}},buttons:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:"0 -5px","& > button":{margin:"0 5px"}},iconContainer:{marginRight:15,"& > div":{display:"flex",cursor:"pointer"},"& > div > svg":{width:"14px !important",color:e.palette.palette.linkBlue}}}})),ya=function(e){var t=e.t,a=e.type,n=e.text;return function(e){e.preventDefault(),navigator.clipboard.writeText(n),vt.c.success(t("modals.apiDetails.copy",{type:a}))}},va=function(e){var t=e.open,a=e.closeModal,n=ga(),i=Object(u.a)().t,o=r.a.useState({error:null,loading:!0,apiKey:"",apiSecret:""}),l=Object(k.a)(o,2),c=l[0],s=l[1],m=Object(x.a)(pt.d,{client:C.b,update:function(e,t){var a=t.data.generateApiKey;try{var n=e.readQuery({query:I.b}),r=[].concat(Object(q.a)(n.getApiKeys.apiKeys),[Object(S.a)({},a)]);e.writeQuery({query:I.b,data:Object(S.a)(Object(S.a)({},n),{},{getApiKeys:Object(S.a)(Object(S.a)({},n.getApiKeys),{},{apiKeys:r})})})}catch(i){console.error("Error when trying to update GET_API_KEYS query: ",i.message)}}}),p=Object(k.a)(m,1)[0];return r.a.useEffect((function(){(function(){var e=Object(Se.a)(je.a.mark((function e(){var t,a,n,r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:t=e.sent,a=t.data,n=T()(a,"generateApiKey.key",""),r=T()(a,"generateApiKey.secret",""),s(Object(S.a)(Object(S.a)({},c),{},{apiKey:n,apiSecret:r,loading:!1})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Generate api error: ",e.t0.message),vt.c.error(i("modals.apiDetails.error")),s(Object(S.a)(Object(S.a)({},c),{},{loading:!1}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(Te.a,{open:t,maxWidth:472,onClose:a,className:n.root,title:i("modals.apiDetails.title")},r.a.createElement("div",{className:n.content},r.a.createElement(Gt.a,{value:c.apiKey,label:i("modals.apiDetails.inputs.apiKey"),InputProps:{readOnly:!0,endAdornment:r.a.createElement(fa.a,{position:"end"},r.a.createElement("div",{className:n.iconContainer},r.a.createElement(ze.default,{icon:["fal","copy"],onClick:ya({t:i,type:"key",text:c.apiKey})})))}}),r.a.createElement(Gt.a,{value:c.apiSecret,label:i("modals.apiDetails.inputs.apiSecret"),InputProps:{readOnly:!0,endAdornment:r.a.createElement(fa.a,{position:"end"},r.a.createElement("div",{className:n.iconContainer},r.a.createElement(ze.default,{icon:["fal","copy"],onClick:ya({t:i,type:"secret",text:c.apiSecret})})))}}),r.a.createElement("div",{className:n.warning},r.a.createElement(d.a,{variant:"subtitle2"},i("modals.apiDetails.warning")))),r.a.createElement("div",{className:n.buttons},r.a.createElement(Ae.a,{onClick:a,disabled:c.loading,buttonVariant:"secondary"},i("common.cancel")),r.a.createElement(Ae.a,{onClick:a,loading:c.loading,disabled:c.loading,buttonVariant:"primary"},i("common.done"))))};va.defaultProps={open:!1};var ha,Ea=va,Oa=a(54),ja=(ha={},Object(w.a)(ha,Oa.e,gt),Object(w.a)(ha,Oa.g,Lt),Object(w.a)(ha,Oa.d,zt),Object(w.a)(ha,Oa.c,qt),Object(w.a)(ha,Oa.h,ba),Object(w.a)(ha,Oa.a,Ea),ha),Sa=function(){var e=Object($e.b)(),t=Object($e.c)((function(e){return e.modal}));if(!t.open)return null;var a=ja[t.id];return a?r.a.createElement(a,Object.assign({},t.props,{closeModal:function(){return e(Object(Oa.i)())},open:!0})):null},ka=a(270),wa=a(1876),xa=Object(o.a)((function(){return{wrapper:{position:"sticky",top:0,alignSelf:"flex-start",flexBasis:212,flexShrink:0,marginRight:21}}})),Ca=function(e){var t=xa();return r.a.createElement("div",{className:t.wrapper},r.a.createElement(wa.a,e))};a.d(t,"f",(function(){return ae})),a.d(t,"k",(function(){return ne})),a.d(t,"a",(function(){return Ie})),a.d(t,"i",(function(){return Ne.a})),a.d(t,"v",(function(){return De.a})),a.d(t,"q",(function(){return $.f})),a.d(t,"s",(function(){return $.i})),a.d(t,"r",(function(){return $.h})),a.d(t,"p",(function(){return $.e})),a.d(t,"n",(function(){return $.b})),a.d(t,"o",(function(){return $.c})),a.d(t,"t",(function(){return $.l})),a.d(t,"m",(function(){return $.a})),a.d(t,"d",(function(){return Ue})),a.d(t,"c",(function(){return Ve})),a.d(t,"l",(function(){return qe})),a.d(t,"h",(function(){return Qe})),a.d(t,"g",(function(){return dt})),a.d(t,"u",(function(){return nt.a})),a.d(t,"j",(function(){return Sa})),a.d(t,"b",(function(){return ka.a})),a.d(t,"e",(function(){return Ca}))},133:function(e,t,a){"use strict";var n=a(166),r=a.n(n);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search||window.location.search;t&&""!==t||(t=window.location.href.split("?")[1]||"");var a=r.a.parse(t),n=a.accountId,i=void 0===n?null:n;return"undefined"===i||"null"===i?null:i}},14:function(e,t,a){"use strict";var n,r=a(4),i=a.n(r),o=a(26),l=a(6),c=a.n(l),s=a(418),u=a.n(s),d=a(107),m=a(84),p=a(68),b=a(1864),f=a(1866),g=a(67),y=a(561),v=a(963),h=a(53),E=a(967),O=new E.a({uri:p.a.newApi.baseURL}),j=a(289),S=a(421),k=a(102),w=a(103),x=a(105),C=a(214),I=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(e,n,r,i,o){var l;return Object(k.a)(this,a),(l=t.call(this,JSON.stringify({message:e,operationName:n,variables:r,errorType:i,statusCode:o}))).name="GQLError",l}return a}(Object(C.a)(Error)),N=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).name="GQLTokenExpiredError",e}return a}(I),D=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).name="GQLUnauthorizedError",e}return a}(I),T=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).name="GQLNetworkError",e}return a}(I),B=a(11),A=["Token has expired."],P=Object(S.a)((function(e){console.log("testErr",e);var t=e.operation,a=e.networkError,n=e.graphQLErrors;if(a){var r="[Network error - ".concat(a.statusCode,"] Operation: ").concat(t.operationName,", Message: ").concat(a.message," - ");d.a(new T(a.message,t.operationName,t.variables,"NetworkError",a.statusCode)),console.error(r)}if(n){var i=!1,o=!1;if(n.forEach((function(e){var a=e.path,n=e.message,r=e.errorType,l=e.locations,c="[GraphQL error]: Operation: ".concat(t.operationName,", Message: ").concat(n,", Location: ").concat(JSON.stringify(l),", Path: ").concat(a);console.error(c),i="Unauthorized"===r,o=A.includes(n);var s=[n,t.operationName,t.variables,r,200];i?d.a(Object(j.a)(D,s)):o?d.a(Object(j.a)(N,s)):d.a(Object(j.a)(I,s))})),i)return void(window.location.hash=B.t.buildUrl(null,"/error/404"));o&&(h.a.clean(),h.a.authenticate("".concat(window.location.href.split("/#/")[1])))}})),R={url:p.a.newApi.baseURL,region:"us-west-2",auth:{type:"OPENID_CONNECT",jwtToken:function(){return h.a.accessToken?h.a.accessToken:null}}},M=g.ApolloLink.from([P,Object(y.createAuthLink)(R),Object(v.createSubscriptionHandshakeLink)(R,O)]),L=new b.a({link:M,cache:new f.a}),F=function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,r,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.config.credentials.accessKeyId.length){e.next=2;break}return e.abrupt("return",n);case 2:return t="",a="",r="",e.prev=5,e.next=8,L.mutate({mutation:m.e});case 8:o=e.sent,l=o.data,t=c()(l,"generateTempApiKey.key",""),r=c()(l,"generateTempApiKey.secret",""),a=c()(l,"generateTempApiKey.sessionToken",""),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),d.a(e.t0),console.log("Error when trying to get the aws credentials: ",e.t0.message);case 19:return n=new u.a({s3ForcePathStyle:!0,signatureVersion:"v4",endpoint:p.a.s3Client.baseURL,credentials:{accessKeyId:t,sessionToken:a,secretAccessKey:r}}),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}(),U=a(51),_=a(974),W=["jwt expired","JWT token is invalid or has expired."],V=new _.a({uri:p.a.oldApi.wsBaseURL,options:{reconnect:!0,reconnectionAttempts:10,connectionCallback:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&W.includes(t.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),connectionParams:function(){return{Authorization:"Bearer ".concat(h.a.accessToken)}}}}),z=new E.a({uri:p.a.oldApi.baseURL}),G=a(5),K=a(210),H=a(100),q=["Token has expired.","User was not supplied","Context creation failed: jwt expired","Context creation failed: JWT token is invalid or has expired."],$=new(function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).setTokenHeader=function(e){var t=e.getContext().headers,a=void 0===t?{}:t;e.setContext({headers:Object(G.a)(Object(G.a)({},a),{},{authorization:"Bearer ".concat(h.a.accessToken)})})},e.isJwtExpired=function(e){var t=e.errors;return(void 0===t?[]:t).filter((function(e){return q.includes(e.message)})).length>0},e}return Object(K.a)(a,[{key:"request",value:function(e,t){var a=this;return this.setTokenHeader(e),new H.a((function(n){var r;try{r=t(e).subscribe({next:n.next.bind(n),complete:n.complete.bind(n),error:function(e){var t=e.result,r=void 0===t?{}:t;return a.isJwtExpired(r)?h.a.authenticate("".concat(window.location.href.split("/#/")[1])):n.error(e)}})}catch(i){n.error(i)}return function(){r&&r.unsubscribe()}}))}}]),a}(g.ApolloLink)),Y=Object(S.a)((function(e){var t,a=e.networkError,n=e.graphQLErrors;(a&&(t="JWT_EXPIRED"===a.message),n)&&(t=!!n.find((function(e){return"Authorization Error: Non authenticated request"===e.message})));t&&h.a.authenticate("".concat(window.location.href.split("/#/")[1]))})),J=a(975),Q=Object(J.a)({useGETForHashedQueries:!0}),Z=Object(g.split)((function(e){var t=e.query,a=Object(U.getMainDefinition)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r}),V,Object(g.from)([Y,$,Q,z])),X=new b.a({link:Z,cache:new f.a});a.d(t,"a",(function(){return F})),a.d(t,"c",(function(){return X})),a.d(t,"b",(function(){return L}))},1490:function(e,t){},1497:function(e,t){},151:function(e,t,a){"use strict";var n=a(60),r=a(11),i=function(){var e=Object(n.h)();return r.t.getAccountIdFromUrl(e)};a.d(t,"a",(function(){return i}))},1511:function(e,t){},1513:function(e,t){},1533:function(e,t){},154:function(e,t,a){"use strict";var n=a(68);t.a=function(){return n.a.ethereum}},1547:function(e,t){},1549:function(e,t){},1581:function(e,t){},1586:function(e,t){},1588:function(e,t){},1612:function(e,t){},1749:function(e,t){},1765:function(e,t){},1787:function(e,t,a){},1788:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(1037),o=a(50),l=a.n(o),c=a(1863),s=a(338),u=a(853),d=a(168),m=a(43),p=a(1850),b=a(1849),f=a(285),g=a(11),y=a(31),v=a(60),h=a(215),E=a(996),O=a(350),j={loading:!1},S={test:!0},k=a(5),w=a(54),x={id:null,open:!1,props:null},C=a(291),I={clientSecretId:null},N=a(29),D=a(38),T=a(997),B=a.n(T),A=a(20),P=a(74),R={error:null,objects:[],buckets:{error:null,isLoading:!1},loading:!0,searchTerm:"",actionOptions:[{id:"open",name:"Open",access:{folder:!1,file:!0}},{id:"view",name:"View",access:{folder:!0,file:!0}},{id:"rename",name:"Rename",access:{folder:!1,file:!1}},{id:"download",name:"Download",access:{folder:!1,file:!0}},{id:"copy-path",name:"Copy Path",access:{folder:!1,file:!0}}]},M=Object(h.c)({loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.a:return{loading:t.payload};default:return e}},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return t.type,e},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.f:return Object(k.a)(Object(k.a)({},t.payload),{},{open:!0});case w.b:return x;default:return e}},billing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.b:return{clientSecretId:t.payload};case C.a:return I;default:return e}},storage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.j:return Object(k.a)(Object(k.a)({},e),{},{searchTerm:t.value});case P.h:return Object(k.a)(Object(k.a)({},e),{},{loading:t.payload});case P.g:return Object(k.a)(Object(k.a)({},e),{},{loading:!1,error:t.payload});case P.j:return Object(k.a)(Object(k.a)({},e),{},{objects:e.objects.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{selected:!1})}))});case P.d:var a=t.payload,n=void 0===a?{}:a,r=e.objects.map((function(e){return e.fullKey===n.fullKey?n:e}));return Object(k.a)(Object(k.a)({},e),{},{objects:r});case P.e:var i=t.payload,o=void 0===i?[]:i,l=e.objects.map((function(e){return o.find((function(t){return e.fullKey===t.fullKey}))||e}));return Object(k.a)(Object(k.a)({},e),{},{objects:l});case P.f:var c=t.payload,s=void 0===c?[]:c,u=e.objects.filter((function(e){return!s.find((function(t){return e.fullKey===t.fullKey}))}));return Object(k.a)(Object(k.a)({},e),{},{objects:u});case P.i:var d=B()([].concat(Object(D.a)(e.objects),Object(D.a)(t.payload)),"fullKey");return Object(k.a)(Object(k.a)({},e),{},{objects:d,loading:!1});case P.a:return Object(k.a)(Object(k.a)({},e),{},{buckets:Object(k.a)(Object(k.a)({},e.buckets),{},{isLoading:!1,error:t.error})});case P.c:return Object(k.a)(Object(k.a)({},e),{},{buckets:Object(k.a)(Object(k.a)({},e.buckets),{},Object(N.a)({isLoading:!1},t.bucket.Name,Object(k.a)({},t.bucket)))});case P.b:return Object(k.a)(Object(k.a)({},e),{},{buckets:Object(k.a)(Object(k.a)({},e.buckets),{},{isLoading:!0})});default:return e}}}),L=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):h.d)(Object(h.a)(E.a)),F=Object(h.e)(M,{},L),U=a(4),_=a.n(U),W=a(26),V=a(13),z=a(6),G=a.n(z),K=a(14),H=a(36),q=a(62),$=a(53),Y=function(){var e=Object(n.useState)({teamId:g.t.getAccountIdFromUrl(),loading:!g.t.getAccountIdFromUrl(),error:!1}),t=Object(V.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){if($.a.isAuthenticated){var e=function(){var e=Object(W.a)(_.a.mark((function e(){var t,n,r,o,l,c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.b.query({query:H.e,fetchPolicy:"network-only"});case 3:t=e.sent,n=t.data,r=G()(n,"getMemberships.memberships",[])||[],o=Object(D.a)(r).sort(q.g),l=Object(V.a)(o,1),c=l[0],s=G()(c,"teamId",null)||null,i(Object(k.a)(Object(k.a)(Object(k.a)({},a),s&&{teamId:s}),{},{loading:!s,error:!s})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval((function(){a.loading&&!a.teamId&&e()}),5e3);return function(){return clearInterval(t)}}$.a.authenticate()}),[]),a.loading?r.a.createElement(g.h,null):a.error?r.a.createElement(v.a,{to:"/error/500"}):r.a.createElement(v.a,{to:g.t.buildUrl({accountId:a.teamId},"/teams/".concat(a.teamId,"/sites"))})},J=a(117),Q=a(1840),Z=a(1877),X=a(283),ee=a.n(X),te=a(17),ae=a.n(te),ne=a(30),re=a(339),ie=a(638),oe=Object(ie.a)((function(e){return{icon:{display:"flex",fontSize:12},button:{"&&& *":{color:e.palette.palette.grey2},minWidth:"unset",padding:0,height:20,marginBottom:10,"&&& span":{height:10}},backButtonText:{marginLeft:10}}})),le=function(e){var t=e.onClick,a=e.buttonText,n=Object(v.g)(),i=Object(Q.a)().t,o=oe();return r.a.createElement(ae.a,{onClick:t||n.goBack,overrideClass:{button:o.button}},r.a.createElement(ne.default,{icon:["fal","long-arrow-left"],color:"inherit",className:o.icon}),r.a.createElement(re.a,{variant:"body2",className:o.backButtonText},a||i("common.back")))};le.defaultProps={onClick:void 0,buttonText:void 0};var ce=le,se=a(28),ue=a(24),de=a(25),me=a.n(de),pe=a(65);function be(){var e=Object(ue.a)(["\n  mutation addSite($input: AddSiteInput!) {\n    addSite( input: $input ) {\n      ...SiteDetail\n    }\n  }\n\n  ","\n"]);return be=function(){return e},e}var fe=me()(be(),pe.c),ge=a(184),ye=function(e,t){var a=t.data.addSite,n=g.t.getAccountIdFromUrl();try{var r=e.readQuery({query:ge.a,variables:{teamId:n,limit:A.h}}),i=Object(k.a)(Object(k.a)({},r),{},{getSitesByTeam:Object(k.a)(Object(k.a)({},r.getSitesByTeam),{},{sites:[a].concat(Object(D.a)(r.getSitesByTeam.sites))})});e.writeQuery({query:ge.a,variables:{teamId:n,limit:A.h},data:i})}catch(o){console.log("Error: updating sites cache(GET_SITES_BY_TEAM_QUERY):",o)}},ve=function(){var e=Object(v.g)();return Object(se.a)(fe,{client:K.b,update:ye,onCompleted:function(t){return a=t.addSite.slug,n=t.addSite.latestDeploy.id,e.push(g.t.buildUrl(null,"/sites/".concat(a,"/deploys/").concat(n),["buildOptionsKey"]));var a,n}})},he=Object(ie.a)((function(){return{container:{maxWidth:950}}})),Ee=a(408),Oe=a(179),je=Object(ie.a)((function(e){return{container:{"& > div:hover":{cursor:"default"},display:"flex",flexDirection:"column"},textContainer:{marginBottom:15},title:{fontWeight:500},subtitle:{color:e.palette.palette.grey2,lineHeight:1.2}}})),Se=function(e){var t=e.title,a=e.subtitle,n=e.children,i=je();return r.a.createElement("div",{className:i.container},r.a.createElement("div",{className:i.textContainer},r.a.createElement(re.a,{variant:"body1",className:i.title},t),r.a.createElement(re.a,{variant:"body2",className:i.subtitle},a)),n)},ke=Object(ie.a)({buttonContainer:{width:284,"&&& > button span":{height:18}},icon:{display:"flex"},buttonText:{marginLeft:10},button:{minWidth:240}}),we=a(133);function xe(){var e=Object(ue.a)(["\n  query getGithubInstallationUrl($teamId: ID!) {\n    getGithubInstallationUrl(teamId: $teamId)\n  }\n"]);return xe=function(){return e},e}var Ce=me()(xe()),Ie=function(){var e=Object(n.useState)(!1),t=Object(V.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),o=Object(V.a)(i,2),l=o[0],c=o[1],s=Object(we.a)(),u=Object(se.b)(Ce,{variables:{teamId:s},client:K.b}).data,d=G()(u,"getGithubInstallationUrl");if(d&&l){var m=(window.innerWidth-1200)/2,p=(window.innerHeight-640)/2;window.open(d,"github-authorization-window","width=".concat(1200,",height=").concat(640,",left=").concat(m,",top=").concat(p)),c(!1)}var b=function(e){var t=e.storageArea.getItem("authorizationCompleted");e.storageArea.removeItem("authorizationCompleted"),t&&r(!0)};Object(n.useEffect)((function(){return window.addEventListener("storage",b),function(){return window.removeEventListener("storage",b)}}),[]),Object(n.useEffect)((function(){a&&(c(!1),r(!1))}),[a]);return{isSettingPermissionsCompleted:a,openGithubPermissionsPopup:function(){c(!0)}}},Ne=function(e){var t=Object(n.useRef)(!1),a=Ie(),r=a.isSettingPermissionsCompleted,i=a.openGithubPermissionsPopup;r&&(t.current=!0);var o=Object(Oe.a)({skip:!t.current,fetchPolicy:"network-only"}),l=Object(V.a)(o,2),c=l[0],s=l[1];return!c&&s&&e(),i},De=function(e){var t=e.goToNextStep,a=Object(n.useState)(),i=Object(V.a)(a,2),o=i[0],l=i[1],c=Ne(t),s=Object(Ee.a)().users,u=Object(Oe.a)(),d=Object(V.a)(u,2),m=d[0],p=d[1],b=ke(),f=Object(Q.a)().t,y=function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.getAuthenticated();case 3:l(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){m||(p?y():l(!1))}),[m,p]),r.a.createElement(Se,{title:f("sites.start.connectWithGithub.title"),subtitle:f("sites.start.connectWithGithub.subtitle")},r.a.createElement("div",{className:b.buttonContainer},r.a.createElement(ae.a,{buttonVariant:"branded",onClick:function(){window.ga("send","event",A.d.SITES,"Connect with Github"),window.analytics.track("Connect with Github",{teamId:g.t.getAccountIdFromUrl()});for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];o?t.apply.apply(t,[null].concat(a)):c.apply.apply(c,[null].concat(a))},loading:void 0===o,overrideClass:{button:b.button}},r.a.createElement(ne.default,{className:b.icon,icon:["fab","github"],size:"small"}),r.a.createElement(re.a,{className:b.buttonText,variant:"button"},f("sites.start.connectWithGithub.buttonMsg")))))},Te=a(82),Be=a(1887),Ae=a(1029),Pe=Object(ie.a)((function(e){return{iconContainer:{display:"flex",alignItems:"center","& > div:first-child":{width:330}},dropdown:{"&&& svg":{height:24,marginRight:0}},iconButton:{marginLeft:10,padding:0,height:15,minWidth:"unset"},icon:{display:"flex",fontSize:15,color:e.palette.palette.grey2},dropdownItem:{fontSize:13},dropdownItemRoot:{paddingTop:3,paddingBottom:3}}})),Re=function(e){var t=e.repositoryName,a=e.githubAccountName,i=e.branch,o=e.setBranch,l=e.defaultBranchName,c=Object(n.useState)(),s=Object(V.a)(c,2)[1],u=Object(n.useRef)(null),d=Object(g.v)(),m=Object(Oe.a)(),p=Object(V.a)(m,2)[1],b=Pe(),f=Object(Q.a)().t,y=function(e){var t=e.data;if(!u.current){var a=t.find((function(e){return e.name===l}));o(a?l:G()(t[0],"name"))}var n=[].concat(Object(D.a)(u.current||[]),Object(D.a)(t.map((function(e){return{name:e.name}}))));u.current=n,s(u.current.length)},v=function(){var e=Object(W.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.repos.listBranches.endpoint.merge({owner:a,repo:t,per_page:100}),e.prev=1,e.next=4,d.paginate(n,y);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("error branches",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p&&v()}),[p]);return r.a.createElement("div",{className:b.iconContainer},r.a.createElement(Ae.a,{data:u.current||[],valueKey:"name",selectedValue:"",placeholder:i||f("sites.start.buildOptions.branchesPlaceholder"),onChange:function(e){!!G()(u.current,"length",0)&&e&&o(e)},isUsedPlaceholderAsValue:!0,isLoading:!u.current}))};Re.defaultProps={branch:""};var Me=Re,Le=a(293),Fe=a(1893),Ue=a(134),_e=a(1030),We=a(41),Ve=function(e){return[{id:We.i,name:e("sites.start.buildOptions.frameworkOptions.other"),showNoImage:!0},{id:We.g,name:e("sites.start.buildOptions.frameworkOptions.nextJs"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/nextjs.png"},{id:We.a,name:e("sites.start.buildOptions.frameworkOptions.createReactApp"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/cra.png"},{id:We.d,name:e("sites.start.buildOptions.frameworkOptions.hugo"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/hugo.png"},{id:We.b,name:e("sites.start.buildOptions.frameworkOptions.gatsby"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/gatsby.png"},{id:We.l,name:e("sites.start.buildOptions.frameworkOptions.wordpress"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/wp.png"},{id:We.h,name:e("sites.start.buildOptions.frameworkOptions.nuxtjs"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/nuxtjs.png"},{id:We.e,name:e("sites.start.buildOptions.frameworkOptions.jekyll"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/jekyll.png"},{id:We.c,name:e("sites.start.buildOptions.frameworkOptions.gridsome"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/gridsome.png"},{id:We.k,name:e("sites.start.buildOptions.frameworkOptions.svelte"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/svelte.png"},{id:We.f,name:e("sites.start.buildOptions.frameworkOptions.mkdocs"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/mkdocs.png"},{id:We.j,name:e("sites.start.buildOptions.frameworkOptions.sapper"),image:"https://storage.googleapis.com/terminal-assets/images/frameworks/sapper.png"}]},ze=function(e){var t;return t={},Object(N.a)(t,We.i,Object(k.a)({framework:We.i},e)),Object(N.a)(t,We.b,{framework:We.b,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"public",dockerImage:"fleek/gatsby"}),Object(N.a)(t,We.d,{framework:We.d,buildCommand:"hugo",publishDirectory:"public",dockerImage:"fleek/hugo"}),Object(N.a)(t,We.g,{framework:We.g,buildCommand:"npm install && npm run build && npm run export",publishDirectory:"out",dockerImage:"fleek/next-js"}),Object(N.a)(t,We.a,{framework:We.a,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"build",dockerImage:"fleek/create-react-app"}),Object(N.a)(t,We.e,{framework:We.e,buildCommand:"jekyll build",publishDirectory:"_site",dockerImage:"fleek/jekyll"}),Object(N.a)(t,We.h,{framework:We.h,buildCommand:"".concat(e.installCommand," && ").concat(e.runScriptCommand," build && ").concat(e.runScriptCommand," export"),publishDirectory:"dist",dockerImage:"fleek/nuxtjs"}),Object(N.a)(t,We.l,{framework:We.l,buildCommand:"",publishDirectory:"",dockerImage:""}),Object(N.a)(t,We.c,{framework:We.c,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"dist",dockerImage:"fleek/gridsome:node-12"}),Object(N.a)(t,We.k,{framework:We.k,buildCommand:e.buildCommand||"yarn && yarn build",publishDirectory:"public",dockerImage:"fleek/svelte"}),Object(N.a)(t,We.f,{framework:We.f,buildCommand:e.buildCommand||"mkdocs build",publishDirectory:"site",dockerImage:"fleek/mkdocs"}),Object(N.a)(t,We.j,{framework:We.j,buildCommand:"".concat(e.installCommand," && ").concat(e.runScriptCommand," export"),publishDirectory:"__sapper__/export",dockerImage:"fleek/svelte"}),t},Ge=a(1002),Ke=Object(ie.a)((function(e){return{textInput:{"&&&":{width:330,height:50},"&&& > div":{height:50}},inputContainer:{marginTop:10,height:260,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start"},iconContainer:{display:"flex",alignItems:"center",position:"relative","& > div:first-child":{maxHeight:50,width:330},maxHeight:50},icon:{display:"flex",fontSize:15,color:e.palette.palette.grey2},buttonTooltip:{"&&&":{marginLeft:10,minWidth:"unset",height:25,width:25,borderRadius:30,padding:0,"&:hover":{backgroundColor:"unset"}}},tooltip:{"&&&":{fontWeight:"normal",fontFamily:e.typography.fontFamily,maxWidth:216,border:"1px solid ".concat(e.palette.palette.grey5),color:e.palette.palette.black,backgroundColor:e.palette.palette.whiteThree,boxShadow:"0 0 6px 0 ".concat(e.palette.palette.extraLightBlack),padding:"10px 30px 11px 12px"}},helperTextWrapper:{display:"flex",marginLeft:15,color:e.palette.palette.starYellow,backgroundColor:e.palette.palette.fadeStarYellow,padding:"13px 15px"},helperText:{color:"inherit",fontSize:12},helperIcon:{marginRight:15,display:"flex",fontSize:16},spinner:{position:"absolute",right:50}}})),He=function(e){var t=e.isFieldsDisabled,a=e.buildCommand,i=e.publishDirectory,o=e.onChangeState,l=e.repositoryName,c=e.githubAccountName,s=e.branch,u=e.dockerImage,d=e.framework,m=Ke(),p=Object(Q.a)().t,b={owner:c,repo:l,path:"",ref:s},f=Object(Ge.a)(b),g=G()(f,"framework"),y=G()(f,"defaultValues"),v=null===f;Object(n.useEffect)((function(){if(f){var e=ze(y)[g];o(Object(k.a)(Object(k.a)({},e),{},{framework:Ve(p).find((function(e){return e.id===g}))}))}}),[v]);var h=function(){return Ve(p).find((function(e){return e.id===We.i}))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=r.a.createElement(Le.a,{className:m.buttonTooltip},r.a.createElement(ne.default,{icon:["fal","info-circle"],size:"inherit",className:m.icon}));return r.a.createElement(r.a.Fragment,null,v&&r.a.createElement(Ue.a,{positioning:"inline",fontSize:"small",className:m.spinner}),r.a.createElement(Fe.a,{text:e,overrideClass:{button:m.iconButton,tooltip:m.tooltip},placement:"right"},a),t&&r.a.createElement("div",{className:m.helperTextWrapper},r.a.createElement(ne.default,{icon:["fal","exclamation-triangle"],size:"inherit",color:"inherit",className:m.helperIcon}),r.a.createElement(re.a,{className:m.helperText,variant:"caption"},t)))},O=Ve(p),j=d&&O.find((function(e){return e.id===d.id}));return r.a.createElement("div",{className:m.inputContainer},r.a.createElement("div",{className:m.iconContainer},r.a.createElement(_e.a,{value:j||{},onSelect:function(e){var t=ze(y)[e.id];o(Object(k.a)(Object(k.a)({},t),{},{framework:e}))},label:p("sites.start.buildOptions.framework"),objects:O}),E(p("sites.start.buildOptions.dockerImageTooltip"))),r.a.createElement("div",{className:m.iconContainer},r.a.createElement(Te.a,{label:p("siteSettings.deployment.dockerFile.label"),value:u,className:m.dockerInput,onChange:function(e){o({dockerImage:e.target.value,framework:h()})}}),E(p("sites.start.buildOptions.dockerImageTooltip"))),r.a.createElement("div",{className:m.iconContainer},r.a.createElement(Te.a,{label:p("sites.start.buildOptions.buildCommand"),value:a,onChange:function(e){o({buildCommand:e.target.value,framework:h()})},className:m.textInput,disabled:t||v}),E(p("sites.start.buildOptions.buildCommandTooltip"),f&&f.hasGatsby&&p("sites.start.buildOptions.gatsbyPlugin"))),r.a.createElement("div",{className:m.iconContainer},r.a.createElement(Te.a,{label:p("sites.start.buildOptions.publishDirectory"),value:i,onChange:function(e){o({publishDirectory:e.target.value,framework:h()})},className:m.textInput,disabled:t||v}),E(p("sites.start.buildOptions.publishDirectoryTooltip"))))};He.defaultProps={repositoryName:"",githubAccountName:"",branch:"",dockerImage:"",framework:null};var qe=He,$e=Object(ie.a)((function(e){return{root:{display:"flex",alignItems:"center"},button:{height:34,width:145,"& span":{color:e.palette.palette.white}},icon:{display:"flex",margin:"0px 4px 0px 19px",fontSize:14,color:e.palette.text.secondary},resetLinkStyles:{textDecoration:"none"}}})),Ye=function(e){var t=e.isDeployLoading,a=e.onDeploy,n=e.disabled,i=Object(Q.a)().t,o={button:$e().button};return r.a.createElement(ae.a,{onClick:a,overrideClass:o,buttonVariant:"primary",textVariant:"button",disabled:n,loading:t},i("sites.start.buildOptions.deploySiteMsg"))},Je=a(197),Qe=function(e){var t=e.classes,a=e.env,i=e.onBlur,o=a.id,l=a.name,c=a.value,s=Object(n.useState)({name:l,value:c}),u=Object(V.a)(s,2),d=u[0],m=u[1],p=Object(Q.a)().t,b=function(e){var t=e.fieldValue,a=e.value;m(Object(k.a)(Object(k.a)({},d),{},Object(N.a)({},t,a)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,{label:p("sites.start.buildOptions.envVars.keyLabel"),placeholder:p("sites.start.buildOptions.envVars.keyPlaceholder"),value:d.name||"",onChange:function(e){return b({fieldValue:"name",value:e})},onBlur:function(){return i({id:o,fieldKey:"name",fieldValue:d.name})},className:t.textInput}),r.a.createElement(Je.a,{label:p("sites.start.buildOptions.envVars.variableLabel"),placeholder:p("sites.start.buildOptions.envVars.variablePlaceholder"),value:d.value||"",onChange:function(e){return b({fieldValue:"value",value:e})},onBlur:function(){return i({id:o,fieldKey:"value",fieldValue:d.value})},className:t.textInput}))},Ze=Object(ie.a)((function(e){return{inputContainer:{display:"flex",paddingBottom:30,position:"relative"},textInput:{maxWidth:320,marginLeft:15,"&:first-child":{marginLeft:0}},iconContainer:{marginLeft:18,"& > div":{display:"flex",fontSize:15}},errorMessage:{position:"absolute",top:25,left:2,color:e.palette.palette.errorRed}}})),Xe=0,et=function(){return Xe+=1},tt=/^[a-zA-Z0-9_]*$/,at=/^[a-zA-Z]/,nt=function(e,t){return e?tt.test(e)?at.test(e)?null:t("".concat("sites.start.buildOptions.envVars.errors.","startWithLetter")):t("".concat("sites.start.buildOptions.envVars.errors.","onlyAlphaNumericAndUnderscore")):null},rt=[{id:et()}],it=function(e){var t=e.variables,a=e.onChange,i=Ze(),o=Object(Q.a)().t,l=function(e){var n=e.id,r=e.fieldKey,i=e.fieldValue,l=t.map((function(e){if(e.id===n){var t=Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},r,i));return Object(k.a)(Object(k.a)({},t),{},{errorMessage:nt(t.name,o)})}return e}));a(l)};return Object(n.useEffect)((function(){if(t.length){var e=t.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{id:et()})}));a(e)}else a(rt)}),[]),r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{className:i.inputContainer,key:e.id?"".concat(e.id):e.name},r.a.createElement(Qe,{classes:i,env:e,onBlur:l}),r.a.createElement(Le.a,{onClick:function(){return n=e.id,void a(t.filter((function(e){return e.id!==n})));var n},className:i.iconContainer},r.a.createElement(ne.default,{icon:["fal","times-circle"]})),r.a.createElement("p",{className:i.errorMessage},e.errorMessage))})),r.a.createElement(ae.a,{onClick:function(){a([].concat(Object(D.a)(t),[{id:et()}]))},buttonVariant:"secondary"},o("sites.start.buildOptions.envVars.newVar")))};it.defaultProps={variables:[],onChange:function(){}};var ot=it,lt=Object(ie.a)((function(){return{title:{fontWeight:500},envVarsListWrapper:{margin:"25px 0 35px"},inputErrorWrapper:{"& p":{position:"absolute"}}}})),ct=function(e){var t=e.state,a=e.setState,i=lt(),o=Object(Q.a)().t,l=Object(n.useState)(!1),c=Object(V.a)(l,2),s=c[0],u=c[1],d=t.envVars.length>0;Object(n.useEffect)((function(){d&&u(!0)}),[d]);return s?r.a.createElement("div",null,r.a.createElement(re.a,{variant:"body1",className:i.title},o("sites.start.buildOptions.envVars.title")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},o("sites.start.buildOptions.envVars.subtitle")),r.a.createElement("div",{className:i.envVarsListWrapper},r.a.createElement(ot,{variables:t.envVars,onChange:function(e){a(Object(k.a)(Object(k.a)({},t),{},{envVars:e,isEnvVarsError:e.some((function(e){return e.errorMessage}))}))}}))):r.a.createElement(ae.a,{buttonVariant:"secondary",onClick:function(){u(!0)}},o("sites.start.buildOptions.showAdvanced"))},st=Object(ie.a)((function(e){return{textInput:{"&&&":{width:330,height:50},"&&& > div":{height:50}},docs:{marginRight:5,textDecoration:"none"},inputContainer:{marginTop:7,height:115,display:"flex",flexDirection:"column",justifyContent:"space-between"},subtitle:{color:e.palette.palette.grey2},secondaryTitleComponent:{marginTop:40,marginBottom:10,height:80,"& button":{height:30,"& span":{height:30}}},buttonContainer:{marginTop:30},arrowIcon:{display:"flex",fontSize:15,marginLeft:5},advancedWrapper:{maxWidth:700},title:{fontWeight:500}}})),ut={branchName:void 0,buildCommand:"",publishDirectory:"",dockerImage:"",envVars:[],isEnvVarsError:!1,framework:null},dt=function(e){var t=e.onClickDeploy,a=e.isDeployLoading,i=st(),o=Object(n.useState)(ut),l=Object(V.a)(o,2),c=l[0],s=l[1],u=Object(Q.a)().t,d=Object(v.i)(),m=d.installationId,p=d.accountName,b=d.repoName,f="".concat(p,"/").concat(b),y=function(e,t,a){var n=e.envVars.filter((function(e){return!!e.name})).map((function(e){return{name:e.name,value:e.value}})),r=e.dockerImage?e.dockerImage.trim():void 0;return{teamId:Object(we.a)(),githubRepositoryUrl:t,repositoryBranch:e.branchName,buildCommand:e.buildCommand||void 0,publishDirectoryPath:e.publishDirectory||void 0,environmentVariables:n.length?n:void 0,installationId:a,dockerImage:""===r?void 0:r}}(c,"https://api.github.com/repos/".concat(f),m),h=function(){var e=Object(W.a)(_.a.mark((function e(){var a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ga("send","event",A.d.SITES,"User triggered deploy","".concat(y.repositoryBranch,", ").concat(c.framework&&c.framework.id,", ").concat(y.dockerImage,", ").concat(y.buildCommand,", ").concat(y.publishDirectoryPath)),e.prev=1,e.next=4,t({variables:{input:y}});case 4:a=e.sent,n=a.data,r=G()(n,"addSite.id"),window.analytics.track("Add Site Deployment",{siteId:r,teamId:g.t.getAccountIdFromUrl(),dockerImage:y.dockerImage,buildCommand:y.buildCommand,framework:c.framework&&c.framework.id,repositoryBranch:y.repositoryBranch,publishDirectoryPath:y.publishDirectoryPath}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error during addSite mutation:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),E=!c.branchName||c.isEnvVarsError;return r.a.createElement(Se,{title:u("sites.start.buildOptions.cardTitle",{repository:"".concat(p,"/").concat(b)}),subtitle:u("sites.start.buildOptions.cardSubtitle")},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.inputContainer},r.a.createElement(Te.a,{label:u("sites.start.buildOptions.repository"),value:f,disabled:!0,className:i.textInput}),r.a.createElement(Me,{repositoryName:b,defaultBranchName:"master",githubAccountName:p,branch:c.branchName,setBranch:function(e){return s(Object(k.a)(Object(k.a)({},c),{},{branchName:e}))}})),r.a.createElement("div",{className:i.secondaryTitleComponent},r.a.createElement(re.a,{variant:"body1",className:i.title},u("sites.start.buildOptions.title")),r.a.createElement(re.a,{variant:"body2",className:i.subtitle},u("sites.start.buildOptions.subtitle")),r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#build-parameters",target:"_blank",rel:"noopener noreferrer",className:i.docs},r.a.createElement(Be.a,null,u("sites.start.buildOptions.docs")))),r.a.createElement(qe,{repositoryName:b,githubAccountName:p,branch:c.branchName||"master",buildCommand:c.buildCommand,publishDirectory:c.publishDirectory,dockerImage:c.dockerImage,framework:c.framework,onChangeState:function(e){return s(Object(k.a)(Object(k.a)({},c),e))},isFieldsDisabled:a}),r.a.createElement("div",{className:i.buttonContainer},r.a.createElement(ct,{state:c,setState:s})),r.a.createElement("div",{className:i.buttonContainer},r.a.createElement(Ye,{isDeployLoading:a,onDeploy:h,disabled:E,deployMutationInput:y}))))},mt=a(1871),pt=a(1881),bt=a(712),ft=Object(ie.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4,marginBottom:15}}})),gt=[52,80,67,43,31],yt=function(){var e=ft();return r.a.createElement(r.a.Fragment,null,gt.map((function(t){return r.a.createElement(bt.a,{key:t,width:"".concat(t,"%"),height:29,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})})))},vt=Object(ie.a)((function(e){return{row:{display:"flex",padding:"16px 21px 16px 21px",alignItems:"center",width:"100%"},rowText:{fontWeight:500,margin:"0 auto 0 8px"},githubIcon:{display:"flex",fontSize:24},arrowIcon:{display:"flex",fontSize:8},filtersWrapper:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid ".concat(e.palette.palette.gray5),paddingBottom:11,margin:"15px 0 11px"},listWrapper:{overflowY:"auto",maxHeight:280},searchWrapper:{maxWidth:244}}})),ht=function(e){var t=e.onSelectRepository,a=e.installationId,i=e.children,o=Object(Q.a)().t,l=vt(),c=Object(n.useState)(),s=Object(V.a)(c,2)[1],u=Object(n.useRef)(null),d=Object(n.useRef)(a),m=Object(n.useState)(""),p=Object(V.a)(m,2),b=p[0],f=p[1],y=Object(g.v)(),v=function(e){var t=e.data;if(d.current===a){var n=t.repositories.map((function(e){return{name:e.name,owner:e.owner.login,fullName:e.full_name,url:e.url}})),r=[].concat(Object(D.a)(u.current||[]),Object(D.a)(n));u.current=r,s(u.current.length)}},h=function(){var e=Object(W.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current=null,s(-1),t=y.apps.listInstallationReposForAuthenticatedUser.endpoint.merge({installation_id:a,per_page:100,v:(new Date).getTime()}),e.prev=3,e.next=6,y.paginate(t,v);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("error repos",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a&&(d.current=a,h())}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.filtersWrapper},i,r.a.createElement("div",{className:l.searchWrapper},r.a.createElement(Je.a,{value:b,icon:["far","search"],placeholder:o("sites.start.pickRepository.searchPlaceholder"),onChange:f}))),r.a.createElement("div",{className:l.listWrapper},r.a.createElement(pt.a,null,u.current?u.current.filter((function(e){var t=e.name;return-1!==t.search(b.trim()||t)})).map((function(e){return r.a.createElement(Le.a,{onClick:function(){return t(e)},className:l.row,key:e.fullName},r.a.createElement(ne.default,{icon:["fab","github"],className:l.githubIcon}),r.a.createElement(re.a,{className:l.rowText},e.fullName),r.a.createElement(ne.default,{icon:["far","chevron-right"],className:l.arrowIcon}))})):[r.a.createElement(yt,{key:"placeholder"})])))};ht.defaultProps={installationId:void 0};var Et=ht,Ot=Object(ie.a)((function(e){return{root:{display:"flex",marginTop:25},linkButton:{padding:0,"& p":{color:e.palette.palette.linkBlue}}}})),jt=function(e){var t=e.onUpdatePermissions,a=Ot(),i=Object(Q.a)().t,o=Ie(),l=o.isSettingPermissionsCompleted,c=o.openGithubPermissionsPopup;return Object(n.useEffect)((function(){l&&t()}),[l]),r.a.createElement("div",{className:a.root},r.a.createElement(re.a,{variant:"body2"},i("sites.start.pickRepository.editPermissionsLink.question")),"\xa0",r.a.createElement(ae.a,{disableRipple:!0,disableElevation:!0,upperCase:!1,onClick:c,overrideClass:{button:a.linkButton}},r.a.createElement(Be.a,null,i("sites.start.pickRepository.editPermissionsLink.link"))))},St=function(e,t){var a=e.account,n=void 0===a?{}:a;return{id:n.name,name:n.name,image:n.avatar,selected:t}},kt={selectedAccount:void 0,accountsList:[]},wt=function(e){var t=e.goToPreviousStep,a=e.goToNextStep,i=Object(n.useState)(kt),o=Object(V.a)(i,2),l=o[0],c=o[1],s=Object(Q.a)().t,u=Object(g.v)().apps,d=Object(Oe.a)(),m=Object(V.a)(d,2),p=m[0],b=m[1],f=function(){var e=Object(W.a)(_.a.mark((function e(){var a,n,r,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.listInstallationsForAuthenticatedUser({per_page:100,v:(new Date).getTime()});case 3:a=e.sent,n=a.data,r=n.installations.map((function(e){var t=e.id,a=e.account;return{installationId:t,account:{name:a.login,avatar:a.avatar_url}}})),i=r[r.length-1],c({accountsList:r,selectedAccount:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),401===e.t0.status&&t();case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=l.accountsList.map((function(e,t){return St(e,l.selectedAccount?e.name===l.selectedAccount.name:0===t)})),v=St(l.selectedAccount||{},!0);Object(n.useEffect)((function(){b?f():p||t()}),[p,b]);return r.a.createElement(Se,{title:s("sites.start.pickRepository.title"),subtitle:s("sites.start.pickRepository.subtitle")},r.a.createElement(Et,{onSelectRepository:function(e){window.ga("send","event",A.d.SITES,"Pick example Repo",e.url),window.analytics.track("Pick example Repo",{url:e.url,repoName:e.name,accountName:e.owner,teamId:g.t.getAccountIdFromUrl()}),a(l.selectedAccount.installationId,l.selectedAccount.account.name,e.name)},installationId:l.selectedAccount&&l.selectedAccount.installationId},r.a.createElement(mt.a,{options:y,onChange:function(e){c(Object(k.a)(Object(k.a)({},l),{},{selectedAccount:l.accountsList.find((function(t){var a=t.account;return e.name===a.name}))}))},value:v})),r.a.createElement(jt,{onUpdatePermissions:function(){b&&(c(kt),f())}}))},xt="/deployment-settings/:installationId/:accountName/:repoName",Ct=function(){var e=Object(Q.a)().t,t=Object(v.g)(),a=he(),n=g.t.getAccountIdFromUrl(),i=ve(),o=Object(V.a)(i,2),l=o[0],c=o[1].loading,s=Object(v.j)(),u=Object(v.h)(),d=["".concat(s.url).concat("/connect-repository"),"".concat(s.url).concat("/choose-repository"),"".concat(s.url).concat(xt)],m=d.findIndex((function(e){return Object(v.f)(u.pathname,{path:e,exact:!0})})),p=function(){var e=0===m?g.t.buildUrl(null,"/teams/".concat(n,"/sites")):g.t.buildUrl(null,d[m-1]);t.push(e)},b=[e("sites.start.connectWithGithub.step"),e("sites.start.pickRepository.step"),e("sites.start.buildOptions.step")];return r.a.useEffect((function(){window.analytics.page("Add Site",{path:u.pathname,search:u.search})}),[]),r.a.createElement("div",{className:a.container},r.a.createElement(ce,{onClick:p}),r.a.createElement(Z.a,{padding:"37px 57px 48px"},r.a.createElement(ee.a,{title:e("sites.start.stepper.title"),description:e("sites.start.stepper.description"),stepTitles:b,indexOfActiveStep:m},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"".concat(s.url).concat("/connect-repository"),exact:!0},r.a.createElement(De,{goToNextStep:function(){t.push(g.t.buildUrl(null,"".concat(s.url).concat("/choose-repository")))}})),r.a.createElement(v.b,{path:"".concat(s.url).concat("/choose-repository"),exact:!0},r.a.createElement(wt,{goToPreviousStep:p,goToNextStep:function(e,a,n){t.push(g.t.buildUrl(null,"".concat(s.url,"/deployment-settings/").concat(e,"/").concat(a,"/").concat(n)))}})),r.a.createElement(v.b,{path:"".concat(s.url).concat(xt),exact:!0},r.a.createElement(dt,{onClickDeploy:l,isDeployLoading:c})),r.a.createElement(v.a,{to:g.t.buildUrl(null,"".concat(s.url).concat("/connect-repository"))})))))},It=function(){var e=Object(Q.a)().t,t=r.a.createElement(g.a,null);return r.a.createElement(g.i,{topBarContent:t},r.a.createElement(J.Helmet,null,r.a.createElement("title",null,e("sites.page_title_new_site"))),r.a.createElement(Ct,null))},Nt=a(143),Dt=a.n(Nt),Tt=a(18),Bt=a.n(Tt),At=function(e,t){switch(e){case A.a.IN_PROGRESS:return t.palette.palette.yellowPending;case A.a.FAILED:case A.a.CANCELLED:return t.palette.palette.errorRed;default:return t.palette.palette.primaryBlue}},Pt=Object(ie.a)((function(e){return{header:{display:"flex",flexDirection:"row"},siteContent:{display:"flex",flexDirection:"row"},siteInfo:{flex:1,display:"flex",justifyContent:"space-between",flexDirection:"column"},preview:function(t){var a=t.preview;return{display:"flex",alignItems:"center",justifyContent:"center",width:234,height:132,backgroundColor:a?e.palette.palette.grey4:"none",borderRadius:6,backgroundImage:"url(".concat(a,")"),backgroundSize:"cover",border:a?"none":"1px solid ".concat(e.palette.palette.grey4),"& > * ":{display:a?"none":"flex",fontSize:70,color:e.palette.palette.grey4}}},published:{marginLeft:7,alignSelf:"center",color:e.palette.palette.grey2},repoIcon:{width:20,"& > svg":{height:15,float:"left",marginTop:3,paddingRight:9}},repoContainer:{marginBottom:2,marginTop:5},repo:{textDecoration:"underline",color:"black"},ipfsContainer:{display:"inline-flex"},ipfs:{textDecoration:"underline",color:"black"},ipfsPending:{color:e.palette.palette.grey2},ipfsIcon:{width:15,height:15,margin:"3px 9px 0 0",float:"left"},linkStyleReset:{textDecoration:"none"},coloredHover:{"&:hover":{textDecoration:"underline",color:e.palette.palette.primaryBlue}},domain:function(t){var a=t.status;return{"&:before":{content:"''",display:"inline-block",width:6,height:6,backgroundColor:At(a,e),margin:1,marginRight:7,marginLeft:1,borderRadius:"100%"},color:At(a,e)}},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4}}})),Rt=function(e){var t=e.t,a=e.siteBySlug,n=function(e){var t=Object(g.p)(e),a=t.owner,n=t.name,r=t.branch,i=t.url;return{repository:"".concat(a,"/").concat(n," (branch: ").concat(r,")"),repositoryUrl:"".concat(i,"/tree/").concat(r)}}(a),r=G()(a,"data.getSiteBySlug",{}),i=Object(g.s)(r),o=G()(a,"data.getSiteBySlug.id",""),l=G()(a,"data.getSiteBySlug.publishedDeploy.status",null)||G()(a,"data.getSiteBySlug.latestDeploy.status",""),c=G()(a,"data.getSiteBySlug.domains",[]),s=Object(g.q)(c),u=G()(s,"type",""),d=G()(s,"domain",""),m=G()(a,"data.getSiteBySlug.publishedDeploy.previewImage",""),p=G()(a,"data.getSiteBySlug.publishedDeploy.ipfsHash",null),b=function(e,t,a){return t===A.a.FAILED?e("sites.tabs.deploys.sections.deployStatus.deployFailed"):Object(g.r)(e,{isPublished:!!G()(a,"data.getSiteBySlug.publishedDeploy"),createdAt:G()(a,"data.getSiteBySlug.createdAt"),lastPublishAt:G()(a,"data.getSiteBySlug.publishedDeploy.completedAt")})}(t,l,a);return Object(k.a)({siteId:o,title:i,status:l,preview:m,ipfsHash:p,defaultDomaintype:u,defaultDomain:d,subtitle:b},n)},Mt=function(e){var t=e.siteBySlug,a=Object(Q.a)().t,n=Rt({t:a,siteBySlug:t}),i=Pt(n);return r.a.createElement(Z.a,null,r.a.createElement("div",{className:i.siteContent},function(){if(t.loading)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.siteInfo},r.a.createElement("div",{className:i.header},r.a.createElement(bt.a,{width:224,height:29,variant:"rect",animation:"wave",classes:{root:i.skeletonRoot}}),r.a.createElement(bt.a,{width:224,height:22,variant:"rect",animation:"wave",className:i.published,classes:{root:i.skeletonRoot}})),r.a.createElement(bt.a,{width:138,height:22,variant:"rect",animation:"wave",classes:{root:i.skeletonRoot}}),r.a.createElement(bt.a,{width:279,height:22,variant:"rect",animation:"wave",classes:{root:i.skeletonRoot}}),r.a.createElement(bt.a,{width:459,height:22,variant:"rect",animation:"wave",classes:{root:i.skeletonRoot}})),r.a.createElement(bt.a,{width:234,height:132,variant:"rect",animation:"wave",classes:{root:i.skeletonRoot}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.siteInfo},r.a.createElement("div",{className:i.header},r.a.createElement(re.a,{variant:"h6",color:"textPrimary"},n.title),r.a.createElement(re.a,{variant:"body2",className:i.published},n.subtitle)),n.status===A.a.DEPLOYED&&""!==n.defaultDomain?r.a.createElement("a",{href:"https://".concat(n.defaultDomain),target:"_blank",rel:"noopener noreferrer",className:Bt()(i.linkStyleReset,i.coloredHover),onClick:function(){var e,t;n.defaultDomaintype===A.c.DEFAULT_SUBDOMAIN?(e="autogeneratedDomain",t="Autogenerated subdomain click"):(e="domain",t="Propagated custom domain click"),window.ga("send","event",A.d.SITES,t,"https://".concat(n.defaultDomain)),window.analytics.track(t,Object(N.a)({siteId:n.siteId,teamId:q.l.getAccountIdFromUrl()},e,n.defaultDomain))}},r.a.createElement(re.a,{variant:"body2",className:i.domain},n.defaultDomain)):r.a.createElement(re.a,{variant:"body2",className:i.domain},a("sites.siteHeader.deploy.".concat(n.status),n.defaultDomain)),r.a.createElement("div",{className:i.repoContainer},r.a.createElement(ne.default,{icon:["fab","github"],className:i.repoIcon}),r.a.createElement("a",{href:n.repositoryUrl,target:"_blank",rel:"noopener noreferrer",className:i.repo},r.a.createElement(re.a,{variant:"body2"},n.repository))),r.a.createElement("div",{className:i.ipfsContainer},r.a.createElement("img",{src:"https://storage.googleapis.com/terminal-assets/images/wallets/ipfs.svg",className:i.ipfsIcon,alt:"Ipfs logo"}),n.ipfsHash?r.a.createElement("a",{href:"https://ipfs.fleek.co/ipfs/".concat(n.ipfsHash),target:"_blank",rel:"noopener noreferrer",className:i.ipfs},r.a.createElement(re.a,{variant:"body2"},a("sites.siteHeader.ipfs.verify"))):r.a.createElement(re.a,{variant:"body2",className:i.ipfsPending},a("sites.siteHeader.ipfs.pending")))),r.a.createElement("div",{className:i.preview},r.a.createElement(ne.default,{icon:["fal","image"]})))}()))};Mt.defaultProps={siteBySlug:{data:null,error:null,loading:!1}};var Lt=Mt,Ft=a(208),Ut=a(1041),_t=a(711),Wt=a(185),Vt=Object(ie.a)((function(){return{root:{overflow:"hidden",position:"absolute",top:55,right:0,bottom:0,left:0},backdrop:{position:"absolute",top:-55,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:9},modal:{width:472,padding:"23px 18px 18px 23px"},title:{fontSize:22},description:{fontSize:15,margin:"23px 0",lineHeight:"1.32"},button:{float:"right"}}})),zt=function(e){var t=e.isShownOverlay,a=Vt(),n=Object(Q.a)().t,i=g.t.getAccountIdFromUrl();return r.a.createElement("div",{className:t?a.root:void 0},t&&r.a.createElement("div",{className:a.backdrop},r.a.createElement(Ut.a,{className:a.modal},r.a.createElement(re.a,{className:a.title},n("siteSuspendedOverlay.title")),r.a.createElement(re.a,{className:a.description},n("siteSuspendedOverlay.description")),r.a.createElement(y.b,{to:g.t.buildUrl(Object(N.a)({},Wt.a,Wt.b),"/teams/".concat(i,"/billing/general"))},r.a.createElement(_t.a,{onClick:function(){},color:"primary",variant:"contained",className:a.button},n("siteSuspendedOverlay.buttonText"))))))},Gt=a(1882),Kt=Object(ie.a)((function(){return{sectionContent:{padding:"16px 20px 24px"},sectionRoot:{marginBottom:15},title:{fontWeight:500}}})),Ht=function(e){var t=e.title,a=e.subtitle,n=e.description,i=e.children,o=Kt();return r.a.createElement(Gt.a,{mainContent:t,classes:{content:o.sectionContent,root:o.sectionRoot}},r.a.createElement(re.a,{variant:"body2",className:o.title},a),"string"===typeof n?r.a.createElement(re.a,{variant:"caption",color:"textSecondary"},n):n,i)};Ht.defaultProps={children:null};var qt=Ht,$t=function(e,t){return t.map((function(t){var a,n=!!(a=t.list)&&!!a.find((function(t){return t.id===e})),r=t.id===e;return Object(k.a)(Object(k.a)({},t),{},{isActive:r||n,list:t.list.map((function(a){var n=a.id===e,i=function(e,t,a){return!!e&&t.list[0].id===a}(r,t,a.id);return Object(k.a)(Object(k.a)({},a),{},{isActive:n||i})}))})}))},Yt="build-and-deploy",Jt="domain-management",Qt="continuous-deployment",Zt="advanced-build-settings",Xt="custom-domains",ea="ens",ta="ssl",aa="general",na="site-details",ra="danger-zone",ia=[aa,Yt,Jt],oa=[Xt,ea,ta,Qt,Zt,na,ra],la=function(e,t){var a=[{title:e("siteSettings.sectionTitles.general"),id:aa,type:"main",list:[{title:e("siteSettings.sectionTitles.siteDetails"),id:na,type:"subsection"},{title:e("siteSettings.sectionTitles.dangerZone"),id:ra,type:"subsection"}]},{title:e("siteSettings.sectionTitles.buildAndDeploy"),id:Yt,type:"main",list:[{title:e("siteSettings.sectionTitles.continuousDeployment"),id:Qt,type:"subsection"},{title:e("siteSettings.sectionTitles.advancedBuildSettings"),id:Zt,type:"subsection"}]},{title:e("siteSettings.sectionTitles.domainManagement"),id:Jt,type:"main",list:[{title:e("siteSettings.sectionTitles.domains"),id:Xt,type:"subsection"},{title:e("siteSettings.sectionTitles.ens"),id:ea,type:"subsection"},{title:e("siteSettings.sectionTitles.https"),id:ta,type:"subsection"}]}];return $t(t,a)},ca=Object(ie.a)((function(e){return{root:{display:"inline-flex","& svg":{display:"flex",marginRight:4,color:e.palette.palette.grey2,fontSize:18}},link:{textDecoration:"none"}}})),sa=function(){var e=ca(),t=Object(Q.a)().t,a=Object(v.j)().params;return r.a.createElement(y.b,{to:g.t.buildUrl(null,"/sites/".concat(a.siteSlug,"/settings/").concat(Yt)),className:e.link},r.a.createElement(ae.a,{buttonVariant:"secondary",overrideClass:{button:e.root}},r.a.createElement(ne.default,{icon:["fal","cog"]}),r.a.createElement(re.a,{variant:"body2"},t("sites.tabs.deploys.sections.deployInfo.button"))))},ua=Object(ie.a)((function(){return{buttonsContainer:{marginTop:17}}})),da=function(e){var t=Object(Q.a)().t,a=ua(e),n=e.siteBySlug,i=G()(n,"data.getSiteBySlug.deploySettings.autoPublishing",null),o=G()(n,"data.getSiteBySlug.deploySettings.repository.branch","master"),l="...",c="";return i?(l=t("sites.tabs.deploys.sections.deployInfo.on"),c=t("sites.tabs.deploys.sections.deployInfo.descriptionAuto",{branch:o})):!1===i&&(l=t("sites.tabs.deploys.sections.deployInfo.off"),c=t("sites.tabs.deploys.sections.deployInfo.descriptionNotAuto",{branch:o})),r.a.createElement(qt,{title:t("sites.tabs.deploys.sections.deployInfo.title"),subtitle:t("sites.tabs.deploys.sections.deployInfo.subtitle",{isAuto:l}),description:c},r.a.createElement("div",{className:a.buttonsContainer},r.a.createElement(sa,null)))};da.defaultProps={siteBySlug:{}};var ma=da,pa=a(47),ba=a.n(pa),fa=a(98),ga=a(513),ya=a(432),va=a(216),ha=a(1806),Ea=Object(ha.a)((function(){return{copyToClipboardButtonContainer:{marginLeft:10},buttons:{height:28,"& span":{height:10}},buttonsContainer:{display:"flex"},previewLink:{textDecoration:"none"},contextTextContainer:{padding:"16px 21px 9px 21px",backgroundColor:"#071e26",borderBottomLeftRadius:6,borderBottomRightRadius:6},contentText:{whiteSpace:"pre-line",overflowWrap:"break-word",minHeight:200,color:"white",fontSize:15,lineHeight:1.25},noPadding:{padding:0}}})),Oa=function(e){return{title:e("sites.deploys.title"),preview:e("sites.deploys.preview"),copyToClipboard:e("sites.deploys.copyToClipboard"),sucessfullyCopied:e("common.copiedToClipboard")}},ja=function(e){var t=e.previewDestination,a=e.showPreviewButton,i=e.contentText,o=e.loading,l=Object(Q.a)().t,c=Ea(),s=Oa(l),u=Object(n.useRef)(null);Object(n.useEffect)((function(){null!==u.current&&u.current!==i&&fa.scroller.scrollTo("log-bottom",{duration:1500,delay:100,smooth:!0,containerId:A.f,offset:-10}),o||(u.current=i)}),[i,o]);var d=r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"body1",color:"textPrimary"},r.a.createElement(ga.a,{fontWeight:500},s.title)),r.a.createElement("div",{className:c.buttonsContainer},a&&r.a.createElement(r.a.Fragment,null,t?r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:c.previewLink},r.a.createElement(ae.a,{buttonVariant:"primary",onClick:function(){},overrideClass:{button:c.buttons}},l(s.preview))):r.a.createElement(ae.a,{buttonVariant:"primary",disabled:!0,onClick:function(){},overrideClass:{button:c.buttons}},l(s.preview))),r.a.createElement("div",{className:c.copyToClipboardButtonContainer},r.a.createElement(ae.a,{buttonVariant:"secondary",onClick:function(){Object(ya.copyToClipboard)(i),va.c.success(s.sucessfullyCopied)},overrideClass:{button:c.buttons}},l(s.copyToClipboard)))));return r.a.createElement("div",{className:c.box},r.a.createElement(Gt.a,{mainContent:d,classes:{content:c.noPadding}},r.a.createElement("div",{className:c.contextTextContainer},r.a.createElement(re.a,{className:c.contentText},function(){if(!i)return"";return i.replace(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/g,(function(e){return function(e){return ba()(e).format("LTS L")}(e)}))}())),r.a.createElement(fa.Element,{name:"log-bottom"})))};ja.defaultProps={showPreviewButton:!1,contentText:null,previewDestination:""};var Sa=ja,ka=Object(ie.a)((function(e){return{externalLink:{position:"relative",color:e.palette.palette.primaryBlue,textDecoration:"none"}}})),wa=function(e){var t=e.repositoryUrl,a=e.branch,n=e.commit,i=Object(Q.a)().t,o=ka();return r.a.createElement(r.a.Fragment,null,a,n&&r.a.createElement(r.a.Fragment,null,"@",r.a.createElement("a",{href:"".concat(t,"/commit/").concat(n),target:"_blank",rel:"noopener noreferrer",className:o.externalLink,title:i("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.goToCommitDetails")},n.slice(0,7))))};wa.defaultProps={branch:"",commit:"",repositoryUrl:""};var xa=wa,Ca=a(1847),Ia=Object(ie.a)((function(e){return{externalLink:{position:"relative",color:e.palette.palette.primaryBlue,textDecoration:"none"}}})),Na=function(e){var t=e.pullRequestUrl,a=e.branch,n=Object(Q.a)().t,i=Ia();return r.a.createElement(Ca.a,{i18nKey:"sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.prTitle",values:{prNumber:"#".concat(t.split("/").slice(-1)),branch:a},components:[r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:i.externalLink,title:n("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.goToPR")},null)]})};Na.defaultProps={branch:""};var Da=Na,Ta=a(76),Ba=function(e){return function(t,a){var n=a.data.retryDeploy;try{var r=t.readQuery({query:Ta.a,variables:{siteId:e,limit:A.g}}),i=Dt()(n);i.startedAt=new Date;var o=Dt()(r);o.getDeploysBySite.deploys.unshift(i),t.writeQuery({query:Ta.a,variables:{siteId:e,limit:A.g},data:o})}catch(l){console.error(l)}}},Aa=a(1005),Pa=a.n(Aa),Ra=function(e,t){var a=ba.a.utc(e),n=ba()().format("DD")===a.local().format("DD"),r=ba()().diff(a,"days")<=1,i=n&&r?t("common.today"):a.local().format("MMM DD");return t("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.startDeployTime",{dayAndMonth:i,hourAndMinute:a.format("LT")})},Ma=function(){return".on.".concat("fleek.co")},La=function(e){var t=e.pullRequestUrl,a=e.ipfsHash;if(!a)return null;if(t){var n=new Pa.a(a);return"https://".concat(n.toV1().toString()).concat(Ma())}return"https://ipfs.fleek.co/ipfs/".concat(a)},Fa=function(e,t){var a=e.status,n=e.published,r=void 0!==n&&n,i=e.startedAt,o=void 0===i?null:i,l=e.pullRequestUrl,c=G()(e,"repository.branch",""),s=G()(e,"repository.commit",""),u=o?Ra(o,t):"";return{status:a,inProgress:a===A.a.IN_PROGRESS,published:r,branch:c,commit:s,startedAt:u,previewUrl:La(e),pullRequestUrl:l}};function Ua(){var e=Object(ue.a)(["\n  mutation addCustomDomain($input: AddCustomDomainInput!) {\n    addCustomDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return Ua=function(){return e},e}var _a=me()(Ua(),pe.c);function Wa(){var e=Object(ue.a)(["\n  mutation EditBuildSettings($input: EditBuildSettings!) {\n    editBuildSettings(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return Wa=function(){return e},e}var Va=me()(Wa(),pe.c);function za(){var e=Object(ue.a)(["\n  mutation editDeploySettings($input: EditDeploySettings!) {\n    editDeploySettings(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return za=function(){return e},e}var Ga=me()(za(),pe.c);function Ka(){var e=Object(ue.a)(["\n  mutation retryDeploy(\n    $siteId: ID!,\n    $deployId: ID!\n  ) {\n    retryDeploy(\n      siteId: $siteId,\n      deployId: $deployId\n    ) {\n      ...DeployDetail\n    }\n  }\n  ","\n"]);return Ka=function(){return e},e}var Ha=me()(Ka(),pe.a);function qa(){var e=Object(ue.a)(["\n  mutation triggerDeploy($siteId: ID!) {\n    triggerDeploy(siteId: $siteId) {\n      ...DeployDetail\n    }\n  }\n  ","\n"]);return qa=function(){return e},e}var $a=me()(qa(),pe.a);function Ya(){var e=Object(ue.a)(["\n  mutation cancelDeploy($input: CancelDeployInput!) {\n    cancelDeploy(input: $input) {\n      success\n    }\n  }\n"]);return Ya=function(){return e},e}me()(Ya());function Ja(){var e=Object(ue.a)(["\n  mutation createStripeSession($input: CreateStripeSessionInput!) {\n    createStripeSession(input: $input) {\n      sessionId\n    }\n  }\n"]);return Ja=function(){return e},e}me()(Ja());var Qa=function(e){var t=e.disabled,a=e.siteId,n=e.t,i=Object(v.j)(),o=Object(v.g)(),l=i.params.deployId,c=Object(se.a)(Ha,{client:K.b,variables:{siteId:a,deployId:l},update:Ba(a),onCompleted:function(e){return function(e,t,a){var n=e.retryDeploy.id,r=g.t.buildUrl(null,"/sites/".concat(t.params.siteSlug,"/deploys/").concat(n));a.push(r)}(e,i,o)},onError:function(){}}),s=Object(V.a)(c,2),u=s[0],d=s[1],m=d.loading;d.response;return r.a.createElement(ae.a,{disabled:t||m,loading:m,onClick:u,buttonVariant:"secondary"},r.a.createElement(re.a,{variant:"body2"},n("sites.tabs.deploys.sections.deployStatus.retryDeploy")))};Qa.defaultProps={siteId:null};var Za=Qa,Xa=Object(ie.a)((function(e){return{buttonsContainer:{marginTop:17,"&&& > button:nth-child(n + 2)":{marginLeft:10}},icon:{display:"flex",marginLeft:5,fontSize:14},description:{"&&&":{margin:"10px 0 auto"}},previewLink:{textDecoration:"none"},linkButton:{display:"flex",height:"auto",padding:0,"& > span":{margin:"10px 0 auto","& > span":{fontSize:15,color:e.palette.palette.primaryBlue}},"& svg":{color:e.palette.palette.primaryBlue}},gearIcon:{display:"inline-block",color:e.palette.palette.starYellow,fontSize:13,position:"relative",top:2,marginLeft:5,"& svg":{animation:"$spin 4s infinite linear"}},"@keyframes spin":{from:{transform:"rotWate(0deg)"},to:{transform:"rotate(360deg)"}}}})),en=function(e){var t=e.deploy,a=e.siteBySlug,n=G()(a,"data.getSiteBySlug",{}),i=G()(n,"id",null),o=Object(g.p)(a).url,l=Object(Q.a)().t,c=Fa(t,l),s=c.inProgress,u=c.published,d=c.branch,m=c.commit,p=c.startedAt,b=c.previewUrl,f=c.status,y=c.pullRequestUrl,v=Xa(e),h=r.a.createElement(ae.a,{upperCase:!1,overrideClass:{button:v.linkButton}},r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"caption"},l("sites.tabs.deploys.sections.deployStatus.previewDeploy")),r.a.createElement(ne.default,{className:v.icon,color:"inherit",icon:["fal","long-arrow-right"]})));return r.a.createElement(qt,{title:l("sites.tabs.deploys.sections.deployStatus.title"),subtitle:function(){var e="sites.tabs.deploys.sections.deployStatus",t="",a=f===A.a.DEPLOYED&&!u,n=f===A.a.DEPLOYED&&u,i=f===A.a.CANCELLED,o=f===A.a.FAILED;return s?t=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,l("".concat(e,".deployInProgress"))),r.a.createElement("div",{className:v.gearIcon},r.a.createElement(ne.default,{fontSize:"inherit",icon:["fal","cog"]}))):n?t=l("".concat(e,".publishedDeploy")):a?t=l("".concat(e,".deploySuccessful")):i?t=l("".concat(e,".deployCancelled")):o&&(t=l("".concat(e,".deployFailed"))),t}(),description:r.a.createElement(re.a,{variant:"caption",color:"textSecondary"},Object(g.o)(l,t),"\xa0",y?r.a.createElement(Da,{branch:d,pullRequestUrl:y}):r.a.createElement(xa,{branch:d,commit:m,repositoryUrl:o}),"\xa0",p)},r.a.createElement(r.a.Fragment,null,s?r.a.createElement(re.a,{className:v.description,variant:"body2"},l("sites.tabs.deploys.sections.deployStatus.description")):r.a.createElement("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:v.previewLink},h),r.a.createElement("div",{className:v.buttonsContainer},r.a.createElement(sa,null),s?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Za,{disabled:!i,siteId:i,t:l})))))};en.defaultProps={deploy:{},siteBySlug:{data:null,error:null,loading:!1}};var tn=en,an=a(97),nn=a(1006),rn=a.n(nn),on=function(e){var t=e.fetchMore,a=e.updateCache,r=e.nextToken,i=e.elementRef,o=e.debounceTime,l=void 0===o?300:o,c=e.bottomBand,s=void 0===c?50:c,u=Object(n.useRef)(),d=Object(n.useRef)(null),m=Object(n.useRef)(null);m.current=r;var p=function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:{nextToken:m.current},updateQuery:function(e,t){var n=t.fetchMoreResult;return a(e,n)}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error, try to fetch more",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(W.a)(_.a.mark((function e(){var t,a,n,r,i,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.current,a=t.scrollHeight,n=t.clientHeight,r=t.scrollTop,i=a-n,o=m.current&&d.current!==m.current,i-r<s&&o&&(d.current=m.current,p());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(null!==i&&m.current){u.current=void 0===i?window.document.getElementById(A.f):i;var e=u.current,t=rn()(b,l);return e.addEventListener("scroll",t),b(),function(){return e.removeEventListener("scroll",t)}}}),[i,m.current,t])},ln=function(e){return function(t,a){var n=a.data.triggerDeploy;try{var r=t.readQuery({query:Ta.a,variables:{siteId:e,limit:A.g}}),i=Dt()(n),o=Dt()(r);o.getDeploysBySite.deploys.unshift(i),t.writeQuery({query:Ta.a,variables:{siteId:e,limit:A.g},data:o})}catch(l){console.error(l)}}},cn=a(1888),sn=Object(ie.a)((function(e){return{root:{flexDirection:"row",padding:"15px 20px 15px 17px"},leftPart:{display:"flex",flexGrow:1,flexWrap:"wrap",minWidth:0},rightPart:{textAlign:"right",flexShrink:0},icon:{display:"flex",color:e.palette.palette.grey2,fontSize:8,marginLeft:16},bolder:{fontWeight:500},chip:{marginLeft:10},linkContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,textDecoration:"none"},deployMessage:{flexBasis:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},linkBoundary:{position:"relative"}}})),un="sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.",dn=function(e){var t=e.id,a=e.branch,n=e.commit,i=e.status,o=e.message,l=e.deployTotalTime,c=e.deployStartDate,s=e.repositoryUrl,u=e.isLastPublishedDeploy,d=e.deployLabel,m=e.pullRequestUrl,p=sn(),b=Object(Q.a)().t,f=Object(v.j)(),h=function(e,t){switch(e){case A.a.DEPLOYED:return t?{transKey:"deploymentStatus.published",color:"green"}:null;case A.a.IN_PROGRESS:return{transKey:"deploymentStatus.inProgress",color:"yellow"};case A.a.FAILED:return{transKey:"deploymentStatus.failed",color:"red"};case A.a.CANCELLED:return{transKey:"deploymentStatus.cancelled",color:"red"};default:return null}}(i,u),E=Ra(c,b);return r.a.createElement("div",{className:p.linkBoundary},r.a.createElement(y.b,{to:g.t.buildUrl(null,"".concat(f.url,"/").concat(t)),title:b("".concat(un,"goToDeployDetails")),className:p.linkContainer},null),r.a.createElement(Z.a,{overrideClass:{wrapper:p.root},border:!0},r.a.createElement("div",{className:p.leftPart},r.a.createElement(re.a,{variant:"body2",className:p.bolder},d),"\xa0",r.a.createElement(re.a,{variant:"body2",color:"textSecondary",onClick:function(e){return e.stopPropagation()}},m?r.a.createElement(Da,{branch:a,pullRequestUrl:m}):r.a.createElement(xa,{branch:a,commit:n,repositoryUrl:s})),h&&i&&r.a.createElement(cn.a,{size:"small",color:h.color,overrideClass:{root:p.chip}},b(h.transKey)),r.a.createElement(re.a,{variant:"caption",color:"textSecondary",className:p.deployMessage},o||b("".concat(un,"deployMessagePlaceholder")))),r.a.createElement("div",{className:p.rightPart},r.a.createElement(re.a,{variant:"body2",className:p.bolder},E),r.a.createElement(re.a,{variant:"caption"},i===A.a.FAILED?b("".concat(un,"timeFailedDeploy")):l?b("".concat(un,"deployTime"),{time:l}):b("".concat(un,"deployTimePlaceholder")))),r.a.createElement(ne.default,{icon:["far","chevron-right"],className:p.icon})))};dn.defaultProps={id:"",branch:"",commit:"",status:"",message:"",deployTotalTime:null,deployStartDate:"",repositoryUrl:"",isLastPublishedDeploy:!1,pullRequestUrl:null};var mn=dn,pn=Object(ie.a)((function(e){return{root:{flexDirection:"row",padding:"15px 20px 15px 17px"},leftPart:{flexGrow:1},rightPart:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-between",height:50},icon:{display:"flex",color:e.palette.palette.grey2,fontSize:8,marginLeft:16},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},titleSkeleton:{display:"inline-block"},chipSkeleton:{display:"inline-block",marginLeft:10}}})),bn=function(){var e=pn();return r.a.createElement(Z.a,{overrideClass:{wrapper:e.root},border:!0},r.a.createElement("div",{className:e.leftPart},r.a.createElement(bt.a,{width:190,height:26,variant:"rect",animation:"wave",classes:{root:Bt()(e.skeletonRoot,e.titleSkeleton)}}),r.a.createElement(bt.a,{width:76,height:26,variant:"rect",animation:"wave",classes:{root:Bt()(e.skeletonRoot,e.chipSkeleton)}}),r.a.createElement(bt.a,{width:130,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.rightPart},r.a.createElement(bt.a,{width:140,height:26,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement(bt.a,{width:200,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(ne.default,{icon:["far","chevron-right"],className:e.icon}))},fn=Object(ie.a)((function(){return{header:{display:"flex",justifyContent:"flex-end",marginBottom:15},deployItem:{marginBottom:15,cursor:"pointer"},alert:{marginBottom:15}}})),gn=function(e,t){var a=G()(e,"getDeploysBySite.deploys",[]),n=G()(t,"getDeploysBySite.deploys",[]),r=G()(t,"getDeploysBySite.nextToken",null);return{getDeploysBySite:{deploys:[].concat(Object(D.a)(a),Object(D.a)(n)),nextToken:r,__typename:"DeployConnection"}}},yn=function(e){var t=Object(n.useState)(!1),a=Object(V.a)(t,2),i=a[0],o=a[1],l=Object(Q.a)().t,c=fn(e),s=Object(v.g)(),u=Object(v.j)(),d=e.siteBySlug,m=e.deploys,p=G()(d,"data.getSiteBySlug.id"),b=m.data,f=m.loading,y=m.fetchMore,h=G()(b,"getDeploysBySite.nextToken");on({nextToken:h,updateCache:gn,fetchMore:y});var E=Object(g.p)(d).url,O=G()(b,"getDeploysBySite.deploys",[]),j=Object(se.a)($a,{client:K.b,variables:{siteId:p},update:ln(p),onCompleted:function(e){return function(e,t,a){var n=e.triggerDeploy.id,r=g.t.buildUrl(null,"/sites/".concat(t.params.siteSlug,"/deploys/").concat(n));a.push(r)}(e,u,s)}}),S=Object(V.a)(j,2),k=S[0],w=S[1].loading,x=function(){var e=Object(W.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={siteId:p,teamId:G()(d,"data.getSiteBySlug.teamId"),dockerImage:G()(d,"data.getSiteBySlug.buildSettings.dockerImage"),buildCommand:G()(d,"data.getSiteBySlug.buildSettings.buildCommand"),repositoryBranch:G()(d,"data.getSiteBySlug.deploySettings.repository.branch"),publishDirectoryPath:G()(d,"data.getSiteBySlug.buildSettings.publishDirectoryPath")},e.prev=2,e.next=5,k();case 5:window.analytics.track("User triggered deploy",a),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),a.error=e.t0.message,window.analytics.track("User triggered deploy failed",a),o(!0);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w&&i&&o(!1)}),[w]);var C=function(e){if(e.status!==A.a.DEPLOYED)return null;var t=e.startedAt,a=e.completedAt,n=ba()(a),r=ba()(t);return ba()(n.diff(r)).format("m[m ]s[s]")},I=G()(d,"data.getSiteBySlug.publishedDeploy.id");return r.a.createElement(Z.a,null,r.a.createElement("div",{className:c.header},r.a.createElement(ae.a,{disabled:!p,loading:w,onClick:x,buttonVariant:"primary"},l("sites.tabs.deploys.sections.deployInfo.listOfDeploys.triggerDeploy"))),i&&r.a.createElement(an.a,{type:"error",message:l("siteDeploys.sections.deployInfo.listOfDeploys.errorTriggerDeploy"),className:c.alert,icon:["fal","times-circle"]}),p?O.map((function(e){return r.a.createElement("div",{className:c.deployItem,key:e.id},r.a.createElement(mn,{id:e.id,branch:G()(e,"repository.branch",""),commit:G()(e,"repository.commit","head"),status:e.status,message:G()(e,"repository.message"),deployTotalTime:C(e),deployStartDate:e.startedAt||e.id,repositoryUrl:E,isLastPublishedDeploy:e.id===I,deployLabel:Object(g.o)(l,e),pullRequestUrl:G()(e,"pullRequestUrl")}))})):null,(f||!p)&&r.a.createElement(bn,null))};yn.defaultProps={siteBySlug:{data:null,error:null,loading:!1},deploys:{data:null,error:null,loading:!1,fetchMore:function(){}}};var vn=yn,hn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.buildTime,n=void 0===a?"":a,r=t.totalDeployTime,i=void 0===r?"":r,o=t.startedAt,l=void 0===o?"3:53:42PM":o,c=t.endedAt,s=void 0===c?"3:53:42PM":c;return{title:e("sites.deploys.summaryList.title"),items:[{title:e("sites.deploys.summaryList.filesUploaded.title"),subtitle:e("sites.deploys.summaryList.filesUploaded.subtitle"),icon:["fal","info-circle"]},{title:e("sites.deploys.summaryList.redirectRulesProcessed.title"),subtitle:e("sites.deploys.summaryList.redirectRulesProcessed.subtitle"),icon:["fal","info-circle"]},{title:e("sites.deploys.summaryList.headerRulesProcessed.title"),subtitle:e("sites.deploys.summaryList.headerRulesProcessed.subtitle"),icon:["fal","info-circle"]},{title:e("sites.deploys.summaryList.linkedResources.title"),subtitle:e("sites.deploys.summaryList.linkedResources.subtitle"),icon:["fal","info-circle"]},{title:e("sites.deploys.summaryList.buildTime.title",{buildTime:n,totalDeployTime:i}),subtitle:e("sites.deploys.summaryList.buildTime.subtitle",{startedAt:l,endedAt:s}),icon:["fal","info-circle"]}]}},En=Object(ie.a)((function(e){return{wrapper:{"&&& strong":{fontWeight:600}},content:{"&&&:nth-child(2)":{paddingTop:20,paddingBottom:20,"& > div:nth-child(n + 2)":{marginTop:10}}},icon:{"&&&":{display:"flex",fontSize:15,color:e.palette.palette.grey2}},title:{display:"flex"},textSubtitle:{marginLeft:30,color:e.palette.palette.grey2},textTitle:{marginLeft:15,fontWeight:500}}})),On=function(e){var t=En(e),a=Object(Q.a)().t,n=e.deploy,i=n.startedAt,o=n.completedAt,l=ba()(o),c=ba()(i),s=ba()(l.diff(c)).format("m[m ]s[s]"),u=hn(a,{buildTime:s,totalDeployTime:s,startedAt:ba()(i).format("LTS"),endedAt:ba()(o).format("LTS")}),d=u.title,m=u.items;return r.a.createElement(Gt.a,{mainContent:d,className:t.wrapper,classes:{title:t.wrapper,content:t.content}},m.map((function(e,a){return r.a.createElement("div",{key:"summary-list-".concat(a)},r.a.createElement("div",{className:t.title},r.a.createElement(ne.default,{className:t.icon,icon:e.icon,fontSize:"small"}),r.a.createElement(re.a,{className:t.textTitle,variant:"body1"},e.title)),r.a.createElement(re.a,{className:t.textSubtitle,variant:"body2"},e.subtitle))})))};On.defaultProps={deploy:{startedAt:"",completedAt:""}};var jn=On,Sn=function(e){var t=e.siteBySlug,a=e.deploys;return r.a.createElement("div",{id:"test-sites-all-deploys"},r.a.createElement(ma,{siteBySlug:t}),r.a.createElement(vn,{siteBySlug:t,deploys:a}))};Sn.defaultProps={siteBySlug:{data:null,error:null,loading:!1},deploys:{data:null,error:null,loading:!1}};var kn=Sn,wn=Object(ha.a)((function(){return{goBackContainer:{marginTop:-10},summaryListContainer:{marginBottom:15}}})),xn=function(e){var t=Object(Q.a)().t,a=wn(),n=e.deploys,i=e.siteBySlug,o=n.loading,l=Object(v.j)(),c=Object(v.g)(),s=function(e,t){var a=e.data;return G()(a,"getDeploysBySite.deploys",[]).find((function(e){return e.id===t}))||{}}(n,l.params.deployId),u=s.status,d=s.log,m=s.previewImage;return r.a.createElement("div",{id:"test-sites-deploy-details"},r.a.createElement("div",{className:a.goBackContainer},r.a.createElement(ce,{buttonText:t("sites.deploys.backToDeploys"),onClick:function(){var e=g.t.buildUrl(null,"/sites/".concat(l.params.siteSlug,"/deploys"));c.push(e)}})),r.a.createElement(tn,{deploy:s,siteBySlug:i}),u===A.a.DEPLOYED&&r.a.createElement("div",{className:a.summaryListContainer},r.a.createElement(jn,{deploy:s})),r.a.createElement(Sa,{contentText:d,showPreviewButton:!0,previewDestination:m,loading:o}))};xn.defaultProps={siteBySlug:{data:null,error:null,loading:!1},deploys:{data:null,error:null,loading:!1}};var Cn=xn,In=a(1),Nn=a.n(In);function Dn(){var e=Object(ue.a)(["\n  subscription siteSubscription($id: ID!) {\n    siteSubscription(id: $id) {\n      ...SiteDetailSubscription\n    }\n  }\n  ","\n"]);return Dn=function(){return e},e}me()(Dn(),pe.d);function Tn(){var e=Object(ue.a)(["\n  subscription deploySubscription($id: ID!) {\n    deploySubscription(id: $id) {\n      ...DeployDetail\n    }\n  }\n  ","\n"]);return Tn=function(){return e},e}var Bn=me()(Tn(),pe.a);function An(){var e=Object(ue.a)(["\n  subscription siteBySlugSubscription($slug: String!) {\n    siteBySlugSubscription(slug: $slug) {\n      ...SiteDetailSubscription\n    }\n  }\n  ","\n"]);return An=function(){return e},e}var Pn=me()(An(),pe.d),Rn=function(e){var t=e.config,a=t.data,i=t.subscribeToMore;return Object(n.useEffect)((function(){var e=[];try{if(a){var t=G()(a,"getDeploysBySite.deploys",[]);t.forEach((function(n){var r=i({document:Bn,variables:{id:n.id},updateQuery:function(e,n){var r=n.subscriptionData;return function(e,t,n){if(!n.data)return t;var r=n.data.deploySubscription,i=Dt()(e),o=i.findIndex((function(e){return e.id===r.id}));return-1===o?{getDeploysBySite:Object(k.a)(Object(k.a)({},a.getDeploysBySite),{},{deploys:[r].concat(Object(D.a)(i))})}:(i[o]=Object(k.a)(Object(k.a)({},i[o]),r),{getDeploysBySite:Object(k.a)(Object(k.a)({},a.getDeploysBySite),{},{deploys:Object(D.a)(i)})})}(t,e,r)}});e.push(r)}))}}catch(n){console.error(n)}return function(){e.forEach((function(e){return e()}))}}),[a]),r.a.createElement(r.a.Fragment,null)};Rn.defaultProps={config:{data:null}},Rn.propTypes={config:Nn.a.shape({data:Nn.a.shape({getDeploysBySite:Nn.a.object}),subscribeToMore:Nn.a.func.isRequired})};var Mn=Rn,Ln=function(e){var t=e.siteBySlug,a=Object(v.j)(),n=Object(v.h)(),i=G()(t,"data.getSiteBySlug.id"),o=Object(se.b)(Ta.a,{client:K.b,variables:{siteId:i,limit:A.g},errorPolicy:"all",skip:!i,fetchPolicy:"cache-and-network"});return r.a.useEffect((function(){window.analytics.page("Site - Deploy",{path:n.pathname,search:n.search})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Mn,{config:o}),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"".concat(a.path),exact:!0},r.a.createElement(kn,{siteBySlug:t,deploys:o})),r.a.createElement(v.b,{path:"".concat(a.path,"/:deployId"),exact:!0},r.a.createElement(Cn,{siteBySlug:t,deploys:o})),r.a.createElement(v.a,{to:"*",redirect:"".concat(a.url)})))};Ln.defaultProps={siteBySlug:{data:null,error:null,loading:!1}};var Fn=Ln,Un=Object(ha.a)({root:{margin:"-15px 0"}}),_n=function(e){var t=e.children,a=Un();return r.a.createElement("div",{className:a.root},t)},Wn=Object(ha.a)((function(e){return{root:{display:"flex",margin:"15px 0",flexDirection:"row",alignItems:"center"},field:{minWidth:202},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4}}})),Vn=function(e){var t=e.field,a=e.value,n=e.loading,i=Wn();return r.a.createElement("div",{className:i.root},r.a.createElement(re.a,{variant:"body2",color:"textSecondary",className:i.field},t),function(){if(n){var e=Math.floor(321*Math.random()+130);return r.a.createElement(bt.a,{height:22,width:e,variant:"rect",animation:"wave",classes:{root:i.skeletonRoot}})}return r.a.createElement(re.a,{noWrap:!0,variant:"body2"},a)}())},zn=function(e){var t=e.loading,a=e.details,n=Object(Q.a)().t,i=Object.entries(a);return r.a.createElement(Z.a,{padding:"24px 28px"},r.a.createElement(_n,null,i.map((function(e){var a=Object(V.a)(e,2),i=a[0],o=a[1];return r.a.createElement(Vn,{key:i,value:o,loading:t,field:"".concat(n("sites.overview.".concat(i)),":")})}))))},Gn=Object(ha.a)((function(e){return{root:{display:"block",padding:0,borderTop:"1px solid ".concat(e.palette.palette.grey5)},stepContent:{height:73,display:"flex",padding:"0 20px",flexDirection:"row",alignItems:"center"},disabledOpacity:{opacity:function(e){return e.isStepDisabled?.5:"initial"}},stepNumber:{height:33,width:33,paddingTop:1,fontSize:21.7,borderRadius:"100%",border:"solid 1px ".concat(e.palette.palette.black),display:"flex",alignItems:"center",justifyContent:"center"},stepDetail:{flex:1,marginLeft:20,display:"flex",alignSelf:"stretch",justifyContent:"center",flexDirection:"column"},stepStatus:{display:"flex",alignSelf:"stretch",alignItems:"center",flexDirection:"row","& > div > svg":{position:"relative",top:3,fontSize:30,width:30,height:30,color:e.palette.palette.green}},stepAction:{padding:"8px 12px",fontSize:15,minWidth:230},title:{display:"flex"},subtitle:{marginTop:2,marginBottom:5,letterSpacing:0},cogIcon:{display:"flex","& svg":{marginLeft:5,color:e.palette.primary.main,fontSize:14}}}})),Kn=function(e){var t=e.orderNumber,a=e.title,n=e.subtitle,i=e.buttonText,o=e.buttonCallback,l=e.isDone,c=e.isCogIcon,s=e.isStepDisabled,u=Gn({isStepDisabled:s});return r.a.createElement("li",{className:u.root},r.a.createElement("div",{className:u.stepContent},r.a.createElement("div",{className:Bt()(u.stepNumber,u.disabledOpacity)},t),r.a.createElement("div",{className:Bt()(u.stepDetail,u.disabledOpacity)},r.a.createElement("div",{className:u.title},r.a.createElement(re.a,{variant:"body1"},a),c&&r.a.createElement(ne.default,{icon:["fal","cog"],className:u.cogIcon})),r.a.createElement(re.a,{variant:"caption",color:"textSecondary",className:u.subtitle},n)),r.a.createElement("div",{className:u.stepStatus},l?r.a.createElement(ne.default,{icon:["far","check"]}):r.a.createElement(ae.a,{disabled:s,onClick:o,buttonVariant:"primary",overrideClass:{button:u.stepAction}},i))))};Kn.defaultProps={buttonText:void 0,buttonCallback:void 0,isCogIcon:!1};var Hn=Kn,qn=Object(ha.a)((function(e){return{root:{display:"block",padding:0,borderTop:"1px solid ".concat(e.palette.palette.grey5)},stepContent:{display:"flex",padding:"15px 20px",alignItems:"center"},stepNumber:{height:33,width:33,paddingTop:1,fontSize:21.7,borderRadius:"100%",border:"solid 1px ".concat(e.palette.palette.black),display:"flex",alignItems:"center",justifyContent:"center"},stepDetail:{flexGrow:1,marginLeft:20},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},titleSkeleton:{marginBottom:5}}})),$n=function(e){var t=e.orderNumber,a=qn();return r.a.createElement("li",{className:a.root},r.a.createElement("div",{className:a.stepContent},r.a.createElement("div",{className:a.stepNumber},t),r.a.createElement("div",{className:a.stepDetail},r.a.createElement(bt.a,{width:170,height:24,variant:"rect",animation:"wave",classes:{root:Bt()(a.skeletonRoot,a.titleSkeleton)}}),r.a.createElement(bt.a,{width:470,height:14,variant:"rect",animation:"wave",classes:{root:a.skeletonRoot}})),r.a.createElement(bt.a,{width:175,height:25,variant:"rect",animation:"wave",classes:{root:a.skeletonRoot}})))},Yn=Object(ha.a)((function(){return{headerContent:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px"},closeButton:{padding:0,height:18,minWidth:"auto",fontSize:18}}})),Jn=function(e){var t=e.onClose,a=Yn(),n=Object(Q.a)().t;return r.a.createElement("div",{className:a.headerContent},r.a.createElement(re.a,{variant:"body1"},r.a.createElement(ga.a,{fontWeight:500},n("sitesGettingStarted.title"))),r.a.createElement(ae.a,{overrideClass:{button:a.closeButton},onClick:t,disableRipple:!0,disableElevation:!0},r.a.createElement(ne.default,{icon:["fal","times-circle"],fontSize:"inherit"})))},Qn=function(e){var t=!!G()(e,"data.getSiteBySlug.publishedDeploy"),a=G()(e,"data.getSiteBySlug.id",[]),n=G()(e,"data.getSiteBySlug.domains",[]),r=n.filter((function(e){return e.status===A.b.PROPAGATED})),i=n.filter((function(e){return e.status===A.b.PENDING_PROPAGATION})),o=n.find((function(e){return e.type===A.c.PRIMARY})),l=G()(e,"data.getSiteBySlug.latestDeploy.id"),c=r.length>1,s=Object(Q.a)().t,u=Object(v.g)(),d=Object(v.j)().params,m=t?"done":"instruction",p=c?"done":"instruction",b=i.length>0&&t?s("sitesGettingStarted.secondStep.instruction.verifyDomainButtonText"):s("sitesGettingStarted.secondStep.instruction.addDomainButtonText");return[{orderNumber:1,title:s("sitesGettingStarted.firstStep.".concat(m,".title")),isCogIcon:!t,subtitle:s("sitesGettingStarted.firstStep.".concat(m,".subtitle")),buttonText:t?void 0:s("sitesGettingStarted.firstStep.instruction.buttonText"),buttonCallback:function(){return u.push(g.t.buildUrl(null,"/sites/".concat(d.siteSlug,"/deploys/").concat(l)))},isStepDisabled:!1,isDone:t},{orderNumber:2,title:s("sitesGettingStarted.secondStep.".concat(p,".title")),subtitle:s("sitesGettingStarted.secondStep.".concat(p,".subtitle"),{domainName:o?o.name:""}),buttonText:c?void 0:b,buttonCallback:function(){return i.length>0?u.push(g.t.buildUrl(null,"/sites/".concat(d.siteSlug,"/settings/domain-management"))):(window.ga("send","event",A.d.SITES,"Add custom domain from Overview"),window.analytics.track("Add custom domain from Overview",{siteId:a,teamId:g.t.getAccountIdFromUrl()}),u.push(g.t.buildUrl(null,"/sites/".concat(d.siteSlug,"/add-domain"))))},isStepDisabled:!t,isDone:c}]},Zn=Object(ha.a)({list:{margin:0,padding:0,listStyleType:"none"},sectionWrapper:{marginBottom:16}}),Xn=function(e){var t=e.siteBySlug,a=Object(v.j)().params.siteSlug,i="".concat("hideSiteGettingStartedSection","_").concat(a),o=Qn(t),l=Object(n.useState)(!!window.localStorage.getItem(i)),c=Object(V.a)(l,2),s=c[0],u=c[1],d=Zn(),m=t.loading?$n:Hn;return s?null:r.a.createElement(Z.a,{padding:0,overrideClass:{wrapper:d.sectionWrapper}},r.a.createElement(Jn,{onClose:function(){window.localStorage.setItem(i,!0),u(!0)}}),r.a.createElement("ol",{className:d.list},o.map((function(e){return r.a.createElement(m,Object.assign({key:e.orderNumber},e))}))))},er=function(e){var t=e.t,a=e.siteBySlug,n=G()(a,"data.getSiteBySlug",{}),r=function(e){var t=G()(e,"data.getSiteBySlug.deploySettings.repository.url","")||"",a=G()(e,"data.getSiteBySlug.deploySettings.repository.branch","")||"",n=t.split("/");return"".concat(n.pop()," (branch: ").concat(a,")")}(a),i=Object(g.s)(n),o=G()(a,"data.getSiteBySlug.team.name","")||"",l=G()(a,"data.getSiteBySlug.createdAt","")||"",c=G()(a,"data.getSiteBySlug.publishedDeploy.completedAt","")||"",s=G()(a,"data.getSiteBySlug.publishedDeploy.ipfsHash","-"),u=G()(a,"data.getSiteBySlug.domains",[]),d=Object(g.q)(u),m=G()(d,"sslInfo.type","CLOUDFLARE");return{name:i,owner:o,repository:r,ipfsHash:s,certificate:t("sites.overview.ssl.".concat(m)),created:l.length?ba()(l).calendar():"",lastPublished:c.length?ba()(c).calendar():""}},tr=function(e){var t=e.siteBySlug,a=Object(Q.a)().t,n=Object(v.h)(),i=er({t:a,siteBySlug:t});return r.a.useEffect((function(){window.analytics.page("Site - Overview",{path:n.pathname,search:n.search})}),[]),r.a.createElement("div",{id:"test-sites-overview"},r.a.createElement(Xn,{siteBySlug:t}),r.a.createElement(zn,{details:i,loading:t.loading}))},ar=Object(ie.a)((function(){return{sectionContent:{padding:0},dataRow:{display:"flex",padding:"13px 20px"},sectionFooter:{padding:function(e){return e.data.length%2?"7px 20px 20px":20}},description:{padding:"21px 20px 23px"},singleDataRow:{display:"flex",padding:"0 20px"},alertContent:{padding:"15px 20px 0 20px"},defaultValue:{color:"#666666"}}})),nr=Object(ie.a)((function(){return{value:{fontWeight:500},input:{width:330},info:{marginTop:5,fontSize:12,letterSpacing:0},label:{flexBasis:190,flexShrink:0,lineHeight:function(e){return e.isEditingMode?2.2:null}},bigInput:{"& input":{padding:"8px 0px"}}}})),rr=function(e){var t=e.stateKey,a=e.value,n=e.label,i=e.onChange,o=e.placeholder,l=e.editingInfo,c=e.isEditingMode,s=e.renderEditableComponent,u=e.hideLabelInEditMode,d=e.useBigInput,m=e.renderValue,p=nr({isEditingMode:c}),b=u&&c;return r.a.createElement(r.a.Fragment,null,!b&&r.a.createElement(re.a,{variant:"body2",className:p.label},n),c?r.a.createElement("div",{className:p.editInputWrapper},s?s(a,i):r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,{placeholder:o,className:Bt()(p.input,Object(N.a)({},p.bigInput,d)),value:a,onChange:function(e){return i(t,e)}}),l&&r.a.createElement(re.a,{color:"textSecondary",className:p.info},l))):r.a.createElement(re.a,{variant:"body2",className:p.value,color:a?void 0:"textSecondary"},m(a)||o))};rr.defaultProps={stateKey:"",value:"",placeholder:"",editingInfo:"",onChange:void 0,renderEditableComponent:void 0,label:null,hideLabelInEditMode:!1,useBigInput:!1,renderValue:function(e){return e}};var ir=rr,or=Object(ie.a)((function(){return{buttonsWrapper:{display:"flex"},button:{flex:"0 0 150px",marginRight:10}}})),lr=function(e){var t=e.onSave,a=e.loading,n=e.onCancel,i=e.disabled,o=e.isEditingMode,l=e.goToEditButtonText,c=e.setIsEditingMode,s=e.goToEditButtonClass,u=e.isSubmitButtonDisabled,d=Object(Q.a)().t,m=or(),p={button:m.button},b=function(){return c(!1)};return o?r.a.createElement("div",{className:m.buttonsWrapper},r.a.createElement(ae.a,{buttonVariant:"primary",loading:a,onClick:function(){b(),t()},overrideClass:p,disabled:u},d("common.save")),r.a.createElement(ae.a,{buttonVariant:"secondary",onClick:function(){b(),n()},overrideClass:p},d("common.cancel"))):r.a.createElement("div",{className:m.buttonsWrapper},r.a.createElement(ae.a,{key:"go-to-edit",buttonVariant:"secondary",disabled:i,onClick:function(){return c(!0)},overrideClass:{button:Bt()(p.button,s)}},l))};lr.defaultProps={onSave:function(){},onCancel:function(){},loading:!1,disabled:!1,goToEditButtonText:"",goToEditButtonClass:"",isSubmitButtonDisabled:!1};var cr=lr,sr=function(e,t){var a=Object.keys(e).length===t.length,n=t.every((function(t){var a=t.stateKey;return t.value===e[a]}));return!a||!n},ur=function(e){var t=e.data,a=e.children,i=e.disabled,o=e.isFetchingData,l=e.onSubmitChanges,c=e.goToEditButtonText,s=e.goToEditButtonClass,u=t.reduce((function(e,t){return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},t.stateKey,t.value))}),{}),d=Object(n.useState)(!1),m=Object(V.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(u),g=Object(V.a)(f,2),y=g[0],v=g[1],h=ar(e),E=function(e,t){return v(Object(k.a)(Object(k.a)({},y),{},Object(N.a)({},e,t)))},O=function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(y);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){sr(y,t)&&v(u)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.a,null,t.map((function(e){var t=e.label,a=e.stateKey,n=e.placeholder,i=e.editingInfo,o=e.renderEditableComponent,l=e.hideIfNoValue,c=e.hideLabelInEditMode,s=e.useBigInput,u=e.renderValue,d=!!(a&&p&&E),m=y[a];return l&&""===m&&!d?null:r.a.createElement("div",{className:h.dataRow,key:t},r.a.createElement(ir,{label:t,stateKey:a,onChange:E,value:y[a],placeholder:n,editingInfo:i,renderEditableComponent:o,renderValue:u,isEditingMode:d,hideLabelInEditMode:c,useBigInput:s}))}))),r.a.createElement("div",{className:h.sectionFooter},a,r.a.createElement(cr,{onSave:O,loading:o,disabled:i,onCancel:function(){return v(u)},isEditingMode:p,setIsEditingMode:b,goToEditButtonText:c,goToEditButtonClass:s})))};ur.defaultProps={data:[],children:null,onSubmitChanges:function(){},goToEditButtonText:"",isFetchingData:!1,goToEditButtonClass:"",disabled:!1};var dr=ur,mr=Object(ie.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},resetAnchorStyles:{textDecoration:"none"}}})),pr=function(e){var t=e.repo,a=e.siteId,n=e.buildSettings,i=G()(n,"buildCommand","")||"",o=G()(n,"baseDirectoryPath","")||"",l=G()(n,"publishDirectoryPath","")||"",c=Object(Q.a)().t,s=mr(e),u=Object(se.a)(Va,{client:K.b}),d=Object(V.a)(u,1)[0],m=function(){var e=Object(W.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ga("send","event",A.d.SITES,"Edit deploy settings","".concat(t.buildCmd,", ").concat(t.publishDir)),window.analytics.track("Edit deploy settings",{siteId:a,buildCmd:t.buildCmd,publishDir:t.publishDir,teamId:g.t.getAccountIdFromUrl()}),e.prev=2,e.next=5,d({variables:{input:Object(k.a)(Object(k.a)(Object(k.a)({siteId:a},t.buildCmd!==i&&{buildCommand:t.buildCmd}),t.baseDir!==o&&{baseDirectoryPath:t.baseDir}),t.publishDir!==l&&{publishDirectoryPath:t.publishDir})},optimisticResponse:{__typename:"Mutation",editBuildSettings:{id:a,buildSettings:Object(k.a)(Object(k.a)(Object(k.a)(Object(k.a)({},n),t.buildCmd!==i&&{buildCommand:t.buildCmd}),t.baseDir!==o&&{baseDirectoryPath:t.baseDir}),t.publishDir!==l&&{publishDirectoryPath:t.publishDir}),__typename:"Site"}}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("Error editing build settings:",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),p=[{label:c("siteSettings.deployment.buildSettings.repository"),value:t},{stateKey:"baseDir",label:c("siteSettings.deployment.buildSettings.baseDirectory"),value:o,placeholder:c("siteSettings.deployment.buildSettings.notSet"),editingInfo:c("siteSettings.deployment.buildSettings.baseDirectoryTip")},{stateKey:"buildCmd",label:c("siteSettings.deployment.buildSettings.buildCommand"),value:i},{stateKey:"publishDir",label:c("siteSettings.deployment.buildSettings.publishDirectory"),value:l}];return r.a.createElement(Gt.a,{mainContent:c("siteSettings.deployment.buildSettings.title"),classes:{content:s.sectionContent}},r.a.createElement(dr,{data:p,goToEditButtonText:c("siteSettings.editSettings"),onSubmitChanges:m},r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#configuring-the-deployment",target:"_blank",rel:"noopener noreferrer",className:s.resetAnchorStyles},r.a.createElement(Be.a,{className:s.link},c("siteSettings.deployment.buildSettings.learnMore")))))};pr.defaultProps={repo:null,siteId:null};var br=pr,fr=a(1870),gr=Object(ie.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",cursor:"pointer","&:not(:last-child)":{paddingBottom:8}},description:{fontSize:12},radioBtn:{padding:0,margin:"2px 8px 0 0",color:e.palette.palette.grey2,"&$radioBtnChecked":{color:e.palette.palette.linkBlue},"& svg":{fontSize:18}},radioBtnChecked:{}}})),yr=function(e){var t=e.checked,a=e.value,n=e.onChange,i=e.title,o=e.description,l=e.id,c=gr();return r.a.createElement("label",{className:c.root,htmlFor:l},r.a.createElement(fr.a,{checked:t,onChange:function(e){return n(e.target.value)},value:a,name:"auto-build-PRs",id:l,classes:{root:c.radioBtn,checked:c.radioBtnChecked}}),r.a.createElement("div",null,r.a.createElement(ga.a,{fontWeight:500},r.a.createElement(re.a,{variant:"body2"},i)),r.a.createElement(re.a,{className:c.description,color:"textSecondary"},o)))},vr=function(e){var t=e.value,a=e.onChange,n=Object(Q.a)().t;return r.a.createElement("div",null,r.a.createElement(yr,{checked:t,value:!0,onChange:a,title:n("siteSettings.deployment.deployContexts.previewPRs.onTitle"),description:n("siteSettings.deployment.deployContexts.previewPRs.onDescription"),id:"prs-preview-on"}),r.a.createElement(yr,{checked:!t,value:!1,onChange:function(e){return a("true"===e)},title:n("siteSettings.deployment.deployContexts.previewPRs.offTitle"),description:n("siteSettings.deployment.deployContexts.previewPRs.offDescription"),id:"prs-preview-off"}))},hr=Object(ie.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},description:{padding:"21px 20px 10px"},resetAnchorStyles:{textDecoration:"none"},alertContent:{padding:"15px 20px 0 20px"}}})),Er=function(e){var t=e.siteId,a=e.deploySettings,i=e.repository,o=i.owner,l=i.name,c=G()(a,"repository.branch",""),s=G()(a,"prDeployPreviews"),u=Object(Q.a)().t,d=hr(e),m=Object(se.a)(Ga,{client:K.b}),p=Object(V.a)(m,1)[0],b=Object(n.useState)(!1),f=Object(V.a)(b,2),y=f[0],v=f[1],h=Object(n.useState)(c),E=Object(V.a)(h,2),O=E[0],j=E[1],S=function(){var e=Object(W.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.ga("send","event",A.d.SITES,"Edit deploy branch",n.prodBranch),window.analytics.track("Edit deploy branch",{siteId:t,prodBranch:n.prodBranch,teamId:g.t.getAccountIdFromUrl()}),e.prev=2,j(n.prodBranch),e.next=6,p({variables:{input:{siteId:t,repositoryBranch:n.prodBranch,prDeployPreviews:n.prDeployPreviews}},optimisticResponse:{__typename:"Mutation",editDeploySettings:{id:t,deploySettings:Object(k.a)(Object(k.a)({},a),{},{repository:Object(k.a)(Object(k.a)({},a.repository),{},{branch:n.prodBranch}),prDeployPreviews:!!n.prDeployPreviews}),__typename:"Site"}}});case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error editing deploy setting:",e.t0.message),v(!0),j(c);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),w=[{stateKey:"prodBranch",label:u("siteSettings.deployment.deployContexts.productionBranch"),value:O||c,renderEditableComponent:function(e,t){return r.a.createElement(Me,{defaultBranchName:c,branch:e,setBranch:function(e){return t("prodBranch",e)},githubAccountName:o,repositoryName:l})}},{stateKey:"prDeployPreviews",label:u("siteSettings.deployment.deployContexts.previewPRs.label"),value:s,renderValue:function(e){return"boolean"===typeof e?r.a.createElement(ga.a,{color:"text.primary"},u(e?"siteSettings.deployment.deployContexts.previewPRs.onTitle":"siteSettings.deployment.deployContexts.previewPRs.offTitle")):null},renderEditableComponent:function(e,t){return r.a.createElement(vr,{value:e,onChange:function(e){t("prDeployPreviews",e)}})}}];return r.a.createElement(Gt.a,{mainContent:u("siteSettings.deployment.deployContexts.title"),classes:{content:d.sectionContent}},y&&r.a.createElement("div",{className:d.alertContent},r.a.createElement(an.a,{type:"error",icon:["fal","times-circle"],message:u("siteSettings.deployment.deployContexts.error")})),r.a.createElement(re.a,{variant:"body2",className:d.description},u("siteSettings.deployment.deployContexts.subtitle")),r.a.createElement("div",{className:d.sectionFooter},r.a.createElement(dr,{data:w,goToEditButtonText:u("siteSettings.editSettings"),onSubmitChanges:S},r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#previewing-a-deployment",target:"_blank",rel:"noopener noreferrer",className:d.resetAnchorStyles},r.a.createElement(Be.a,{className:d.link},u("siteSettings.deployment.deployContexts.learnMore"))))))},Or=Object(ie.a)((function(e){return{cardContent:{padding:0},paragraph:{display:"inline-block",width:630,fontSize:15,color:e.palette.palette.black,lineHeight:"19px",margin:"20px 20px 5px 20px"}}})),jr=Object(ie.a)((function(e){return{footer:{margin:"10px 20px 20px 20px"},link:{color:e.palette.palette.primaryBlue,display:"inline-flex",textDecoration:"none"},docs:{padding:0,color:e.palette.palette.primaryBlue,marginRight:5},arrowIcon:{display:"flex",fontSize:15,marginLeft:5,color:e.palette.palette.primaryBlue},linkStyleReset:{textDecoration:"none"},button:{marginTop:10}}})),Sr=function(e){var t=e.siteId,a=e.domainsLength,n=e.hasWaitingDomain,i=jr(),o=Object(v.j)(),l=Object(Q.a)().t,c=a>1&&n,s=a<=1||c,u=g.t.buildUrl(null,"/sites/".concat(o.params.siteSlug,"/add-domain")),d=l(c?"sites.tabs.settings.customDomains.learnAboutRedirect":"sites.tabs.settings.customDomains.learnAboutCustomDomains"),m=c?"https://docs.fleek.co/hosting/site-deployment/#monitoring-a-deployment":"https://docs.fleek.co/hosting/domain-management/#custom-domains";return r.a.createElement("div",{className:i.footer},s&&r.a.createElement("div",null,r.a.createElement("a",{href:m,className:i.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(re.a,{variant:"body2",className:i.docs},d),r.a.createElement(ne.default,{className:i.arrowIcon,icon:["fal","long-arrow-right"],size:"inherit"}))),a<=1&&r.a.createElement("div",{className:i.button},r.a.createElement(y.b,{to:u,className:i.linkStyleReset},r.a.createElement(ae.a,{buttonVariant:"primary",className:i.button,onClick:function(){window.ga("send","event",A.d.SITES,"Add custom domain from domain management settings"),window.analytics.track("Add custom domain from domain management settings",{siteId:t,teamId:g.t.getAccountIdFromUrl()})}},l("sites.tabs.settings.customDomains.buttonText")))))},kr=a(1878),wr=a(1879),xr=Object(ie.a)((function(e){return{domainInfo:{flex:1,display:"inherit",alignItems:"flex-start",flexDirection:"column",justifyContent:"center"},domainText:{"&:before":{content:"''",display:"inline-block",width:6,height:6,marginRight:7,marginLeft:1,borderRadius:"100%"}},activeText:{color:e.palette.palette.primaryBlue,textDecoration:"none","&:before":{backgroundColor:e.palette.palette.primaryBlue},"&:hover":{textDecoration:"underline"}},inactiveText:{"&:before":{backgroundColor:e.palette.palette.grey2},color:e.palette.palette.grey2},typeText:{fontSize:13,marginLeft:15,color:e.palette.palette.grey2}}})),Cr=function(e){var t=e.type,a=e.domain,n=e.status,i=e.siteId,o=xr(),l=Object(Q.a)().t;return r.a.createElement("div",{className:o.domainInfo},n===A.b.PROPAGATED?r.a.createElement(re.a,{variant:"body2"},r.a.createElement("a",{href:"https://".concat(a),target:"_blank",rel:"noopener noreferrer",className:Bt()(o.domainText,o.activeText),onClick:function(){t!==A.c.DEFAULT_SUBDOMAIN&&window.analytics.track("Propagated added custom domain click",{siteId:i,domain:a,teamId:g.t.getAccountIdFromUrl()})}},a)):r.a.createElement(re.a,{variant:"body2",className:Bt()(o.domainText,o.inactiveText)},a),r.a.createElement(re.a,{className:o.typeText},l("sites.tabs.settings.customDomains.types.".concat(t),"")))},Ir=Object(ie.a)((function(e){return{domainStatus:{flex:1,display:"inherit",alignItems:"center",justifyContent:"flex-end","& > *":{marginRight:10}},DNSBox:{backgroundColor:e.palette.palette.fadeOutBlue,borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",padding:"2px 10px",textDecoration:"none"},DNSText:{color:e.palette.palette.primaryBlue,fontSize:13},waiting:{color:e.palette.palette.grey2,fontSize:15},check:{color:e.palette.palette.black,fontSize:15},warningWrapper:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",outline:"none","&:hover":{textDecoration:"underline"}},warningIcon:{marginRight:6,fontSize:16,color:e.palette.palette.yellowPending,position:"relative",top:2}}})),Nr=function(e){return"https://ipfs.io/ipns/".concat(e.replace("www.",""))},Dr=function(e){var t=e.domain,a=e.status,n=e.isTerminalDNS,i=e.checkDNSOnClick,o=e.dnsLinkVerified,l=Ir(),c=Object(Q.a)().t,s=function(){return o?r.a.createElement("a",{href:Nr(t),target:"_blank",rel:"noopener noreferrer",className:l.DNSBox},r.a.createElement(re.a,{className:l.DNSText},c("sites.tabs.settings.customDomains.linkDNS"))):null};return a===A.b.PROPAGATED&&n?r.a.createElement("div",{className:l.domainStatus},r.a.createElement("a",{href:"https://".concat(t),target:"_blank",rel:"noopener noreferrer",className:l.DNSBox},r.a.createElement(re.a,{className:l.DNSText},c("sites.tabs.settings.customDomains.terminalDNS")))):a===A.b.PENDING_PROPAGATION&&n?r.a.createElement("div",{className:l.domainStatus},r.a.createElement(re.a,{className:l.waiting},c("sites.tabs.settings.customDomains.waitingOnDNS")),s()):a===A.b.ERROR||a===A.b.PENDING_PROPAGATION&&!n?r.a.createElement("div",{className:l.domainStatus},r.a.createElement("div",{tabIndex:0,role:"button",className:l.warningWrapper,onClick:i,onKeyDown:i},r.a.createElement("div",{className:l.warningIcon},r.a.createElement(ne.default,{icon:["fas","exclamation-triangle"],fontSize:"inherit",color:"inherit"})),r.a.createElement(re.a,{className:l.check},c("sites.tabs.settings.customDomains.checkDNS"))),s()):r.a.createElement("div",{className:l.domainStatus},s())},Tr=a(284),Br=a.n(Tr),Ar=a(1045),Pr=a(1889),Rr=a(84),Mr=Object(ie.a)((function(e){return{optionsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:27},domainOption:{padding:0,fontSize:12,cursor:"pointer",color:e.palette.error.main},spinner:{marginLeft:10,"& > div":{display:"flex"},"& > div > div":{width:"12px !important",height:"12px !important",color:e.palette.error.main}},buttonBase:{flex:1,justifyContent:"flex-start",padding:"3px 0"},remove:{display:"flex",color:e.palette.palette.errorRed},linkText:{color:e.palette.palette.linkBlue},resetLinkStyles:{padding:"3px 0",textDecoration:"none"},iconButtonRoot:{width:5,padding:0,"&:hover":{backgroundColor:"transparent"}}}})),Lr=function(e){var t=e.domain,a=e.siteId,n=e.domainId,i=e.dnsLinkVerified,o=e.defaultDomain,l=e.isTerminalDNS,c=Mr(),s=Object(v.j)(),u=Object(Q.a)().t,d=Object(m.b)(),p=r.a.useState({isLoading:!1,isOptionsOpen:!1}),b=Object(V.a)(p,2),f=b[0],g=b[1],y=Object(se.a)(Rr.g,{client:K.b,update:function(e){try{var t=e.readQuery({query:Ta.b,variables:{slug:s.params.siteSlug}}),a=t.getSiteBySlug.domains.filter((function(e){return e.domainId!==n}));e.writeQuery({query:Ta.b,variables:{slug:s.params.siteSlug},data:Object(k.a)(Object(k.a)({},t),{},{getSiteBySlug:Object(k.a)(Object(k.a)({},t.getSiteBySlug),{},{domains:a})})})}catch(r){console.error("Error when trying to update GET_SITE_BY_SLUG query: ",r.message)}}}),h=Object(V.a)(y,1)[0],E=function(){var e=Object(W.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(Object(k.a)(Object(k.a)({},f),{},{isLoading:!0})),e.prev=2,e.next=5,h({variables:{input:{siteId:a,domainId:n}}});case 5:va.c.success(u("sites.tabs.settings.customDomains.success"),{autoClose:6e3}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error when trying to remove a custom domain: ",e.t0.message),va.c.error(u("sites.tabs.settings.customDomains.error"),{autoClose:6e3});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.optionsContainer},!l&&r.a.createElement(Pr.a,{menuId:"menu-dropdown-domain-options",trigger:r.a.createElement(Ar.a,{disableRipple:!0,disableFocusRipple:!0,classes:{root:c.iconButtonRoot}},r.a.createElement(Br.a,null))},r.a.createElement(wr.a,null,i?r.a.createElement("a",{href:Nr(t),target:"_blank",rel:"noopener noreferrer",className:c.resetLinkStyles},r.a.createElement(re.a,{variant:"subtitle1",className:c.linkText},u("sites.tabs.settings.customDomains.dnsLinkVerified"))):r.a.createElement(Le.a,{type:"button",className:c.buttonBase,onClick:function(){return d(Object(w.j)(w.e,{siteId:a,domainId:n,currentDomain:t,domain:o}))}},r.a.createElement(re.a,{variant:"subtitle1"},u("sites.tabs.settings.customDomains.dnsLink")))),r.a.createElement(wr.a,{className:c.domainOption},r.a.createElement(Le.a,{type:"button",className:c.buttonBase,onClick:E},r.a.createElement(re.a,{variant:"subtitle1",className:c.remove},u("sites.tabs.settings.customDomains.remove"),f.isLoading&&r.a.createElement("span",{className:c.spinner},r.a.createElement(Ue.a,{positioning:"inline"})))))))};Lr.defaultProps={domain:"",defaultDomain:null};var Fr=Lr,Ur=Object(ie.a)({domain:{minHeight:60,display:"flex",padding:"10px 20px"}}),_r=function(e){var t=e.siteId,a=e.domain,n=e.checkDNSOnClick,i=e.defaultDomain,o=Ur(),l=/\.tmnl\.co$/.test(a.domain)||/\.on\.fleek\.co/.test(a.domain)||!!a.stripeSessionId,c=G()(a,"domain","").split(".").length>2,s=a.dnsLinkStatus===A.b.PROPAGATED;return r.a.createElement(wr.a,{className:o.domain},r.a.createElement(Cr,{siteId:t,type:a.type,domain:a.domain,status:a.status,isTerminalDNS:l}),r.a.createElement(Dr,{dnsLinkVerified:s,domain:a.domain,status:a.status,isTerminalDNS:l,checkDNSOnClick:function(){n(a)}}),r.a.createElement(Fr,{siteId:t,domain:a.domain,domainId:a.domainId,dnsLinkVerified:s,isTerminalDNS:l,defaultDomain:i,isSubDomain:c}))};_r.defaultProps={defaultDomain:null};var Wr=_r,Vr=Object(ie.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},domainWrapper:{display:"flex",width:"100%",justifyContent:"space-between",margin:"5px 20px 5px 20px",padding:"10px 0px 10px 0px"},domainStatus:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:100},domainName:{marginBottom:5}}})),zr=function(){var e=Vr();return r.a.createElement("div",{className:e.domainWrapper},r.a.createElement("div",null,r.a.createElement("div",{className:e.domainName},r.a.createElement(bt.a,{width:210,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(bt.a,{width:122,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.domainStatus},r.a.createElement(bt.a,{width:110,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})))},Gr=function(e){var t=e.siteId,a=e.loading,n=e.domains,i=e.checkDNSOnClick;if(a)return Array(2).fill().map((function(e,t){return r.a.createElement(zr,{key:t})}));var o=n.filter((function(e){return/\.tmnl\.co$/.test(e.domain)||/\.on(-\w+)?\.fleek\.co/.test(e.domain)})),l=Object(V.a)(o,1)[0];return r.a.createElement(kr.a,{striped:!0},n.map((function(e){return r.a.createElement(Wr,{siteId:t,domain:e,key:e.domainId,checkDNSOnClick:i,defaultDomain:G()(l,"domain")})})))},Kr=function(e){var t=e.siteId,a=e.domains,n=e.loading,i=e.checkDNSOnClick,o=Or(),l=Object(Q.a)().t;return r.a.createElement(Gt.a,{mainContent:l("sites.tabs.settings.customDomains.title"),classes:{content:o.cardContent}},r.a.createElement(re.a,{className:o.paragraph},l("sites.tabs.settings.customDomains.paragraph")),r.a.createElement(Gr,{siteId:t,domains:a,loading:n,checkDNSOnClick:i}),r.a.createElement(Sr,{siteId:t,domainsLength:a.length,hasWaitingDomain:!!a.find((function(e){return"waiting"===e.status}))}))};Kr.defaultProps={siteId:"",domains:[],checkDNSOnClick:function(){}};var Hr=Kr,qr=Object(ie.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},description:{padding:"21px 20px 10px"},resetAnchorStyles:{textDecoration:"none"},alertContent:{padding:"15px 20px 0 20px"},dockerFirstLine:{marginBottom:3}}})),$r=function(e){var t=e.siteId,a=e.buildSettings,i=G()(a,"dockerImage","")||"",o=Object(Q.a)().t,l=qr(e),c=Object(se.a)(Va,{client:K.b}),s=Object(V.a)(c,1)[0],u=Object(n.useState)(!1),d=Object(V.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(i||""),f=Object(V.a)(b,2),g=f[0],y=f[1];Object(n.useEffect)((function(){y(i)}),[i]);var v=function(){var e=Object(W.a)(_.a.mark((function e(n){var r,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dockerFile.trim(),o=""===r?null:r,e.prev=2,e.next=5,s({variables:{input:{siteId:t,dockerImage:o}},optimisticResponse:{__typename:"Mutation",editBuildSettings:{id:t,buildSettings:Object(k.a)(Object(k.a)({},a),{},{dockerImage:o}),__typename:"Site"}}});case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),y(i),p(!0),console.error("Error editing docker image:",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),h=[{stateKey:"dockerFile",placeholder:o("siteSettings.deployment.dockerFile.label"),label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.dockerFirstLine},o("siteSettings.deployment.dockerFile.labelFirstLine")),r.a.createElement("div",null,o("siteSettings.deployment.dockerFile.labelSecondLine"))),value:g||"",hideIfNoValue:!0,hideLabelInEditMode:!0,useBigInput:!0}];return r.a.createElement(Gt.a,{mainContent:o("siteSettings.deployment.dockerFile.title"),classes:{content:l.sectionContent}},m&&r.a.createElement("div",{className:l.alertContent},r.a.createElement(an.a,{type:"error",icon:["fal","times-circle"],message:o("siteSettings.deployment.dockerFile.error")})),r.a.createElement(re.a,{variant:"body2",className:l.description},o("siteSettings.deployment.dockerFile.subtitle")),r.a.createElement("div",{className:l.sectionFooter},r.a.createElement(dr,{data:h,goToEditButtonText:o("siteSettings.editSettings"),onSubmitChanges:v},r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#configuring-the-deployment",target:"_blank",rel:"noopener noreferrer",className:l.resetAnchorStyles},r.a.createElement(Be.a,{className:l.link},o("siteSettings.deployment.dockerFile.learnMore"))))))},Yr=a(435),Jr=a.n(Yr),Qr=Object(ie.a)((function(){return{sectionContent:{padding:0},link:{marginBottom:21},description:{padding:"21px 20px 10px"},resetAnchorStyles:{textDecoration:"none"},alertContent:{padding:"15px 20px 0 20px"},dataWrapper:{padding:"13px 20px"},envVarRow:{display:"flex"},sectionFooter:{padding:function(e){var t=e.envVars;return 0===t.length||t.length%2?"7px 20px 20px":20}}}})),Zr=function(e){var t=e.siteId,a=e.buildSettings,i=G()(a,"environmentVariables",[]),o=Object(n.useState)([]),l=Object(V.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(!1),d=Object(V.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(!1),f=Object(V.a)(b,2),g=f[0],y=f[1],v=Object(Q.a)().t,h=Qr({envVars:i}),E=Object(se.a)(Va,{client:K.b}),O=Object(V.a)(E,1)[0],j=function(){var e=Object(W.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!1),n=c.filter((function(e){return!!e.name})).map(Jr()(["name","value"])),e.next=5,O({variables:{input:{siteId:t,environmentVariables:n}},optimisticResponse:{__typename:"Mutation",editBuildSettings:{id:t,buildSettings:Object(k.a)(Object(k.a)({},a),{},{environmentVariables:n.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{__typename:"EnvironmentVariable"})}))}),__typename:"Site"}}});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),y(!0),console.error("Error editing environment variables:",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){sr(i.map(Jr()(["name","value"])),c.map(Jr()(["name","value"])))&&s(i)}),[i]);var S=c.some((function(e){return e.errorMessage}));return r.a.createElement(Gt.a,{mainContent:v("siteSettings.deployment.environmentVariables.title"),classes:{content:h.sectionContent}},g&&r.a.createElement("div",{className:h.alertContent},r.a.createElement(an.a,{type:"error",icon:["fal","times-circle"],message:v("siteSettings.deployment.environmentVariables.error")})),r.a.createElement(re.a,{variant:"body2",className:h.description},v("siteSettings.deployment.environmentVariables.subtitle")),m?r.a.createElement("div",{className:h.dataWrapper},r.a.createElement(ot,{variables:c,onChange:s})):r.a.createElement(pt.a,null,c.map((function(e,t){var a=e.name,n=e.value;return r.a.createElement("div",{className:Bt()(h.envVarRow,h.dataWrapper),key:t},r.a.createElement(ir,{label:a,value:n,isEditingMode:!1}))}))),r.a.createElement("div",{className:h.sectionFooter},r.a.createElement("a",{href:"https://docs.fleek.co/hosting/site-deployment/#configuring-the-deployment",target:"_blank",rel:"noopener noreferrer",className:h.resetAnchorStyles},r.a.createElement(Be.a,{className:h.link},v("siteSettings.deployment.environmentVariables.learnMore"))),r.a.createElement(cr,{goToEditButtonText:v("siteSettings.editSettings"),onSave:j,onCancel:function(){return s(i)},isEditingMode:m,setIsEditingMode:p,isSubmitButtonDisabled:S})))},Xr=a(1875),ei=Object(ie.a)({buttons:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginTop:function(e){return e.error?16:0},"& > button":{margin:"0 5px"}},modal:{color:"red","& > div:focus":{outline:"none"}},message:{margin:"23px 0"},form:{"& > div:first-child > p":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},urlContainer:{top:-16,position:"relative"}}),ti=function(e){var t=e.open,a=e.onClose,n=e.siteBySlug,i=Object(v.g)(),o=Object(Q.a)().t,l=r.a.useState({error:null,loading:!1,inputValue:""}),c=Object(V.a)(l,2),s=c[0],u=c[1],d=Object(se.a)(Rr.c,{client:K.b}),m=Object(V.a)(d,1)[0],p=ei(s),b=G()(n,"data.getSiteBySlug.slug",""),f=G()(n,"data.getSiteBySlug.id",""),y=s.loading||!s.inputValue.length||s.inputValue===b||!!s.error,h=function(){var e=Object(W.a)(_.a.mark((function e(t){var a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(Object(k.a)(Object(k.a)({},s),{},{error:null,loading:!0})),e.prev=2,e.next=5,m({errorPolicy:"all",variables:{input:{siteId:f,name:s.inputValue}}});case 5:if(a=e.sent,!(n=a.errors)){e.next=11;break}return r=Array.isArray(n)?n[0].message:n.message,u(Object(k.a)(Object(k.a)({},s),{},{loading:!1,error:r})),e.abrupt("return");case 11:i.push(g.t.buildUrl(null,"/sites/".concat(s.inputValue,"/overview"))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),u(Object(k.a)(Object(k.a)({},s),{},{loading:!1,error:e.t0.message}));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Xr.a,{open:t,maxWidth:438,onClose:a,className:p.modal,title:o("modals.changeSiteName.title")},r.a.createElement(re.a,{variant:"body2",color:"textPrimary",className:p.message},o("modals.changeSiteName.message")),r.a.createElement("form",{id:"changeSiteNameForm",className:p.form,onSubmit:h},r.a.createElement(Te.a,{error:!!s.error,value:s.inputValue,errorMessage:s.error,label:o("modals.changeSiteName.siteNameInput"),onChange:function(e){u(Object(k.a)(Object(k.a)({},s),{},{error:null,inputValue:e.target.value}))}}),!s.error&&r.a.createElement("div",{className:p.urlContainer},r.a.createElement(re.a,{variant:"subtitle2",color:"textSecondary"},r.a.createElement("span",null,"https://"),r.a.createElement(re.a,{component:"span",variant:"subtitle2"},s.inputValue||b),r.a.createElement("span",null,Ma()))),r.a.createElement("div",{className:p.buttons},r.a.createElement(ae.a,{onClick:a,buttonVariant:"secondary",disabled:s.loading},o("common.cancel")),r.a.createElement(ae.a,{type:"submit",form:"changeSiteNameForm",buttonVariant:"primary",loading:s.loading,disabled:y},o("common.confirm")))))};ti.defaultProps={open:!1};var ai=ti,ni=Object(ie.a)((function(){return{sectionContent:{padding:0,maxWidth:715,"& li":{padding:"0px 20px"}},textContainer:{display:"flex",padding:10,"& > p:first-child":{width:"30%"},"& > p:last-child":{width:"70%"}},secondColumn:{fontWeight:500},buttonContainer:{padding:"10px 30px 22px 30px"}}})),ri=function(e){var t=e.i18n,a=e.siteBySlug,n=ni(),i=Object(Q.a)().t,o=r.a.useState(!1),l=Object(V.a)(o,2),c=l[0],s=l[1],u=er({t:i,siteBySlug:a});return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(ai,{open:!0,siteBySlug:a,onClose:function(){return s(!1)}}),r.a.createElement(Gt.a,{mainContent:t.title,classes:{content:n.sectionContent}},r.a.createElement(pt.a,null,Object.entries(u).map((function(e){var t=Object(V.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{key:a,className:n.textContainer},r.a.createElement(re.a,{variant:"body2"},"".concat(i("sites.overview.".concat(a)),":")),r.a.createElement(re.a,{noWrap:!0,variant:"body2",className:n.secondColumn},o))}))),r.a.createElement("div",{className:n.buttonContainer},r.a.createElement(ae.a,{buttonVariant:"secondary",onClick:function(){return s(!0)}},i("siteSettings.general.siteDetails.changeName")))))},ii=Object(ie.a)((function(){return{sectionContent:{display:"flex",flexDirection:"column",padding:"25px 30px"},button:{maxWidth:192,marginTop:15}}})),oi=function(e){var t=e.i18n,a=e.onDeleteSite,n=ii();return r.a.createElement(Gt.a,{mainContent:t.title,classes:{content:n.sectionContent}},r.a.createElement(re.a,{variant:"body2"},t.content),r.a.createElement(ae.a,{overrideClass:{button:n.button},buttonVariant:"important",onClick:a},r.a.createElement(re.a,{variant:"body2"},t.deleteSite)))},li=Object(ie.a)((function(){return{header:{padding:"5px 0 16px 0"},headerTitle:{fontWeight:500},spaceBetweenSections:{margin:0,border:"none",height:15}}})),ci=function(e){var t=e.siteBySlug,a=li(e),n=Object(Q.a)().t,i=G()(t,"data.getSiteBySlug.id",""),o=G()(t,"data.getSiteBySlug.buildSettings",{}),l=G()(t,"data.getSiteBySlug.deploySettings",{});return r.a.createElement("div",{id:"test-sites-continuos-deployment"},r.a.createElement(fa.Element,{name:Qt}),r.a.createElement("div",{className:a.header},r.a.createElement(re.a,{variant:"body1",className:a.headerTitle},n("siteSettings.sectionTitles.continuousDeployment")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},n("siteSettings.deployment.subtitle"))),r.a.createElement(br,{siteId:i,repo:G()(l,"repository.url","")||"",buildSettings:o}),r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement(Er,{siteId:i,deploySettings:l,repository:G()(t,"data.getSiteBySlug.latestDeploy.repository",{})}),r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement(fa.Element,{name:Zt}),r.a.createElement("div",{className:a.header},r.a.createElement(re.a,{variant:"body1",className:a.headerTitle},n("siteSettings.deployment.advancedBuildSettings.title")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},n("siteSettings.deployment.advancedBuildSettings.subtitle"))),r.a.createElement(Zr,{siteId:i,buildSettings:o}),r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement($r,{siteId:i,buildSettings:o}))};ci.defaultProps={siteBySlug:{loading:!0,data:null,error:null}};var si=ci,ui=a(166),di=a.n(ui),mi=a(1865),pi=function(e){return{domains:{title:e("sites.tabs.settings.domains.title"),paragraph:e("sites.tabs.settings.domains.paragraph")},customDomains:{boxContent:{title:e("sites.tabs.settings.customDomains.title"),paragraph:e("sites.tabs.settings.customDomains.paragraph"),buttonText:e("sites.tabs.settings.customDomains.buttonText"),learnAboutCustomDomains:e("sites.tabs.settings.customDomains.learnAboutCustomDomains"),learnAboutRedirect:e("sites.tabs.settings.customDomains.learnAboutRedirect"),waitingOnDNS:e("sites.tabs.settings.customDomains.waitingOnDNS"),checkDNS:e("sites.tabs.settings.customDomains.checkDNS"),terminalDNS:e("sites.tabs.settings.customDomains.terminalDNS")},defaultSubdomain:e("sites.tabs.settings.customDomains.defaultSubdomain"),primaryDomain:e("sites.tabs.settings.customDomains.primaryDomain"),redirectsAutomatically:e("sites.tabs.settings.customDomains.redirectsAutomatically")},ens:{title:e("sites.tabs.settings.ens.title"),paragraph:e("sites.tabs.settings.ens.paragraph")},http:{title:e("sites.tabs.settings.http.title"),paragraph:e("sites.tabs.settings.http.paragraph")},ssl:{title:e("sites.tabs.settings.ssl.title"),errorParagraph:e("sites.tabs.settings.ssl.errorParagraph"),buttonText:e("sites.tabs.settings.ssl.buttonText"),errorlink:e("sites.tabs.settings.ssl.errorlink"),error:e("sites.tabs.settings.ssl.error"),waiting:e("sites.tabs.settings.ssl.waiting"),waitingParagraph:e("sites.tabs.settings.ssl.waitingParagraph"),httpEnabled:e("sites.tabs.settings.ssl.httpEnabled"),certificate:e("sites.tabs.settings.ssl.certificate"),domains:e("sites.tabs.settings.ssl.domains"),expires:e("sites.tabs.settings.ssl.expires"),created:e("sites.tabs.settings.ssl.created"),notDeployed:e("sites.tabs.settings.ssl.notDeployed"),notDeployedParagraph:e("sites.tabs.settings.ssl.notDeployedParagraph")}}},bi=Object(ie.a)((function(e){return{titleWrapper:{marginBottom:13},paragraph:{color:e.palette.palette.grey2,fontSize:15},sectionWrapper:{marginBottom:30},comingSoon:{color:e.palette.palette.yellowPending,marginLeft:9},pollingMessage:{marginBottom:10}}})),fi=function(e,t){var a=G()(e,"type","CLOUDFLARE"),n=function(e){var t="waiting";return e&&(t="success"),G()(e,"error")&&(t="error"),t}(e),r=G()(e,"error"),i=G()(e,"createdAt"),o=ba()(i).format("MMM DD, YYYY"),l=G()(e,"expiresAt"),c=ba()(l).format("MMM DD, YYYY");return{certificate:t("sites.overview.ssl.".concat(a)),status:n,expires:c,errorMsg:r,created:o}},gi=a(156),yi=Object(ie.a)((function(e){return{contentWrapper:{margin:"5px 0 15px 0",padding:"10px 20px"},paragraph:{color:e.palette.palette.grey2,fontSize:15,lineHeight:"19px"},alertBoxWrapper:{marginBottom:15},resetAnchorStyles:{textDecoration:"none"},paragraphWrapper:{marginBottom:13},linkWrapper:{marginBottom:17},waitingWrapper:{marginBottom:8},waiting:{display:"inline-block",fontSize:15,color:e.palette.palette.black,fontWeight:500},gearIcon:{display:"inline-block",color:e.palette.palette.starYellow,fontSize:13,position:"relative",top:2,marginLeft:5,"& svg":{animation:"$spin 4s infinite linear"}},"@keyframes spin":{from:{transform:"rotWate(0deg)"},to:{transform:"rotate(360deg)"}},enabledTextWrapper:{display:"inline-block"},darkText:{fontSize:15,color:e.palette.palette.black,fontWeight:500,display:"inline-block"},checkIcon:{marginLeft:5,display:"inline-block",fontSize:11,color:e.palette.palette.green},tag:{width:190,fontSize:15,color:e.palette.palette.black,display:"inline-block"},infoLine:{padding:"11px 20px"},newDomain:{marginTop:5},enabledWrapper:{padding:"18px 20px 10px 20px"},cardTitledContent:{padding:0}}})),vi=function(e){var t=e.i18n,a=e.certificate,n=e.domains,i=e.expires,o=e.created,l=yi();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.enabledWrapper},r.a.createElement("div",{className:l.enabledTextWrapper},r.a.createElement(re.a,{className:l.darkText},t.httpEnabled)),r.a.createElement("div",{className:l.checkIcon},r.a.createElement(ne.default,{fontSize:"inherit",icon:["fal","check"]}))),r.a.createElement(pt.a,null,r.a.createElement("div",{className:l.infoLine},r.a.createElement(re.a,{className:l.tag},t.certificate),r.a.createElement(re.a,{className:l.darkText},a)),r.a.createElement("div",{className:l.infoLine},n.map((function(e,a){return 0===a?r.a.createElement("div",{key:e},r.a.createElement(re.a,{className:l.tag},t.domains),r.a.createElement(re.a,{className:l.darkText},e)):r.a.createElement("div",{className:l.newDomain},r.a.createElement(re.a,{className:l.tag}," "),r.a.createElement(re.a,{className:l.darkText},e))}))),r.a.createElement("div",{className:l.infoLine},r.a.createElement(re.a,{className:l.tag},t.expires),r.a.createElement(re.a,{className:l.darkText},i)),r.a.createElement("div",{className:l.infoLine},r.a.createElement(re.a,{className:l.tag},t.created),r.a.createElement(re.a,{className:l.darkText},o))))};vi.defaultProps={i18n:{},certificate:"",domains:"",expires:"",created:""};var hi=vi,Ei=function(e){var t=e.i18n,a=e.errorDocsLink,n=e.buttonOnClick,i=yi();return r.a.createElement("div",{className:i.contentWrapper},r.a.createElement("div",{className:i.alertBoxWrapper},r.a.createElement(an.a,{message:t.error,icon:["fal","info-circle"],type:"error"})),r.a.createElement("div",{className:i.paragraphWrapper},r.a.createElement(re.a,{className:i.paragraph},t.errorParagraph)),r.a.createElement("div",{className:i.linkWrapper},r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:i.resetAnchorStyles},r.a.createElement(Be.a,null,t.errorLink))),r.a.createElement(ae.a,{buttonVariant:"secondary",onClick:n},t.buttonText))};Ei.defaultProps={i18n:{},buttonOnClick:function(){}};var Oi=Ei,ji=function(e){var t=e.i18n,a=e.buttonOnClick,n=yi();return r.a.createElement("div",{className:n.contentWrapper},r.a.createElement("div",{className:n.waitingWrapper},r.a.createElement(re.a,{className:n.waiting},t.waiting),r.a.createElement("div",{className:n.gearIcon},r.a.createElement(ne.default,{fontSize:"inherit",icon:["fal","cog"]}))),r.a.createElement("div",{className:n.paragraphWrapper},r.a.createElement(re.a,{className:n.paragraph},t.waitingParagraph)),r.a.createElement(ae.a,{buttonVariant:"secondary",onClick:a},t.buttonText))};ji.defaultProps={i18n:{},buttonOnClick:function(){}};var Si=ji,ki=function(e){var t=e.i18n,a=yi();return r.a.createElement("div",{className:a.contentWrapper},r.a.createElement("div",{className:a.waitingWrapper},r.a.createElement(re.a,{className:a.waiting},t.notDeployed)),r.a.createElement(re.a,{className:a.paragraph},t.notDeployedParagraph))};ki.defaultProps={i18n:{}};var wi={success:hi,waiting:Si,error:Oi,default:Oi,not_deployed:ki},xi=function(e){var t=e.i18n,a=e.status,n=Object(gi.a)(e,["i18n","status"]),i=yi();return r.a.createElement(Gt.a,{mainContent:t.title,classes:{content:i.cardTitledContent}},function(){var e=wi[a]||wi.default;return r.a.createElement(e,Object.assign({i18n:t},n))}())};xi.defaultProps={i18n:{},status:"error",buttonOnClick:function(){},certificate:"",domains:[""],expires:"",created:""};var Ci=xi,Ii=a(405),Ni={VERIFIED:"VERIFIED",NOT_VERIFED:"NOT_VERIFIED",PENDING:"PENDING_CONFIRMATION"},Di=Object(ie.a)((function(e){return{container:{minHeight:60,display:"flex",paddingTop:10},domainStatus:{flex:1,alignItems:"center",display:"flex"},notVerifiedStatus:{display:"flex",flex:1,justifyContent:"flex-end"},verifiedStatus:{display:"flex",flex:1,justifyContent:"flex-end"},pendingChip:{marginRight:10},domainInfo:{display:"inherit",alignItems:"flex-start",flexDirection:"column",justifyContent:"center",width:325},domainLink:{"&:before":{content:"''",display:"inline-block",width:6,height:6,marginRight:7,marginLeft:1,borderRadius:"100%"},textDecoration:"none"},activeText:{cursor:"pointer",color:e.palette.palette.primaryBlue,textDecoration:"none","&:before":{backgroundColor:e.palette.palette.primaryBlue},"&:hover":{textDecoration:"underline"}},inactiveText:{"&:before":{backgroundColor:e.palette.palette.grey2},color:e.palette.palette.grey2},description:{fontSize:13,marginLeft:15,color:e.palette.palette.grey2},optionsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:27},domainOption:{padding:0,fontSize:12,cursor:"pointer"},remove:{display:"flex",color:e.palette.error.main},spinner:{marginLeft:10,"& > div":{display:"flex"},"& > div > div":{width:"12px !important",height:"12px !important",color:e.palette.error.main}},buttonBase:{flex:1,justifyContent:"space-between",padding:"3px 0"},check:{color:e.palette.palette.black,fontSize:15},warningWrapper:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",outline:"none","&:hover":{textDecoration:"underline"}},warningIcon:{marginRight:6,fontSize:16,color:e.palette.palette.yellowPending,position:"relative",top:2},iconButtonRoot:{width:5,padding:0,"&:hover":{backgroundColor:"transparent"}}}})),Ti=function(e){var t,a=e.ensInfo,i=e.setEnsControllerOnClick,o=e.siteId,l=Di(),c=Object(Q.a)().t,s=a.domain,u=a.verificationStatus,d=Object(n.useState)(!1),m=Object(V.a)(d,2),p=m[0],b=m[1],f=Object(se.a)(Ii.a,{client:K.b}),g=Object(V.a)(f,1)[0],y=u===Ni.ACTIVE?"https://".concat(s,"/"):null,v=function(){var e=Object(W.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.prev=2,e.next=5,g({variables:{input:{siteId:o}}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:b(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.container},r.a.createElement("div",{className:l.domainInfo},r.a.createElement(re.a,{variant:"body2"},r.a.createElement("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:Bt()(l.domainLink,(t={},Object(N.a)(t,l.activeText,u===Ni.ACTIVE),Object(N.a)(t,l.inactiveText,u!==Ni.ACTIVE),t))},s)),r.a.createElement(re.a,{className:l.description},c("sites.tabs.settings.ens.domainRow.ensDomain"))),function(){var e,t=(e={},Object(N.a)(e,Ni.NOT_VERIFED,r.a.createElement("div",{className:l.notVerifiedStatus},r.a.createElement("div",{tabIndex:0,role:"button",className:l.warningWrapper,onClick:i,onKeyDown:i},r.a.createElement("div",{className:l.warningIcon},r.a.createElement(ne.default,{icon:["fas","exclamation-triangle"],fontSize:"inherit",color:"inherit"})),r.a.createElement(re.a,{className:l.check},c("sites.tabs.settings.ens.domainRow.setFleek"))))),Object(N.a)(e,Ni.PENDING,r.a.createElement("div",{className:l.verifiedStatus},r.a.createElement("div",{className:l.pendingChip},r.a.createElement(cn.a,{text:c("sites.tabs.settings.ens.domainRow.pending"),color:"yellow"})),r.a.createElement(cn.a,{text:c("sites.tabs.settings.ens.domainRow.fleekController"),color:"blue"}))),Object(N.a)(e,Ni.VERIFIED,r.a.createElement("div",{className:l.verifiedStatus},r.a.createElement(cn.a,{text:c("sites.tabs.settings.ens.domainRow.fleekController"),color:"blue"}))),e);return r.a.createElement("div",{className:l.domainStatus},t[u]||null)}(),r.a.createElement("div",{className:l.optionsContainer},r.a.createElement(Pr.a,{menuId:"menu-dropdown-ens-domain-options",trigger:r.a.createElement(Ar.a,{disableRipple:!0,disableFocusRipple:!0,classes:{root:l.iconButtonRoot}},r.a.createElement(Br.a,null))},r.a.createElement(wr.a,{className:l.domainOption},r.a.createElement(Le.a,{type:"button",className:l.buttonBase,onClick:v},r.a.createElement(re.a,{variant:"subtitle1",className:l.remove},c("sites.tabs.settings.ens.domainRow.remove"),p&&r.a.createElement("span",{className:l.spinner},r.a.createElement(Ue.a,{positioning:"inline"}))))))))},Bi=Object(ie.a)((function(e){return{resetAnchorStyles:{textDecoration:"none"},link:{marginTop:10,marginBottom:21,color:e.palette.palette.primaryBlue,textDecoration:"none"}}})),Ai=function(){var e=Bi(),t=Object(Q.a)().t,a=Object(v.j)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"https://docs.fleek.co/hosting/domain-management/#ens-domains",target:"_blank",rel:"noopener noreferrer",className:e.resetAnchorStyles},r.a.createElement(Be.a,{className:e.link},t("sites.tabs.settings.ens.noDomain.learnMore"))),r.a.createElement(y.b,{to:g.t.buildUrl(null,"/sites/".concat(a.params.siteSlug,"/add-ens-domain")),className:e.resetAnchorStyles},r.a.createElement(ae.a,{buttonVariant:"primary",className:e.button},t("sites.tabs.settings.ens.noDomain.addEns"))))},Pi=Object(ie.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},domainWrapper:{display:"flex",width:"100%",justifyContent:"space-between",margin:"5px 0px 5px 0px",padding:"10px 0px 10px 0px"},domainStatus:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:60},domainName:{marginBottom:5}}})),Ri=function(){var e=Pi();return r.a.createElement("div",{className:e.domainWrapper},r.a.createElement("div",null,r.a.createElement("div",{className:e.domainName},r.a.createElement(bt.a,{width:210,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(bt.a,{width:122,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.domainStatus},r.a.createElement(bt.a,{width:110,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})))},Mi=Object(ie.a)((function(e){return{cardContent:{padding:20},paragraph:{display:"inline-block",width:666,fontSize:15,color:e.palette.palette.black,lineHeight:"19px"}}})),Li=function(e){var t=e.ensInfo,a=e.setEnsControllerOnClick,n=e.loading,i=e.siteId,o=Object(Q.a)().t,l=Mi();return r.a.createElement(Gt.a,{mainContent:o("sites.tabs.settings.ens.ensBox.title"),classes:{content:l.cardContent}},r.a.createElement(re.a,{className:l.paragraph},o("sites.tabs.settings.ens.ensBox.description")),n?r.a.createElement(Ri,null):t?r.a.createElement(Ti,{siteId:i,ensInfo:t,setEnsControllerOnClick:a}):r.a.createElement(Ai,null))};Li.defaultProps={ensInfo:null};var Fi=Li,Ui=a(1007),_i=a.n(Ui),Wi=a(1008),Vi=a.n(Wi),zi=a(1031),Gi=a(1023),Ki=a.n(Gi),Hi=a(154),qi=a(336),$i=a.n(qi),Yi=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(k.a)(Object(k.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.generic")}}))},Ji=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(k.a)(Object(k.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.failedToConnect")}}))},Qi=function(e){var t=e.state,a=e.setState,n=e.t,r=Object(Hi.a)().network,i="".concat(r.charAt(0).toUpperCase()).concat(r.substring(1));a(Object(k.a)(Object(k.a)({},t),{},{error:{type:"warning",message:n("sites.tabs.settings.ens.setControllerModal.errors.wrongNetId",{network:i})}}))},Zi=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(k.a)(Object(k.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.notOwnerOfDomain")}}))},Xi=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(k.a)(Object(k.a)({},t),{},{error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.failedTransaction")}}))},eo=function(e){var t=e.state,a=e.setState,n=e.t;a(Object(k.a)(Object(k.a)({},t),{},{loading:!1,error:{type:"error",message:n("sites.tabs.settings.ens.setControllerModal.errors.rejectedTransaction")}}))},to=function(){var e=Object(W.a)(_.a.mark((function e(t){var a,n,r,i,o,l,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.siteId,n=t.domain,r=t.state,i=t.setState,o=t.txHash,l=void 0===o?null:o,c=t.verifySiteEnsDomain,e.prev=1,e.next=4,c({variables:{input:{siteId:a,domain:n,transactionHash:l}}});case 4:i(Object(k.a)(Object(k.a)({},r),{},{loading:!1,open:!1})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),Yi(t),i(Object(k.a)(Object(k.a)({},r),{},{loading:!1}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),ao=[{inputs:[{internalType:"contract ENS",name:"_ens",type:"address"},{internalType:"bytes32",name:"_baseNode",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"controller",type:"address"}],name:"ControllerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"controller",type:"address"}],name:"ControllerRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"expires",type:"uint256"}],name:"NameMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"expires",type:"uint256"}],name:"NameRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"expires",type:"uint256"}],name:"NameRenewed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"GRACE_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"controller",type:"address"}],name:"addController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"available",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"baseNode",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"controllers",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ens",outputs:[{internalType:"contract ENS",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"nameExpires",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"reclaim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"register",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"registerOnly",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"controller",type:"address"}],name:"removeController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"renew",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],no=[{inputs:[{internalType:"contract ENS",name:"_old",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"old",outputs:[{internalType:"contract ENS",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setSubnodeRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"}],ro=function(e){return new Promise((function(t){return setTimeout(t,e)}))},io=function(){var e=Object(W.a)(_.a.mark((function e(t){var a,n,r,i,o,l,c,s,u,d,m,p,b,f,g,y,v,h;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.web3,n=t.domain,r=t.fleekControllerAddress,i=t.state,o=t.setState,l=t.ensContractRegistryAddress,c=t.ensContractStorageAddress,s=t.registrantAddress,e.prev=1,e.next=4,ro(100);case 4:return u=$i.a.normalize(n),d=u.split("."),m=d.length>2,p=d[0],b=d.slice(1,d.length).join("."),f=$i.a.hash(b),g=new a.eth.Contract(ao,l),y=new a.eth.Contract(no,c),v=g.methods.reclaim(a.utils.sha3(p),r),h=y.methods.setSubnodeOwner(f,a.utils.sha3(p),r),(m?h:v).send({from:s}).on("transactionHash",(function(e){to(Object(k.a)(Object(k.a)({},t),{},{txHash:e}))})).on("error",(function(){eo(t)})),e.abrupt("return",null);case 19:return e.prev=19,e.t0=e.catch(1),Xi(t),e.abrupt("return",o(Object(k.a)(Object(k.a)({},i),{},{loading:!1})));case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),oo=function(){var e=Object(W.a)(_.a.mark((function e(t){var a,n,r,i,o,l,c,s,u,d,m,p,b,f,g;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state,n=t.setState,r=t.ensDomain,i=t.siteId,n(Object(k.a)(Object(k.a)({},a),{},{error:null})),o=r.registrantAddress,l=r.isFleekControlled,c=r.domain,s=Object(Hi.a)(),u={torus:{package:Ki.a},authereum:{package:zi.a}},e.prev=5,(p=new Vi.a({cacheProvider:!1,providerOptions:u})).providerController.cachedProvider=null,e.next=10,p.connect();case 10:return b=e.sent,m=new _i.a(b),e.next=14,m.eth.net.getId();case 14:d=e.sent,e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(5),Ji(t),e.abrupt("return");case 21:if(!l){e.next=24;break}return to(t),e.abrupt("return");case 24:if(d===s.netId){e.next=27;break}return Qi(t),e.abrupt("return");case 27:return e.next=29,m.eth.getAccounts();case 29:if(e.sent[0]===o){e.next=33;break}return Zi(t),e.abrupt("return");case 33:return n(Object(k.a)(Object(k.a)({},a),{},{loading:!0})),f=null,e.prev=35,e.next=38,K.b.query({query:H.c,variables:{siteId:i}});case 38:g=e.sent,f=g.data.getEnsControllerAddress,e.next=47;break;case 42:return e.prev=42,e.t1=e.catch(35),Yi(t),n(Object(k.a)(Object(k.a)({},a),{},{loading:!1})),e.abrupt("return");case 47:io(Object(k.a)(Object(k.a)({},t),{},{domain:c,fleekControllerAddress:f,state:a,setState:n,web3:m,ensContractRegistryAddress:s.ENSRegistryContractAddress,ensContractStorageAddress:s.ENSStorageContractAddress,registrantAddress:o}));case 48:case"end":return e.stop()}}),e,null,[[5,17],[35,42]])})));return function(t){return e.apply(this,arguments)}}();function lo(){var e=Object(ue.a)(["\n  mutation verifyDns($input: VerifyDnsInput!) {\n    verifyDns(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return lo=function(){return e},e}var co=me()(lo(),pe.c),so=function(e){var t=e.siteBySlug,a=Object(v.g)(),i=Object(v.h)(),o=Object(n.useState)(!1),l=Object(V.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)({}),d=Object(V.a)(u,2),m=d[0],p=d[1],b=Object(n.useState)(!1),f=Object(V.a)(b,2),y=f[0],h=f[1],E=Object(n.useState)(!1),O=Object(V.a)(E,2),j=O[0],S=O[1],w=Object(n.useState)({error:null,loading:!1,open:!1}),x=Object(V.a)(w,2),C=x[0],I=x[1],N=G()(t,"data.getSiteBySlug.id"),D=G()(t,"data.getSiteBySlug.domains",[]),T=G()(t,"data.getSiteBySlug.ensDomain"),B=t.loading,P=bi(),R=Object(Q.a)().t,M=pi(R),L=Object(se.a)(Rr.m,{client:K.b}),F=Object(V.a)(L,1)[0];Object(n.useEffect)((function(){var e=di.a.parse(i.search),t=e.errorPayment,n=e.successPayment,r=g.t.buildUrl(null,null,["successPayment","errorPayment"]);n?va.c.success(R("sites.tabs.settings.customDomains.successPayment"),{autoClose:6e3}):t&&va.c.error(R("sites.tabs.settings.customDomains.errorPayment"),{autoClose:6e3}),a.push(r)}),[]);var U=Object(se.a)(co,{client:K.b,onCompleted:function(){return function(e,t,a){e(!1),t(!1),a(!1)}(s,h,S)}}),z=Object(V.a)(U,2),H=z[0],q=z[1].loading,$=function(e){var t=/^[\w,-]+\.([\w,-]+\.)+[\w,-]+$/.test(e.domain);window.ga("send","event",A.d.SITES,"Check DNS Configuration"),window.analytics.track("Check DNS Configuration",{siteId:N,domain:e.domain,domainId:m.domainId,teamId:g.t.getAccountIdFromUrl()}),p(e),t?h(!0):S(!0)},Y=function(){var e=Object(W.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),window.ga("send","event",A.d.SITES,"Verify DNS configuration"),t={siteId:N,domain:m.domain,domainId:m.domainId,teamId:g.t.getAccountIdFromUrl()},e.prev=3,e.next=6,H({variables:{input:{siteId:N,domainId:m.domainId}}});case 6:window.analytics.track("Verify DNS configuration",t),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(3),t.error=e.t0.message,window.analytics.track("Failed Verify DNS configuration",t),s(!0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter((function(e){return e.boughtWithTerminal&&"PENDING_PROPAGATION"===e.status}));return t}(D).length>0;return r.a.createElement("div",{id:"test-sites-domain-managment"},r.a.createElement("div",{id:Xt},r.a.createElement(fa.Element,{name:Xt}),r.a.createElement("div",{className:P.titleWrapper},r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"body1"},M.domains.title),r.a.createElement(re.a,{className:P.paragraph},M.domains.paragraph))),r.a.createElement("div",{className:P.sectionWrapper},J&&r.a.createElement(mi.a,{className:P.pollingMessage,severity:"info"},R("sites.tabs.settings.customDomains.pollingMessage")),r.a.createElement(Hr,{siteId:N,domains:D,checkDNSOnClick:$,loading:B}))),r.a.createElement("div",{id:ea},r.a.createElement(fa.Element,{name:ea}),r.a.createElement("div",{className:P.titleWrapper},r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"body1"},M.ens.title),r.a.createElement(re.a,{className:P.paragraph},M.ens.paragraph))),r.a.createElement("div",{className:P.sectionWrapper},r.a.createElement(Fi,{ensInfo:T,setEnsControllerOnClick:function(){I(Object(k.a)(Object(k.a)({},C),{},{open:!0}))},loading:B,siteId:N}))),r.a.createElement("div",{id:ta},r.a.createElement(fa.Element,{name:ta}),r.a.createElement("div",{className:P.titleWrapper},r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"body1"},M.http.title),r.a.createElement(re.a,{className:P.paragraph},M.http.paragraph))),r.a.createElement("div",{className:P.sectionWrapper},function(){var e=G()(t,"data.getSiteBySlug.publishedDeploy.id",null),a=Object(g.q)(D),n=G()(a,"sslInfo"),i=fi(n,R);return r.a.createElement(Ci,{i18n:M.ssl,errorDocsLink:"https://docs.fleek.co/hosting/site-deployment/#monitoring-a-deployment",buttonOnClick:function(){return $(Object(k.a)(Object(k.a)({},a),{},{value:a.domain,id:a.domainId}))},status:e?i.status:"not_deployed",certificate:i.certificate,domains:[G()(a,"domain","")],expires:i.expires,errorMsg:i.errorMsg,created:i.created})}())),r.a.createElement(g.d,{open:y,onClose:function(){h(!1),s(!1)},loading:q,onSubmit:function(){return Y()},domain:m.domain,terminalRecord:"ipfs-ha.fleek.co",error:c}),r.a.createElement(g.c,{open:j,onClose:function(){S(!1),s(!1)},loading:q,onSubmit:function(){return Y()},server:"http://rihana.ns.cloudflare.com/",ip:"44.233.93.166",domain:m.domain,error:c}),r.a.createElement(g.l,{open:C.open,onClose:function(){I(Object(k.a)(Object(k.a)({},C),{},{open:!1}))},state:C,setState:I,onSubmit:function(){oo({state:C,setState:I,ensDomain:T,siteId:N,t:R,verifySiteEnsDomain:F})},ensDomain:T,siteId:N}))};so.defaultProps={siteBySlug:{loading:!0,data:null,error:null}};var uo=so,mo=Object(ie.a)({buttons:{display:"flex",flexDirection:"row",justifyContent:"flex-end",margin:"0 -5px","& > button":{margin:"0 5px"}},modal:{color:"red","& > div:focus":{outline:"none"}},message:{margin:"10px 0 18px 0","& > span":{color:"#000000"}},alert:{margin:"15px 0"}}),po=function(e){var t=e.open,a=e.onClose,i=e.siteBySlug,o=G()(i,"data.getSiteBySlug.id",""),l=G()(i,"data.getSiteBySlug.slug",""),c=G()(i,"data.getSiteBySlug.team.id",""),s=mo(),u=Object(v.g)(),d=Object(Q.a)().t,m=Object(n.useState)({error:null,loading:!1,inputValue:""}),p=Object(V.a)(m,2),b=p[0],f=p[1],g=Object(se.a)(Rr.h,{client:K.b,update:function(e,t){return function(e,t,a){try{var n=e.readQuery({query:ge.a,variables:{teamId:a,limit:A.h}}),r=n.getSitesByTeam.sites.filter((function(e){return e.id!==t.id}));e.writeQuery({query:ge.a,variables:{teamId:a,limit:A.h},data:Object(k.a)(Object(k.a)({},n),{},{getSitesByTeam:Object(k.a)(Object(k.a)({},n.getSitesByTeam),{},{sites:r})})})}catch(i){console.error("Error when trying to update GET_SITES_BY_TEAM query: ",i.message)}}(e,t.data.removeSite,c)}}),y=Object(V.a)(g,1)[0],h=function(){var e=Object(W.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(Object(k.a)(Object(k.a)({},b),{},{error:null,loading:!0})),window.ga("send","event",A.d.SITES,"Confirm delete site",o),window.analytics.track("Confirm delete site",{teamId:c,siteId:o}),e.prev=4,e.next=7,y({variables:{input:{siteId:o}}});case 7:f(Object(k.a)(Object(k.a)({},b),{},{loading:!1})),u.replace(q.l.buildUrl({},"/teams/".concat(c,"/sites"))),K.b.cache.evict("Site:".concat(o)),K.b.cache.gc(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Delete Site error: ",e.t0.message),f(Object(k.a)(Object(k.a)({},b),{},{loading:!1,error:d("modals.deleteSite.error")}));case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Xr.a,{open:t,maxWidth:438,onClose:a,className:s.modal,title:d("modals.deleteSite.title")},b.error&&r.a.createElement(an.a,{type:"error",message:b.error,className:s.alert,icon:["fal","times-circle"]}),r.a.createElement(re.a,{className:s.message,variant:"body2",color:"textSecondary"},d("modals.deleteSite.message.part1"),"\xa0",r.a.createElement("span",{className:s.siteSlug},"".concat(l,"?")),"\xa0",d("modals.deleteSite.message.part2")),r.a.createElement("form",{id:"deleteSiteForm",onSubmit:h},r.a.createElement(Te.a,{value:b.value,label:d("modals.deleteSite.siteNameInput"),onChange:function(e){f(Object(k.a)(Object(k.a)({},b),{},{inputValue:e.target.value}))}}),r.a.createElement("div",{className:s.buttons},r.a.createElement(ae.a,{onClick:a,buttonVariant:"secondary",disabled:b.loading},d("common.cancel")),r.a.createElement(ae.a,{type:"submit",form:"deleteSiteForm",buttonVariant:"important",loading:b.loading,disabled:b.loading||b.inputValue!==l},d("common.delete")))))};po.defaultProps={open:!1};var bo=po,fo=function(e){var t=e.siteBySlug,a=li(),i=Object(Q.a)().t,o=Object(n.useState)(!1),l=Object(V.a)(o,2),c=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(bo,{open:!0,siteBySlug:t,onClose:function(){return s(!1)}}),r.a.createElement(fa.Element,{name:aa}),r.a.createElement(fa.Element,{name:na}),r.a.createElement("div",{className:a.header},r.a.createElement(re.a,{variant:"body1",className:a.headerTitle},i("siteSettings.sectionTitles.siteDetails")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},i("siteSettings.general.siteDetails.subtitle"))),r.a.createElement(ri,{siteBySlug:t,i18n:{title:i("siteSettings.general.siteDetails.title"),siteName:i("siteSettings.general.siteDetails.siteName"),owner:i("siteSettings.general.siteDetails.owner"),siteId:i("siteSettings.general.siteDetails.siteId"),created:i("siteSettings.general.siteDetails.created"),lastUpdate:i("siteSettings.general.siteDetails.lastUpdate")}}),r.a.createElement("hr",{className:a.spaceBetweenSections}),r.a.createElement(fa.Element,{name:ra}),r.a.createElement("div",{className:a.header},r.a.createElement(re.a,{variant:"body1",className:a.headerTitle},i("siteSettings.sectionTitles.dangerZone")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},i("siteSettings.general.dangerZone.subtitle"))),r.a.createElement(oi,{onDeleteSite:function(){return s(!0)},i18n:{title:i("siteSettings.general.dangerZone.title"),content:i("siteSettings.general.dangerZone.content"),deleteSite:i("siteSettings.general.dangerZone.deleteSite")}}))};fo.defaultProps={siteBySlug:{}};var go=fo,yo=Object(ie.a)((function(){return{root:{display:"flex"},content:{flexGrow:1,paddingBottom:30},header:{padding:"5px 0 16px 0"},headerTitle:{fontWeight:500},spaceBetweenSections:{margin:0,border:"none",height:15},navigationLink:{textDecoration:"none"}}})),vo=function(e){var t=e.siteBySlug,a=yo(e),i=Object(Q.a)().t,o=Object(v.j)(),l=Object(v.g)(),c=Object(v.h)(),s=Object(n.useState)(o.params.section),u=Object(V.a)(s,2),d=u[0],m=u[1],p=la(i,d),b=function(e){return fa.scroller.scrollTo(e,{duration:1500,delay:100,smooth:!0,containerId:A.f,offset:-10})};Object(n.useEffect)((function(){window.analytics.page("Site - Settings",{path:c.pathname,search:c.search});var e=oa.includes(o.params.section),t=ia.includes(o.params.section);e&&b(o.params.section),e||t||l.push("/sites/".concat(o.params.siteSlug,"/settings/").concat(aa))}),[]);return r.a.createElement("section",{className:a.root},r.a.createElement(g.e,{items:p,renderItem:function(e,t){var n=t.id,i=t.type;return r.a.createElement(y.b,{to:g.t.buildUrl(null,"/sites/".concat(o.params.siteSlug,"/settings/").concat(n)),className:a.navigationLink,onClick:function(){m(n),"subsection"===i&&b(n)}},e)}}),r.a.createElement("div",{className:a.content},function(){switch(o.params.section){case aa:case na:case ra:return r.a.createElement(go,{siteBySlug:t});case Yt:case Qt:case Zt:return r.a.createElement(si,{siteBySlug:t,setActiveSectionId:m});case Jt:case Xt:case ea:case ta:default:return r.a.createElement(uo,{siteBySlug:t,setActiveSectionId:m})}}()))};vo.defaultProps={siteBySlug:{loading:!0,data:null,error:null}};var ho=vo,Eo=a(1884),Oo=a(1883),jo=Object(ha.a)({tabsContent:{display:"inline-block"}}),So=function(){var e=jo(),t=Object(v.j)(),a=Object(v.h)(),n=Object(Q.a)().t,i=a.pathname.split("/")[3];return r.a.createElement("div",{className:e.tabsContent},r.a.createElement(Oo.a,{value:i,"aria-label":"site-tabs"},r.a.createElement(Eo.a,{disableRipple:!0,value:"overview",component:y.b,to:g.t.buildUrl(null,"".concat(t.url,"/overview")),label:n("sites.tabs.overview")}),r.a.createElement(Eo.a,{disableRipple:!0,value:"deploys",component:y.b,to:g.t.buildUrl(null,"".concat(t.url,"/deploys")),label:n("sites.tabs.deploys.title")}),r.a.createElement(Eo.a,{disableRipple:!0,value:"settings",component:y.b,to:g.t.buildUrl(null,"".concat(t.url,"/settings/").concat(aa)),label:n("sites.tabs.settings.title")})))},ko=Object(ha.a)({tabContent:{paddingTop:20},siteCardContent:{marginBottom:12}}),wo=function(){var e=ko(),t=Object(v.j)(),a=Object(se.b)(Ta.b,{client:K.b,variables:{slug:t.params.siteSlug}}),i=r.a.createElement(g.a,null);Object(n.useEffect)((function(){var e=a.subscribeToMore({document:Pn,variables:{slug:t.params.siteSlug},updateQuery:function(e,t){var a=t.subscriptionData;if(!a.data)return e;try{var n=a.data.siteBySlugSubscription.id,r=Dt()(a.data.siteBySlugSubscription.latestDeploy),i=K.b.readQuery({query:Ta.a,variables:{siteId:n,limit:A.g}}),o=Dt()(i);-1===i.getDeploysBySite.deploys.findIndex((function(e){return e.id===r.id}))&&(o.getDeploysBySite.deploys.unshift(r),K.b.writeQuery({query:Ta.a,variables:{siteId:n,limit:A.g},data:o}))}catch(l){console.error("No deploys to update")}return{getSiteBySlug:Object(k.a)(Object(k.a)({},e.getSiteBySlug),a.data.siteSubscription)}}});return function(){e&&e()}}),[t.params.siteSlug]);var o=g.t.getAccountIdFromUrl(),l=Object(se.b)(H.i,{client:K.b,variables:{id:o},skip:!o}),c=G()(l,"data.getTeamById.status")===A.k.SUSPENDED;return r.a.createElement(Ft.a,{topBarContent:i},r.a.createElement(zt,{isShownOverlay:c}),r.a.createElement("div",{className:e.siteCardContent,id:"test-sites-header"},r.a.createElement(Lt,{siteBySlug:a})),r.a.createElement(So,null),r.a.createElement("div",{className:e.tabContent},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"".concat(t.path,"/overview"),exact:!0},r.a.createElement(tr,{siteBySlug:a})),r.a.createElement(v.b,{path:"".concat(t.path,"/deploys")},r.a.createElement(Fn,{siteBySlug:a})),r.a.createElement(v.b,{path:"".concat(t.path,"/settings/:section")},r.a.createElement(ho,{siteBySlug:a})))))},xo={getTeamBillingInformation:{activePlan:{currentBuildMinutesInMonth:"10",currentBandwidthInMonth:"10",activatedAt:"2019-12-12T00:05:45.466Z",expiresAt:"2020-01-19T00:05:45.466Z",selectedPlan:{id:"business",name:"business",description:"pro plan",priceMonthly:"49.99",priceYearly:"600.00",limitBandwidthInMB:"300",limitBuildTimeInMins:"500"}},stripeCustomerId:"stripeId",paymentMethod:{type:"CARD",issuer:"VISA",lastCardNumbers:"4444"},billingInformation:{name:"Royce Moroch",email:"morochroyce@gmail.com"}}},Co=Object(ie.a)((function(){return{title:{marginBottom:2,fontWeight:500},link:{display:"inline-flex",margin:"10px 0 23px",textDecoration:"none"},inputWrapper:{width:330}}})),Io=function(e){var t=e.error,a=e.domainName,n=e.enableEdit,i=e.onChangeDomainName,o=Co(),l=Object(Q.a)().t;return r.a.createElement("div",null,r.a.createElement(re.a,{variant:"h6",className:o.title},l("addCustomDomain.title")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},l("addCustomDomain.description")),r.a.createElement("a",{href:"https://docs.fleek.co/hosting/domain-management/#custom-domains",target:"_blank",rel:"noopener noreferrer",className:o.link},r.a.createElement(Be.a,null,l("addCustomDomain.linkToDocs"))),r.a.createElement("div",{className:o.inputWrapper},r.a.createElement(Te.a,{error:!!t,value:a,errorMessage:t,disabled:!n,className:o.input,onChange:function(e){i(e.target.value)},label:l("addCustomDomain.inputLabel")})))};Io.defaultProps={error:"",enableEdit:!0};var No=Io,Do=Object(ie.a)((function(){return{question:{display:"flex",padding:"17px 0 35px"},actionsWrapper:{display:"flex"},confirmButton:{marginRight:10}}})),To=function(e){var t=e.onCancel,a=e.onConfirm,n=e.loading,i=e.domainName,o=Do(),l=Object(Q.a)().t;return r.a.createElement("div",null,r.a.createElement("div",{className:o.question},r.a.createElement(re.a,{variant:"body2"},i),"\xa0",r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},l("addCustomDomain.ownerPart.question"))),r.a.createElement("div",{className:o.actionsWrapper},r.a.createElement(ae.a,{loading:n,disabled:n,buttonVariant:"primary",onClick:a,overrideClass:{button:o.confirmButton}},l("addCustomDomain.ownerPart.confirm")),r.a.createElement(ae.a,{disabled:n,buttonVariant:"secondary",onClick:t},l("addCustomDomain.ownerPart.cancel"))))},Bo=Object(ie.a)((function(){return{root:{display:"flex",paddingTop:9},confirmButton:{width:145,marginRight:10}}})),Ao=function(e){var t=e.loading,a=e.onVerify,n=e.onCancel,i=e.isFormValid,o=Bo(),l=Object(Q.a)().t;return r.a.createElement("div",{className:o.root},r.a.createElement(ae.a,{loading:t,buttonVariant:"primary",onClick:a,disabled:!i,overrideClass:{button:o.confirmButton}},l("addCustomDomain.verifyDomain")),r.a.createElement(ae.a,{disabled:t,onClick:n,buttonVariant:"secondary"},l("common.cancel")))},Po=Object(ie.a)((function(e){return{title:{fontWidth:600},accentInfo:{margin:"3px 0 4px",color:e.palette.palette.yellowPending},confirmButton:{marginTop:20}}})),Ro=function(e){var t=e.domainName,a=e.onConfirm,n=Po(),i=Object(Q.a)().t;return r.a.createElement("div",null,r.a.createElement(re.a,{variant:"h6",className:n.title},i("addCustomDomain.purchasing.title",{domainName:t})),r.a.createElement(re.a,{variant:"body2",className:n.accentInfo},i("common.comingSoon")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},i("addCustomDomain.purchasing.description")),r.a.createElement(ae.a,{buttonVariant:"primary",onClick:a,overrideClass:{button:n.confirmButton}},i("addCustomDomain.purchasing.submit")))},Mo=Object(ie.a)((function(e){return{textContainer:{minWidth:650,"& > h6":{marginBottom:6}},detail:{color:e.palette.palette.grey2},ctaSection:{marginTop:20},buyButton:{minWidth:228,display:"block",marginBottom:40,color:e.palette.palette.white},addDomainButton:{marginRight:15},paymentMethodDetail:{display:"flex"},addPaymentButton:{marginLeft:20},paymentContainer:{marginTop:15,"& > p":{marginBottom:10}},noPaymentMethod:{display:"flex",alignItems:"center"},subtitle:{marginBottom:4}}})),Lo=function(e){var t=e.cost,a=e.onBuy,n=e.domain,i=e.loading,o=e.onCancel,l=e.renewCost,c=e.paymentMethod,s=e.onAddPaymentMethod,u=Mo(),d=c.cardNumber&&c.type;return r.a.createElement("div",null,r.a.createElement("div",{className:u.textContainer},r.a.createElement(re.a,{variant:"h6"},r.a.createElement(Ca.a,{i18nKey:"addCustomDomain.buyDomain.title",values:{domainName:n}})),r.a.createElement(re.a,{variant:"body2",className:u.subtitle},r.a.createElement(ga.a,{fontWeight:500},r.a.createElement(Ca.a,{i18nKey:"addCustomDomain.buyDomain.subtitle",values:{cost:t}}))),r.a.createElement(re.a,{variant:"body2",className:u.detail},r.a.createElement(Ca.a,{i18nKey:"addCustomDomain.buyDomain.detail",values:{renewCost:l}}))),r.a.createElement("div",{className:u.paymentContainer},r.a.createElement(re.a,{variant:"body1"},r.a.createElement(Ca.a,{i18nKey:"addCustomDomain.buyDomain.availablePM"})),r.a.createElement("div",{className:u.paymentMethodDetail},d?r.a.createElement(g.b,{fourLastDigits:c.cardNumber,cardType:c.type}):r.a.createElement(re.a,{variant:"body2",className:u.noPaymentMethod},r.a.createElement(Ca.a,{i18nKey:"addCustomDomain.buyDomain.noPaymentMethod"})),r.a.createElement(_t.a,{color:"primary",onClick:s,className:u.addPaymentButton},r.a.createElement(Ca.a,{i18nKey:d?"addCustomDomain.buyDomain.changePaymentMehtod":"addCustomDomain.buyDomain.addPaymentMethod"})))),r.a.createElement("div",{className:u.ctaSection},r.a.createElement(ae.a,{onClick:d?a:s,loading:i,buttonVariant:"primary",overrideClass:{button:u.buyButton}},r.a.createElement(Ca.a,{i18nKey:"addCustomDomain.buyDomain.buyCTA",values:{domain:n}})),r.a.createElement(ae.a,{disabled:!0,buttonVariant:"primary",overrideClass:{button:u.addDomainButton}},r.a.createElement(Ca.a,{i18nKey:"addCustomDomain.ownerPart.confirm"})),r.a.createElement(ae.a,{onClick:o,disabled:i,buttonVariant:"secondary"},r.a.createElement(Ca.a,{i18nKey:"addCustomDomain.ownerPart.cancel"}))))};Lo.defaultProps={cost:0,domain:null,renewCost:0,loading:!1,onBuy:function(){},paymentMethod:{},onCancel:function(){},onAddPaymentMethod:function(){}};var Fo=Lo,Uo="VERIFYING_DOMAIN",_o="OWNING_CONFIRMATION",Wo="PURCHASING_DOMAIN",Vo="BUY_DOMAIN",zo={OWNING_CONFIRMATION:"VERIFYING_DOMAIN",PURCHASING_DOMAIN:"OWNING_CONFIRMATION"},Go=function(e){var t=e.siteId,a=e.siteSlug,i=Object(Q.a)().t,o=Object(v.g)(),l=Object(v.j)(),c=Object(m.b)(),s=Object(g.u)(),u=Object(se.b)(H.h,{client:K.b,variables:{teamId:s}}),d=u.refetch,p=u.data,b=void 0===p?xo:p,f=G()(b,"getTeamBillingInformation.paymentMethod"),y=Object(se.a)(_a,{client:K.b}),h=Object(V.a)(y,1)[0],E=Object(n.useState)({error:null,loading:!1,domainName:"",rootDomain:"",step:Uo,enableEdit:!0,price:0,period:0,currency:null}),O=Object(V.a)(E,2),j=O[0],S=O[1];Object(n.useEffect)((function(){return j.step===Vo?S(Object(k.a)(Object(k.a)({},j),{},{enableEdit:!1})):S(Object(k.a)(Object(k.a)({},j),{},{enableEdit:!0})),function(){return S(Object(k.a)(Object(k.a)({},j),{},{enableEdit:!0}))}}),[j.step]);var x=function(){var e=Object(W.a)(_.a.mark((function e(){var a,n,r,o,l,c,u,d,m,p;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(Object(k.a)(Object(k.a)({},j),{},{loading:!0})),a=/^www\./.test(j.domainName),n=a?j.domainName.substring(4):j.domainName,r=n.split(".").slice(-2).join("."),window.ga("send","event",A.d.SITES,"Verify Domain on Add custom domain",n),window.analytics.track("Verify Domain on Add custom domain",{teamId:s,siteId:t,domain:n}),e.prev=6,e.next=9,K.b.query({query:Ta.c,variables:{domain:n}});case 9:o=e.sent,l=o.data,c=G()(l,"verifyDomainAvailability.price"),u=G()(l,"verifyDomainAvailability.period"),d=G()(l,"verifyDomainAvailability.currency"),m=G()(l,"verifyDomainAvailability.available"),p=m?Vo:_o,S(Object(k.a)(Object(k.a)({},j),{},{rootDomain:r,loading:!1,step:p,price:c/1e6,period:u,currency:d})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),console.error("Error verifying custom domain: ",e.t0.message),S(Object(k.a)(Object(k.a)({},j),{},{loading:!1,error:i("addCustomDomain.errors.invalidDomain")}));case 23:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(W.a)(_.a.mark((function e(){var a,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(Object(k.a)(Object(k.a)({},j),{},{loading:!0})),window.ga("send","event",A.d.SITES,"Yes I own the domain",j.domainName),a={teamId:s,siteId:t,domain:j.domainName},e.prev=3,e.next=6,h({variables:{input:{siteId:t,domainName:j.domainName,teamId:g.t.getAccountIdFromUrl()}}});case 6:n=e.sent,r=n.data,window.analytics.track("Yes I own the domain",a),G()(r,"addCustomDomain")&&o.push(g.t.buildUrl(null,"/sites/".concat(l.params.siteSlug,"/settings/").concat(Jt))),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(3),a.error=e.t0.message,window.analytics.track("Yes I own the domain failed",a),console.error("Error verifying custom domain: ",e.t0.message),S(Object(k.a)(Object(k.a)({},j),{},{loading:!1,error:e.t0.message}));case 19:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(W.a)(_.a.mark((function e(){var n,r,i,l,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/sites/".concat(a,"/settings/domain-management"),r=g.t.buildUrl({successPayment:!0},n),i=g.t.buildUrl({errorPayment:!0},n),S(Object(k.a)(Object(k.a)({},j),{},{loading:!0})),window.ga("send","event",A.d.SITES,"Buy domain",j.domainName),window.analytics.track("Buy Domain",{teamId:s,siteId:t,domain:j.domainName}),e.prev=6,e.next=9,h({variables:{input:{siteId:t,domainName:j.rootDomain,teamId:g.t.getAccountIdFromUrl(),buyDomainWithSavedPaymentMethod:!0}}});case 9:l=e.sent,c=l.data,G()(c,"addCustomDomain")&&o.push(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.error(e.t0),o.push(i);case 19:S(Object(k.a)(Object(k.a)({},j),{},{loading:!1}));case 20:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}(),N=function(){c(Object(w.j)(w.g,{onSuccess:function(){return d()}}))};return r.a.createElement("div",{id:"test-add-custom-domain"},r.a.createElement(ce,{onClick:j.step!==Uo?function(){return S(Object(k.a)(Object(k.a)({},j),{},{step:zo[j.step]}))}:void 0}),r.a.createElement(Z.a,{padding:"37px 290px 48px 58px"},r.a.createElement(No,{error:j.error,domainName:j.domainName,enableEdit:j.enableEdit,onChangeDomainName:function(e){var t=Object(k.a)(Object(k.a)({},j),{},{domainName:e.replace(/\s/,"").toLowerCase(),step:Uo});j.error&&(t.error=null),S(t)}}),function(){switch(j.step){case Uo:return r.a.createElement(Ao,{loading:j.loading,onVerify:x,onCancel:o.goBack,isFormValid:j.domainName.length>0&&!j.error});case _o:return r.a.createElement(To,{loading:j.loading,domainName:j.domainName,onConfirm:C,onCancel:function(){return S(Object(k.a)(Object(k.a)({},j),{},{step:Uo}))}});case Wo:return r.a.createElement(Ro,{domainName:j.domainName,onConfirm:function(){return o.push("/sites/".concat(l.params.siteSlug,"/settings/").concat(Jt))}});case Vo:return r.a.createElement(Fo,{cost:j.price,period:j.period,loading:j.loading,renewCost:j.price,domain:j.rootDomain,onBuy:I,onCancel:function(){return S(Object(k.a)(Object(k.a)({},j),{},{step:Uo}))},onAddPaymentMethod:N,paymentMethod:{cardNumber:G()(f,"card.lastCardNumbers"),type:G()(f,"type")}});default:return null}}()))},Ko=function(){var e=Object(v.j)(),t=Object(Q.a)().t,a=Object(se.b)(Ta.b,{client:K.b,variables:{slug:e.params.siteSlug},fetchPolicy:"cache-and-network"}).data,n=G()(a,"getSiteBySlug.id",""),i=r.a.createElement(g.a,null);return r.a.createElement(g.i,{topBarContent:i},r.a.createElement(J.Helmet,null,r.a.createElement("title",null,t("addCustomDomain.pageTitle"))),r.a.createElement(Go,{siteId:n,siteSlug:e.params.siteSlug}))},Ho=Object(ie.a)((function(e){return{title:{fontSize:21,fontWeight:500,marginBottom:5},description:{fontSize:15,color:e.palette.palette.grey2,lineHeight:1.25,letterSpacing:0},resetAnchorStyles:{textDecoration:"none"},link:{marginTop:10,marginBottom:21,color:e.palette.palette.primaryBlue}}})),qo=function(){var e=Ho(),t=Object(Q.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{className:e.title},t("sites.tabs.settings.ens.addEns.title")),r.a.createElement(re.a,{className:e.description},t("sites.tabs.settings.ens.addEns.description")),r.a.createElement("a",{href:"https://docs.fleek.co/hosting/domain-management/#ens-domains",target:"_blank",rel:"noopener noreferrer",className:e.resetAnchorStyles},r.a.createElement(Be.a,{className:e.link},t("sites.tabs.settings.ens.addEns.learnMore"))))},$o="VERIFY",Yo="BUY_A_DOMAIN",Jo="ALREADY_HAS_OWNER",Qo=Object(ie.a)((function(e){return{title:{fontSize:21,fontWeight:500,marginBottom:5},resetAnchorStyles:{textDecoration:"none"},link:{marginTop:10,marginBottom:21,color:e.palette.palette.primaryBlue,textDecoration:"none"},container:{display:"flex",justifyContent:"flex-start"},inputContainer:{minWidth:330},chipContainer:{marginBottom:16}}})),Zo=function(e){var t=e.state,a=e.setState,n=Qo(),i=Object(Q.a)().t,o=G()(t,"ensDomainInfo.isAlreadyInUse");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:n.container},r.a.createElement("div",{className:n.inputContainer},r.a.createElement(Te.a,{value:t.domain,label:i("sites.tabs.settings.ens.addEns.ensDomain"),onChange:function(e){a(Object(k.a)(Object(k.a)({},t),{},{domain:e.target.value,step:$o}))}}))),o&&r.a.createElement("div",{className:n.chipContainer},r.a.createElement(cn.a,{text:i("sites.tabs.settings.ens.addEns.domainRegistered"),color:"yellow"})))},Xo=Object(ie.a)((function(){return{container:{display:"flex",justifyContent:"flex-start"},button:{height:38},link:{textDecoration:"none",marginLeft:10}}})),el=function(e){var t=e.state,a=e.setState,n=Object(Q.a)().t,i=Xo(),o=Object(v.j)(),l=function(){var e=Object(W.a)(_.a.mark((function e(){var n,r,i,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(k.a)(Object(k.a)({},t),{},{loading:!0})),n=t.domain.trim(),e.prev=2,r=Object(Hi.a)(),e.next=6,K.b.query({query:H.d,variables:{domain:n,network:r.network},fetchPolicy:"network-only"});case 6:if(i=e.sent,(o=i.data.getEnsDomainInfo).ownerAddress){e.next=11;break}return a(Object(k.a)(Object(k.a)({},t),{},{domain:n,step:Yo,loading:!1,ensDomainInfo:o})),e.abrupt("return");case 11:a(Object(k.a)(Object(k.a)({},t),{},{domain:n,loading:!1,step:Jo,ensDomainInfo:o})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0),a(Object(k.a)(Object(k.a)({},t),{},{loading:!1}));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ae.a,{loading:t.loading,disabled:!function(e){var t=e.trim();return/^([\w-]+.)+eth$/.test(t)}(t.domain),onClick:l,buttonVariant:"primary",className:i.button},r.a.createElement(re.a,{variant:"body2"},n("common.verify"))),r.a.createElement(y.b,{to:g.t.buildUrl(null,"/sites/".concat(o.params.siteSlug,"/settings/").concat(ea)),className:i.link},r.a.createElement(ae.a,{buttonVariant:"secondary"},r.a.createElement(re.a,{variant:"body2"},n("common.cancel")))))},tl=Object(ie.a)((function(e){return{text:{fontSize:15,color:e.palette.palette.grey2,marginBottom:28},domainText:{color:e.palette.palette.black}}})),al=function(e){var t=e.state,a=tl();return r.a.createElement("div",null,r.a.createElement(re.a,{className:a.text},r.a.createElement(Ca.a,{i18nKey:"sites.tabs.settings.ens.addEns.alreadyOwner",components:[r.a.createElement("span",{className:a.domainText},"owner")],values:{domain:t.domain,owner:Object(q.k)(t.ensDomainInfo.registrantAddress)}})))},nl=a(1874),rl=a(404),il=Object(ie.a)((function(){return{container:{display:"flex",justifyContent:"flex-start"},button:{height:38},cancelBtn:{marginLeft:10}}})),ol=function(e){var t=e.state,a=e.setState,n=e.siteId,i=Object(Q.a)().t,o=il(),l=Object(v.g)(),c=Object(v.j)(),s=Object(nl.a)(rl.a,{client:K.b}),u=Object(V.a)(s,1)[0],d=function(){var e=Object(W.a)(_.a.mark((function e(){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(k.a)(Object(k.a)({},t),{},{loading:!0})),r=Object(Hi.a)(),e.prev=2,e.next=5,u({variables:{input:{siteId:n,domain:t.domain,ownerAddress:t.ensDomainInfo.ownerAddress,network:r.network}}});case 5:l.push(q.l.buildUrl(null,"/sites/".concat(c.params.siteSlug,"/settings/").concat(ea))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:a(Object(k.a)(Object(k.a)({},t),{},{loading:!1}));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ae.a,{loading:t.loading,disabled:!t.ensDomainInfo.ownerAddress||""===n,onClick:d,buttonVariant:"primary",className:o.button},r.a.createElement(re.a,{variant:"body2"},i("sites.tabs.settings.ens.addEns.yesAdd"))),r.a.createElement(ae.a,{buttonVariant:"secondary",className:o.cancelBtn,onClick:function(){a(Object(k.a)(Object(k.a)({},t),{},{domain:"",step:$o,ensDomainInfo:null}))}},r.a.createElement(re.a,{variant:"body2"},i("sites.tabs.settings.ens.addEns.noAnother"))))},ll=Object(ie.a)((function(e){return{title:{fontSize:21,marginBottom:4},subTitle:{fontSize:15,fontWeight:500,marginBottom:4},description:{fontSize:15,color:e.palette.palette.grey2,marginBottom:27},link:{textDecoration:"none",marginBottom:32}}})),cl=function(e){var t=e.state,a=e.setState,i=ll(),o=Object(Q.a)().t,l=Object(Hi.a)(),c=Object(se.b)(H.d,{client:K.b,variables:{network:l.network,domain:t.domain}}),s=c.data,u=c.startPolling,d=c.stopPolling,m=G()(s,"getEnsDomainInfo.ownerAddress");return Object(n.useEffect)((function(){return u(3e3),function(){return d()}})),Object(n.useEffect)((function(){m&&(a(Object(k.a)(Object(k.a)({},t),{},{ensDomainInfo:s.getEnsDomainInfo})),d())}),[m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{className:i.title},o("sites.tabs.settings.ens.addEns.isAvailable",{domain:t.domain})),r.a.createElement(re.a,{className:i.subTitle},o("sites.tabs.settings.ens.addEns.wouldYouLike")),r.a.createElement(re.a,{className:i.description},o("sites.tabs.settings.ens.addEns.byClicking")),r.a.createElement("a",{href:"https://app.ens.domains/name/".concat(t.domain),className:i.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ae.a,{buttonVariant:"primary"},r.a.createElement(re.a,{variant:"body2"},o("sites.tabs.settings.ens.addEns.buyDomain",{domain:t.domain})))))},sl=function(){var e,t=Object(n.useState)({domain:"",loading:!1,step:$o,ensDomainInfo:null}),a=Object(V.a)(t,2),i=a[0],o=a[1],l=Object(v.j)(),c=Object(se.b)(Ta.b,{client:K.b,variables:{slug:l.params.siteSlug},fetchPolicy:"cache-and-network"}).data,s=G()(c,"getSiteBySlug.id",""),u=(e={},Object(N.a)(e,$o,r.a.createElement(r.a.Fragment,null,r.a.createElement(Zo,{state:i,setState:o}),r.a.createElement(el,{state:i,setState:o}))),Object(N.a)(e,Jo,r.a.createElement(r.a.Fragment,null,r.a.createElement(Zo,{state:i,setState:o}),r.a.createElement(al,{state:i}),r.a.createElement(ol,{state:i,setState:o,siteId:s}))),Object(N.a)(e,Yo,r.a.createElement(r.a.Fragment,null,r.a.createElement(Zo,{state:i,setState:o}),r.a.createElement(cl,{state:i,setState:o}),r.a.createElement(ol,{state:i,setState:o,siteId:s}))),e);return r.a.createElement(Z.a,{padding:"37px 290px 48px 58px"},r.a.createElement(qo,null),u[i.step]||null)},ul=function(){var e=Object(v.j)(),t=Object(Q.a)().t,a=Object(se.b)(Ta.b,{client:K.b,variables:{slug:e.params.siteSlug}}).data,n=G()(a,"getSiteBySlug.id",""),i=r.a.createElement(g.a,null);return r.a.createElement(g.i,{topBarContent:i},r.a.createElement(J.Helmet,null,r.a.createElement("title",null,t("addCustomDomain.pageTitle"))),r.a.createElement(sl,{siteId:n}))},dl=function(){var e=Object(v.j)(),t=Object(Q.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.Helmet,null,r.a.createElement("title",null,t("sites.page_title"))),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"".concat(e.path,"/:siteSlug/add-domain")},r.a.createElement(Ko,null)),r.a.createElement(v.b,{path:"".concat(e.path,"/:siteSlug/add-ens-domain")},r.a.createElement(ul,null)),r.a.createElement(v.b,{path:"".concat(e.path,"/:siteSlug")},r.a.createElement(wo,null))))},ml=a(1036),pl="SITES_LIST",bl=a(1024),fl=a.n(bl),gl=function(e){var t,a=e.history,n=e.classes;return Object(N.a)({},pl,{ImageComponent:(t=fl.a,function(e){var a=e.className;return r.a.createElement("img",{className:a,src:t,alt:""})}),transKeys:{title:"noDataInfo.sitesList.title",subtitle:"noDataInfo.sitesList.subtitle",description:"noDataInfo.sitesList.description",goToDocs:"noDataInfo.sitesList.goToDocs",buttonText:"noDataInfo.sitesList.buttonText"},link:"https://docs.fleek.co/hosting/overview/",onClickButton:function(){return a.push("/start/connect-repository?accountId=".concat(Object(we.a)()))},overrideClasses:{description:n.thinnerDescription}})},yl=Object(ie.a)((function(){return{thinnerDescription:{paddingRight:105},backdrop:{zIndex:9}}})),vl=function(e){var t=e.isContentActive,a=function(e){var t=Object(Q.a)().t,a=Object(v.g)(),n=yl(),r=gl({history:a,classes:n})[e],i=r.transKeys,o=r.link,l=r.ImageComponent,c=r.onClickButton,s=r.overrideClasses;return{i18n:{title:t(i.title),subtitle:t(i.subtitle),description:t(i.description),buttonText:t(i.buttonText),linkText:t(i.goToDocs),chipsText:t(i.chipsText)},ImageComponent:l,link:o,onClickButton:c,overrideClasses:s}}(e.type),n=a.i18n,i=a.onClickButton,o=a.link,l=a.ImageComponent,c=a.overrideClasses,s=yl();return r.a.createElement(ml.a,{i18n:n,onClickButton:i,link:o,ImageComponent:l,overrideClasses:Object(k.a)(Object(k.a)({},c),{},{backdrop:s.backdrop}),isShownOverlay:!t},null)},hl=Object(ie.a)((function(e){return{root:{minHeight:68,display:"flex",alignItems:"center",flexDirection:"row",paddingLeft:27,paddingRight:27},rowContainer:{display:"inline-flex",width:"100%",alignItems:"center"},imageContainer:{paddingRight:28,height:48,display:"inline-block"},siteInfoContainer:{display:"inline-flex",flexDirection:"column",width:290},siteOwnerInfoContainer:{display:"inline-block",width:390},endArrowContainer:{display:"inline-flex",fontSize:10,flexGrow:1,justifyContent:"flex-end"},endArrowBasic:{outline:0,display:"inline-block",width:10},endArrowClickable:{cursor:"pointer"},image:{width:66,height:48,borderRadius:3},placeholderIconContainer:{display:"inline-block",height:20,fontSize:20},imagePlaceholder:{width:66,height:48,borderRadius:3,border:"1px solid ".concat(e.palette.grey[300]),color:e.palette.grey[300],display:"flex",alignItems:"center",justifyContent:"center"},mainText:{fontSize:15,fontWeight:500},subText:{fontSize:13,color:"#666666"},greyColor:{color:"#666666"},cardLink:{flex:1,color:"inherit",textDecoration:"none"},deployLink:{color:e.palette.common.black,textDecoration:"underline"}}})),El=function(e){var t=e.i18n,a=e.site,n=e.isPlaceholder,i=a.ipfsUrl,o=a.imageUrl,l=a.siteName,c=a.githubUrl,s=a.siteOwner,u=a.lastPublishedTimestamp,d=a.cardOnClickDestination,m=a.status,p=Object(Q.a)().t,b=hl(e),f=function(){var e,a;return r.a.createElement("div",{className:b.rowContainer},o&&!n?r.a.createElement("div",{className:b.imageContainer},r.a.createElement("img",{src:o,alt:"site preview",className:b.image})):r.a.createElement("div",{className:b.imageContainer},r.a.createElement("div",{className:b.imagePlaceholder},r.a.createElement("div",{className:b.placeholderIconContainer},r.a.createElement(ne.default,{icon:["fal","image"],fontSize:"inherit"})))),r.a.createElement("div",{className:b.siteInfoContainer},n||!l?r.a.createElement(re.a,{className:Bt()(b.mainText,b.greyColor)},t.addNewSite):r.a.createElement(re.a,{className:b.mainText},l),function(){var e=null,a=null;return a=n||!c?r.a.createElement("span",null,t.github):r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:b.deployLink,onClick:function(e){return e.stopPropagation()}},t.github),e=n||!c?r.a.createElement("span",null,t.ipfs):r.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:b.deployLink,onClick:function(e){return e.stopPropagation()}},t.ipfs),r.a.createElement(re.a,{className:b.subText},"".concat(t.deployFrom," "),a," ".concat(t.andSymbol," "),e)}()),r.a.createElement("div",{className:b.siteOwnerInfoContainer},function(){var e=t.ownedBy;return!n&&s&&(e+=" ".concat(s)),r.a.createElement(re.a,{className:Bt()(b.mainText,Object(N.a)({},b.greyColor,n||!s))},e)}(),function(){var e;switch(m){case A.a.DEPLOYED:if(e=t.lastPublished,u){var a=ba()(u).fromNow(),i=Object(g.r)(p,{isPublished:!0,createdAt:void 0,lastPublishAt:u});e="".concat(i," (").concat(a,")")}break;case A.a.FAILED:case A.a.CANCELLED:e=t.failedDeploy;break;case A.a.IN_PROGRESS:e=t.deployInProgress;break;default:e=""}return n&&(e=t.lastPublished),r.a.createElement(re.a,{className:b.subText},e)}()),r.a.createElement("div",{className:Bt()((e={},Object(N.a)(e,b.endArrowContainer,!0),Object(N.a)(e,b.greyColor,n),e))},r.a.createElement("div",{className:Bt()((a={},Object(N.a)(a,b.endArrowClickable,!n),Object(N.a)(a,b.endArrowBasic,!0),a))},r.a.createElement(ne.default,{icon:["fal","angle-right"],fontSize:"inherit",color:"inherit"}))))};return!n&&d?r.a.createElement("div",{className:b.root},r.a.createElement(y.b,{to:d,className:b.cardLink},f())):r.a.createElement("div",{className:b.root},f())};El.defaultProps={isPlaceholder:!1,site:{imageUrl:null,githubUrl:null,ipfsUrl:null,isPlaceholder:!1,siteName:null,siteOwner:null,lastPublishedTimestamp:null,cardOnClickDestination:null,status:""}};var Ol=El,jl=a(119),Sl=Object(ie.a)((function(){return{rowContainer:{display:"inline-flex",width:"100%",alignItems:"center",marginBottom:23,paddingLeft:27,paddingRight:27},imageContainer:{paddingRight:28,display:"inline-block"},siteInfoContainer:{display:"inline-flex",flexDirection:"column",width:290},siteOwnerInfoContainer:{display:"inline-block",width:390},endArrowContainer:{display:"inline-flex",fontSize:10,flexGrow:1,justifyContent:"flex-end"}}})),kl=function(e){var t=e.amountRows,a=Sl(e);return Object(n.useMemo)((function(){return r.a.createElement("div",null,Array(t).fill().map((function(e,t){return function(e){return r.a.createElement("div",{key:e,className:a.rowContainer},r.a.createElement("div",{className:a.imageContainer},r.a.createElement(jl.a,{width:66,height:48})),r.a.createElement("div",{className:a.siteInfoContainer},r.a.createElement(jl.a,{width:133,height:19}),r.a.createElement(jl.a,{width:166,height:14})),r.a.createElement("div",{className:a.siteOwnerInfoContainer},r.a.createElement(jl.a,{width:202,height:19}),r.a.createElement(jl.a,{width:264,height:14})),r.a.createElement("div",{className:a.endArrowContainer},r.a.createElement(jl.a,{width:16,height:22})))}(t)})))}),[])};kl.defaultProps={amountRows:4};var wl=kl,xl=function(e){var t=G()(e,"slug"),a=Object(g.s)(e),n=G()(e,"team.name","-"),r=G()(e,"latestDeploy.ipfsHash"),i=G()(e,"latestDeploy.previewImage"),o=G()(e,"latestDeploy.repository.url"),l=G()(e,"latestDeploy.completedAt",""),c=G()(e,"publishedDeploy.status",null)||G()(e,"latestDeploy.status","");return{ipfsUrl:r?"https://ipfs.io/ipfs/".concat(r):null,siteName:a,imageUrl:i,githubUrl:o,siteOwner:n,cardOnClickDestination:g.t.buildUrl(null,"/sites/".concat(t,"/overview")),lastPublishedTimestamp:l,status:c}},Cl=Object(ie.a)({buttonContainer:{marginBottom:23,alignSelf:"flex-end",paddingRight:27},linkButton:{textDecoration:"none"}}),Il=function(e,t){var a=G()(e,"getSitesByTeam.sites",[]),n=G()(t,"getSitesByTeam.sites",[]),r=G()(t,"getSitesByTeam.nextToken",null);return{getSitesByTeam:{sites:[].concat(Object(D.a)(a),Object(D.a)(n)),nextToken:r,__typename:"SiteConnection"}}},Nl=function(){var e=Object(v.j)(),t=Object(v.h)(),a=Object(Q.a)().t,n=Object(we.a)(),i=Object(se.b)(ge.a,{client:K.b,variables:{teamId:e.params.teamId,limit:A.h},fetchPolicy:"cache-and-network"}),o=i.loading,l=i.data,c=i.fetchMore,s=G()(l,"getSitesByTeam.nextToken");on({nextToken:s,updateCache:Il,fetchMore:c});var u=Cl(),d=r.a.createElement(Z.a,{padding:"15px 0 25px 0"},r.a.createElement("div",{className:u.buttonContainer},r.a.createElement(y.b,{to:"/start/connect-repository?accountId=".concat(n),className:u.linkButton},r.a.createElement(ae.a,{buttonVariant:"primary",className:u.button},a("sites.addNewSite")))),function(){if(o&&!l)return r.a.createElement("div",{id:"test-sites-placeholder"},r.a.createElement(wl,{amountRows:4}));var e={at:a("sites.at"),ipfs:a("sites.ipfs"),github:a("sites.github"),ownedBy:a("sites.ownedBy"),andSymbol:a("sites.andSymbol"),deployFrom:a("sites.deployFrom"),addNewSite:a("sites.addNewSite"),lastPublished:a("sites.lastPublished"),deployInProgress:a("sites.deployInProgress"),failedDeploy:a("sites.failedDeploy")},t=G()(l,"getSitesByTeam.sites",[]);return r.a.createElement("div",{id:"test-sites"},0===t.length&&r.a.createElement(Ol,{isPlaceholder:!0,i18n:e}),r.a.createElement(pt.a,null,t.map((function(t){var a=xl(t);return r.a.createElement(Ol,{key:t.id,i18n:e,site:a})})),s&&o&&r.a.createElement(wl,{amountRows:1})))}()),m=o||!!G()(l,"getSitesByTeam.sites.length");return r.a.useEffect((function(){window.analytics.page("Sites",{path:t.pathname,search:t.search})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(vl,{type:pl,isContentActive:m}),d)},Dl=a(1868),Tl=Object(ie.a)((function(e){return{memberInfo:{flex:1,display:"inherit",flexDirection:"row",alignItems:"center"},memberData:{width:"auto",marginLeft:22,"& > p":{margin:0},"& > .user-name":{fontSize:15,fontWeight:500,color:e.palette.text.primary},"& > .user-email":{fontSize:13,color:e.palette.palette.grey2,display:function(e){return e.name?"inherit":"none"}}},memberAvatar:{display:"inherit",alignItems:"center",justifyContent:"center",border:"solid 1px ".concat(e.palette.palette.grey4),"&, & > img":{width:48,height:48,borderRadius:4,objectFit:"cover"},backgroundColor:e.palette.palette.whiteThree,"& > div, & > div > svg":{height:21,width:"18px !important"},"& > div":{fontSize:20,color:e.palette.palette.grey4}}}})),Bl=function(e){var t=e.name,a=e.email,n=e.profilePic,i=Tl({name:t}),o=n?r.a.createElement("img",{alt:t,src:n}):r.a.createElement(ne.default,{icon:["fal","user"]});return r.a.createElement("div",{className:i.memberInfo},r.a.createElement("div",{className:i.memberAvatar},o),r.a.createElement("div",{className:i.memberData},r.a.createElement("p",{className:"user-name"},t||a),r.a.createElement("p",{className:"user-email"},a)))};Bl.defaultProps={name:null,profilePic:null};var Al=Bl,Pl="member",Rl="PENDING",Ml="MEMBER",Ll="INVITATION",Fl=Object(ie.a)((function(e){return{memberStatus:{flex:1,"& > p":{margin:0},"& > p:nth-child(1)":{fontSize:15,fontWeight:500,color:function(t){return t.status===Rl?e.palette.palette.grey2:"#000000"}},"& > p:nth-child(2)":{fontSize:13,color:e.palette.palette.grey2,display:function(e){return e.status===Rl?"none":"flex"}}}}})),Ul=function(e){var t=e.role,a=e.status,n=Object(Q.a)().t,i=Fl({status:a});return r.a.createElement("div",{className:i.memberStatus},r.a.createElement("p",null,n(a===Rl?"members.invited":"members.roles.".concat(t))),r.a.createElement("p",null,n("members.allSites")))},_l=Object(ie.a)((function(e){return{optionsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:27},memberOption:{padding:0,fontSize:12,cursor:"pointer",color:e.palette.error.main},spinner:{paddingLeft:5,"& > div":{display:"flex"},"& > div > div":{width:"12px !important",height:"12px !important",color:e.palette.error.main}},iconButtonRoot:{width:5,padding:0,"&:hover":{backgroundColor:"transparent"}}}})),Wl=function(e){var t=e.id,a=e.type,n=_l(),i=Object(v.j)(),o=Object(Q.a)().t,l=r.a.useState({isLoading:!1}),c=Object(V.a)(l,2),s=c[0],u=c[1],d=i.params.teamId,m=Object(nl.a)(Rr.i,{client:K.b,update:function(e){try{var a=e.readQuery({query:H.f,variables:{teamId:d}}),n=a.getMembersByTeam.filter((function(e){return e.member?e.member.id!==t:e.pendingMember.id!==t}));e.writeQuery({query:H.f,variables:{teamId:d},data:Object(k.a)(Object(k.a)({},a),{},{getMembersByTeam:n})})}catch(r){console.error("Error when trying to update GET_TEAM_MEMBERS query: ",r.message)}}}),p=Object(V.a)(m,1)[0],b=function(){var e=Object(W.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),u({isLoading:!0}),e.prev=2,e.next=5,p({variables:{input:{type:a,teamId:d,memberSlotId:t}}});case 5:va.c.success(o("members.removeMember.success"),{autoClose:6e3}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),u((function(e){return Object(k.a)(Object(k.a)({},e),{},{isLoading:!1})})),console.error("Error when trying to remove a member: ",e.t0.message),va.c.error(o("members.removeMember.error"),{autoClose:6e3});case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Pr.a,{menuId:"menu-dropdown-member-options",trigger:r.a.createElement(Ar.a,{disableRipple:!0,disableFocusRipple:!0,classes:{root:n.iconButtonRoot}},r.a.createElement(Br.a,null))},r.a.createElement(wr.a,{className:n.memberOption,onClick:b},r.a.createElement(Le.a,{type:"button",className:"remove-domain-button",onClick:b},o("members.remove"),s.isLoading&&r.a.createElement("span",{className:n.spinner},r.a.createElement(Ue.a,{positioning:"inline"})))))},Vl=Object(ie.a)({member:{minHeight:78,display:"flex",alignItems:"center",padding:"15px 25px"}}),zl=function(e){var t=e.member,a=e.isCurrentUserTeamOwner,n=Vl(),i=G()(t,"member.lastname"),o=G()(t,"member.email"),l=G()(t,"member.firstname"),c=G()(t,"accessLevel")||"member",s=G()(t,"pendingMember.status")||"",u=G()(t,"member.profilePic",null),d=G()(t,"pendingMember.email"),m=function(e){return e.member?Ml:Ll}(t),p=function(e){var t=e.firstname,a=e.lastname;return t?a?"".concat(t," ").concat(a):t:a||null}({firstname:l,lastname:i});return r.a.createElement(wr.a,{className:n.member},r.a.createElement(Al,{name:p,profilePic:u,email:o||d}),r.a.createElement(Ul,{role:c,status:s}),a&&c===Pl&&r.a.createElement(Wl,{type:m,id:t.id}))},Gl=Object(ie.a)({skeletonRoot:{borderRadius:4},member:{display:"flex",alignItems:"center",padding:"15px 25px"},memberInfo:{flex:1,display:"inherit",flexDirection:"row","& > div":{flex:1,marginLeft:22,display:"flex",flexDirection:"column",justifyContent:"space-around"}},memberStatus:{flex:1,display:"inherit",alignSelf:"stretch",flexDirection:"column",justifyContent:"space-around"}}),Kl=function(){var e=Gl();return r.a.createElement(wr.a,{className:e.member},r.a.createElement("div",{className:e.memberInfo},r.a.createElement(bt.a,{width:48,height:48,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement("div",null,r.a.createElement(bt.a,{width:97,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement(bt.a,{height:18,width:146,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))),r.a.createElement("div",{className:e.memberStatus},r.a.createElement(bt.a,{height:20,width:46,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement(bt.a,{width:47,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement(bt.a,{width:5,height:21,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))},Hl=function(e){var t=e.loading,a=e.members,n=e.isCurrentUserTeamOwner;return r.a.createElement(kr.a,{striped:!0},t&&Array(2).fill().map((function(e,t){return r.a.createElement(Kl,{key:t})})),!t&&a.map((function(e){var t=G()(e,"member.id"),a=G()(e,"pendingMember.id");return r.a.createElement(zl,{key:t||a,isCurrentUserTeamOwner:n,member:Object(k.a)(Object(k.a)({},e),{},{id:t||a})})})))},ql=Object(ie.a)({buttonContainer:{marginBottom:23,alignSelf:"flex-end",paddingRight:27},linkButton:{textDecoration:"none"},linkButtonDisabled:{pointerEvents:"none"},alertRoot:{margin:"5px 25px 0px 25px"}}),$l=function(){var e,t=ql(),a=Object(v.j)(),n=Object(v.h)(),i=Object(Q.a)().t,o=a.params.teamId,l=Object(Dl.a)(H.a,{client:K.c,variables:{id:o}}),c=Object(Dl.a)(H.i,{client:K.b,variables:{id:o}}),s=Object(Dl.a)(H.f,{client:K.b,variables:{teamId:o}}),u=s.error,d=s.data,m=s.loading,p=G()(d,"getMembersByTeam",[]),b=G()(c,"data.getTeamById.creatorId",""),f=G()(l,"data.getCurrentUser.user.id",""),g=G()(c,"data.getTeamById.status")===A.k.SUSPENDED;return r.a.useEffect((function(){window.analytics.page("Team Members",{path:n.pathname,search:n.search})}),[]),r.a.createElement(Z.a,{padding:"15px 0 35px 0"},f&&b&&f===b&&r.a.createElement("div",{className:t.buttonContainer},r.a.createElement(y.b,{className:Bt()((e={},Object(N.a)(e,t.linkButton,!0),Object(N.a)(e,t.linkButtonDisabled,g),e)),to:"/teams/".concat(o,"/members/add?accountId=").concat(o)},r.a.createElement(ae.a,{buttonVariant:"primary",className:t.button,disabled:g},i("members.add")))),u&&r.a.createElement(mi.a,{severity:"error",classes:{root:t.alertRoot},action:r.a.createElement(_t.a,{size:"small",color:"inherit",onClick:function(){return window.location.reload()}},i("members.tryAgain"))},i("members.error")),r.a.createElement(Hl,{loading:m,members:p,ownerId:b,isCurrentUserTeamOwner:f===b}))},Yl=a(267),Jl=a(270),Ql=Object(ie.a)((function(e){return{title:{fontSize:17,color:e.palette.palette.black,fontWeight:500},creditCardInfoContainer:{display:"inline-flex",justifyContent:"center",alignItems:"center",margin:"15px 0 17px"},addPaymentBtn:{marginLeft:10}}})),Zl=function(e){var t=e.showTitle,a=e.creditCardFourLastDigits,n=e.creditCardType,i=e.newCreditCardAction,o=e.loading,l=Object(Q.a)().t,c=Ql();return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(re.a,{className:c.title},l("billing.changePlan.step2Payment.whichPayment")),a?r.a.createElement("div",{className:c.creditCardInfoContainer},r.a.createElement(Jl.a,{cardType:n,fourLastDigits:a}),r.a.createElement(ae.a,{disabled:o,onClick:i,className:c.addPaymentBtn},l("billing.changePlan.step2Payment.changePaymentMethod"))):r.a.createElement("div",{className:c.creditCardInfoContainer},r.a.createElement(ae.a,{buttonVariant:"primary",disabled:o,onClick:i},l("billing.changePlan.step2Payment.addPaymentMethod"))))};Zl.defaultProps={creditCardFourLastDigits:null,creditCardType:null,showTitle:!0,newCreditCardAction:function(){},loading:!1};var Xl=Zl,ec=Object(ie.a)((function(e){return{title:{fontWeight:500,fontSize:22},subtitle:{color:e.palette.palette.grey2,fontSize:15},sectionTitle:{fontSize:17,fontWeight:500},emailContainer:{marginTop:28},emailInput:{marginTop:13,width:330},submitButton:{marginTop:15,width:170},extraSeatsContainer:{marginBottom:10},boldText:{fontWeight:500},alert:{margin:"-5px 0px 8px 0px"},boxWrapper:{alignItems:"flex-start"}}})),tc=function(e){var t=e.totalNewMembers,a=e.extraSeats,n=e.monthlyCost,i=Object(Q.a)().t,o=ec(),l=g.m.getDollarsFromCents(i,n);return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{className:o.sectionTitle},i("members.addMember.extraSeats.title")),r.a.createElement(re.a,{className:o.subtitle},r.a.createElement(Ca.a,{i18nKey:"members.addMember.extraSeats.description",values:{totalNewMembers:t,extraSeats:a,monthlyCost:l},components:[null,r.a.createElement("span",{className:o.boldText},"LAST_4_DIGITS")]})))},ac=function(){var e=Object(v.j)(),t=Object(v.g)(),a=ec(),i=Object(Q.a)().t,o=Object(m.b)(),l=Object(v.h)(),c=Object(n.useState)(""),s=Object(V.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)(null),b=Object(V.a)(p,2),f=b[0],y=b[1],h=Object(n.useState)(!1),E=Object(V.a)(h,2),O=E[0],j=E[1],S=Object(n.useState)(!1),x=Object(V.a)(S,2),C=x[0],I=x[1],N=e.params.teamId,T=Object(se.b)(H.f,{client:K.b,variables:{teamId:N}}),B=Object(se.b)(Yl.a,{client:K.b,variables:{teamId:N}}),A=B.refetch,P=B.data,R=Object(se.a)(Rr.f,{client:K.b,update:function(e,t){var a=t.data.inviteUser;try{var n=e.readQuery({query:H.f,variables:{teamId:N}}),r=Object(D.a)(n.getMembersByTeam);a.forEach((function(e){r.push({member:null,accessLevel:null,__typename:"MemberSlot",pendingMember:Object(k.a)({},e)})})),e.writeQuery({query:H.f,variables:{teamId:N},data:Object(k.a)(Object(k.a)({},n),{},{getMembersByTeam:r})})}catch(i){console.error("Error when trying to update GET_SITES_BY_TEAM query: ",i.message)}}}),M=Object(V.a)(R,2),L=M[0],F=M[1].loading,U=function(){return o(Object(w.j)(w.g,{onSuccess:function(){A()}}))},z=Object(se.b)(H.i,{client:K.b,fetchPolicy:"network-only",variables:{id:N}}),q=G()(z,"data.getTeamById.seatCount",0),$=G()(T,"data.getMembersByTeam",[]),Y=G()(z,"data.getTeamById.membersCount",0),J=G()(z,"data.getTeamById.pendingInviteCount",0),X=G()(P,"getTeamBillingInformation.activePlan.selectedPlan.id",""),ee=G()(P,"getTeamBillingInformation.paymentMethod",null),te=G()(P,"getTeamBillingInformation.activePlan.selectedPlan.extraTeamMemberPrice","0"),ne=""===u||F||C&&!ee,ie=function(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,a=!0;return e.forEach((function(e){t.test(e)||(a=!1)})),a},oe=function(e){var t=[];return e.forEach((function(e){$.find((function(t){return t.member?t.member.email===e:t.pendingMember.email===e}))&&t.push(e)})),t},le=function(){var a=g.t.buildUrl(null,"/teams/".concat(e.params.teamId,"/members"));t.push(a)},ue=function(){var e=Object(W.a)(_.a.mark((function e(){var t,a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O&&j(!1),""!==(t=u.replace(/ /g,""))){e.next=5;break}return y(i("members.addMember.emails.noEmailAddress")),e.abrupt("return");case 5:if(t=t.split(","),ie(t)){e.next=10;break}return y(i("members.addMember.emails.invalidEmail")),e.abrupt("return");case 10:if(!((a=oe(t)).length>0)){e.next=14;break}return y(i("members.addMember.emails.duplicate",{count:a.length,emails:a.join(", ")})),e.abrupt("return");case 14:if(C){e.next=20;break}if(n=u.split(",").length,!(n+Y+J>q||"basic_plan"===X)){e.next=20;break}return I(!0),e.abrupt("return");case 20:return window.analytics.track("Member(s) invited",{teamId:N}),e.prev=21,e.next=24,L({variables:{teamId:N,emails:t}});case 24:le(),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(21),console.error(e.t0),j(!0);case 31:case"end":return e.stop()}}),e,null,[[21,27]])})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){window.analytics.page("Add Team Member",{path:l.pathname,search:l.search})}),[]),r.a.createElement("div",null,r.a.createElement(ce,{onClick:function(){le()}}),r.a.createElement(Z.a,{padding:"37px 290px 48px 58px",overrideClass:{wrapper:a.boxWrapper}},r.a.createElement(re.a,{className:a.title},i("members.addMember.title")),r.a.createElement(re.a,{className:a.subtitle},i("members.addMember.subtitle")),r.a.createElement("div",{className:a.emailContainer},r.a.createElement(re.a,{className:a.sectionTitle},i("members.addMember.emails.title")),r.a.createElement(re.a,{className:a.subtitle},i("members.addMember.emails.subtitle")),r.a.createElement(Te.a,{value:u,label:i("members.addMember.emails.fieldLabel"),onChange:function(e){d(e.target.value),f&&y(null),C&&I(!1),O&&j(!1)},error:!!f,errorMessage:f,className:a.emailInput})),O&&r.a.createElement(an.a,{type:"error",message:i("members.addMember.error.errorSendingInvitations"),className:a.alert,icon:["fal","times-circle"]}),C&&function(){var e=u.split(",").length,t=e+Y+J,a=Math.abs(t-q),n=parseInt(te,10)*a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(tc,{totalNewMembers:e,extraSeats:a,monthlyCost:n}),"basic_plan"===X&&r.a.createElement(Xl,{showTitle:!1,newCreditCardAction:U,creditCardType:G()(ee,"issuer",""),creditCardFourLastDigits:G()(ee,"card.lastCardNumbers","")}))}(),r.a.createElement(ae.a,{onClick:ue,buttonVariant:"primary",color:"primary",disabled:ne,loading:F,className:a.submitButton},i("members.addMember.buttonText"))))},nc=a(151),rc=a(213),ic=Object(ie.a)((function(){return{link:{display:"inline-flex",margin:"10px 0 23px",textDecoration:"none"},inputWrapper:{margin:"8px 0 9px",width:330}}})),oc=function(e){var t=e.initialValue,a=e.setTeamName,i=Object(n.useState)(t),o=Object(V.a)(i,2),l=o[0],c=o[1],s=ic(),u=Object(Q.a)().t,d="team.create.stepper.step1.teamName.";return r.a.createElement(Se,{title:u("".concat(d,"title")),subtitle:u("".concat(d,"subtitle"))},r.a.createElement("div",null,r.a.createElement("div",{className:s.inputWrapper},r.a.createElement(Te.a,{value:l,className:s.input,onChange:function(e){c(e.target.value)},label:u("".concat(d,"inputLabel"))})),r.a.createElement(ae.a,{buttonVariant:"primary",onClick:function(){a(l)},disabled:!l},u("".concat(d,"pickPlan")))))};oc.defaultProps={initialValue:""};var lc=oc,cc=Object(ie.a)((function(e){return{wrapper:{"&&& > div:nth-child(n+2)":{marginTop:15}},container:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid ".concat(e.palette.palette.grey5),padding:"16px 25px",borderRadius:4},title:{fontWeight:"normal"},subtitle:{color:e.palette.palette.grey2},defaultButton:{"&&&":{width:170}},disabledButton:{"&&&":{"& p":{fontWeight:500,color:e.palette.palette.grey3},backgroundColor:"unset",border:"1px solid ".concat(e.palette.palette.grey5)}},pickPlanButton:{"&&&":{"& p":{color:e.palette.palette.whiteThree},"&:hover":{transition:"all 0.2s ease",backgroundColor:e.palette.primary.main,opacity:.8},border:"unset",backgroundColor:e.palette.primary.main}},contactUs:{marginTop:20,fontSize:15},emailLink:{color:e.palette.palette.primaryBlue,textDecoration:"none","&:hover":{textDecoration:"underline"}},resetAnchorStyles:{textDecoration:"none"}}})),sc=function(e){return{title:e("billing.changePlan.pickPlan.title"),subtitle:e("billing.changePlan.pickPlan.subtitle"),plans:{title:function(t){return e("billing.changePlan.pickPlan.plans.title",Object(k.a)({},t))},pickPlan:e("billing.changePlan.pickPlan.plans.pickPlan"),contactSales:e("billing.changePlan.pickPlan.plans.contactSales"),currentPlan:e("billing.changePlan.pickPlan.plans.currentPlan"),perMonth:function(t){return e("billing.changePlan.pickPlan.plans.perMonth",{price:t})}}}},uc=function(e){return 0===e.priceMonthly},dc=function(e){var t=e.onClickPlan,a=e.currentPlan,n=e.plans,i=e.supportEmail,o=Object(Q.a)().t,l=cc(),c=sc(o),s=a.id&&n.length>0,u=function(e){var t=G()(e,"priceMonthly",0),a=q.a.getUnlimitedOrValue(o,t);if(a.wasConverted)return a.value;var n=q.a.getDollarsFromCents(o,a.value);return c.plans.perMonth(n)},d=function(e,t,a){var n;return r.a.createElement(ae.a,{disabled:t,onClick:a,overrideClass:{button:Bt()(l.defaultButton,(n={},Object(N.a)(n,l.disabledButton,t),Object(N.a)(n,l.pickPlanButton,!t&&a),n))},buttonVariant:"secondary"},e)};return r.a.createElement(Se,{title:c.title,subtitle:c.subtitle},r.a.createElement("div",{className:l.wrapper},s&&n.map((function(e){var n=a.id===e.id,i=e.priceMonthly===A.i,o=function(e,t){return e?c.plans.currentPlan:t?c.plans.contactSales:c.plans.pickPlan}(n,i);return uc(e)?null:r.a.createElement("div",{className:l.container,key:e.id},r.a.createElement("div",{className:l.textContainer},r.a.createElement(re.a,{variant:"body2",className:l.title},c.plans.title({name:e.name,price:u(e)})),r.a.createElement(re.a,{variant:"body2",className:l.subtitle},e.description)),i?r.a.createElement("a",{href:"https://fleek.co/pricing",target:"_blank",rel:"noopener noreferrer",className:l.resetAnchorStyles},d(o,n)):d(o,n,(function(){return function(e){t({plan:e})}(e)})))})),s&&function(){if(uc(a))return null;var e=n.find(uc);return r.a.createElement(re.a,{className:l.contactUs},r.a.createElement(Ca.a,{i18nKey:"billing.changePlan.pickPlan.plans.contactUs",values:{supportEmail:i,startPlan:e.name},components:[null,r.a.createElement("a",{href:"mailto:".concat(i),className:l.emailLink},"EMAIL")]}))}()))};dc.defaultProps={onClickPlan:function(){}};var mc=dc,pc=a(68),bc=function(e){var t=e.selectPlan,a=Object(se.b)(rc.a,{client:K.b}).data,n=G()(a,"getPlans",[]);return r.a.createElement(mc,{onClickPlan:t,plans:n,currentPlan:{id:"basic_plan"},supportEmail:pc.a.supportEmail})},fc=Object(ie.a)((function(e){return{title:{fontSize:17,color:e.palette.palette.black,fontWeight:500},subtitle:{fontSize:15,color:e.palette.palette.grey2,marginTop:-3},additionText:{fontSize:15,color:e.palette.palette.black},totalText:{fontSize:15,color:e.palette.palette.black,fontWeight:500},billLineContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0px 22px",height:46}}})),gc=function(e){var t=e.itemsList,a=Object(Q.a)().t,n=fc(),i=t.reduce((function(e,t){return e+t.price}),0),o=g.m.getDollarsFromCents(a,i);return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{className:n.title},a("billing.changePlan.step2Payment.summary")),r.a.createElement(re.a,{className:n.subtitle},a("billing.changePlan.step2Payment.summarySubtitle")),r.a.createElement(pt.a,null,t.map((function(e){return r.a.createElement("div",{className:n.billLineContainer,key:e.name},r.a.createElement(re.a,{className:n.additionText},e.name),r.a.createElement(re.a,{className:n.additionText},g.m.getDollarsFromCents(a,e.price)))})).concat([r.a.createElement("div",{className:n.billLineContainer,key:"total"},r.a.createElement(re.a,{className:n.totalText},a("billing.changePlan.step2Payment.total")),r.a.createElement(re.a,{className:n.totalText},o))])))};gc.defaultProps={itemsList:[]};var yc=gc,vc=Object(ie.a)((function(e){return{planInfoContainer:{marginBottom:25},title:{fontSize:17,color:e.palette.palette.black,fontWeight:500},subtitle:{fontSize:15,color:e.palette.palette.grey2,marginTop:-3}}})),hc=function(e){var t=e.name,a=e.description,n=e.price,i=Object(Q.a)().t,o=vc(),l=g.m.getDollarsFromCents(i,n);return r.a.createElement("div",{className:o.planInfoContainer},r.a.createElement(re.a,{className:o.title},i("billing.changePlan.step2Payment.pickedPlan",{type:t,price:l})),r.a.createElement(re.a,{className:o.subtitle},a))};hc.defaultProps={name:"",description:"",price:0};var Ec=hc,Oc=function(e,t,a){var n=g.m.getUnlimitedOrValue(e,t);return{limit:n.wasConverted?n.value.toLowerCase():e("billing.changePlan.step2Payment.upTo",{limit:n.value}),text:n.wasConverted||1!==n.value?e("billing.changePlan.step2Payment.".concat(a,"Plural")):e("billing.changePlan.step2Payment.".concat(a,"Singular"))}},jc=function(e,t){var a=e("billing.changePlan.step2Payment.typePlan",{type:t.name}),n=G()(t,"limitTeamMembers",0),r=Oc(e,t.limitNumberOfSites,"site"),i=Oc(e,n,"user");return e("billing.changePlan.step2Payment.including",{plan:a,siteLimit:r.limit,sitesText:r.text,userLimit:i.limit,usersText:i.text})};function Sc(){var e=Object(ue.a)(["\n  mutation addTeam($input: AddTeamInput!) {\n    addTeam(input: $input) {\n      id\n      name\n    }\n  }\n"]);return Sc=function(){return e},e}var kc=me()(Sc()),wc=function(e,t){var a=t.data;try{var n=e.readQuery({query:H.e}),r=n.getMemberships.memberships,i={teamId:a.addTeam.id,teamName:a.addTeam.name,accessLevel:"admin",createdAt:(new Date).toUTCString(),__typename:"Membership"};e.writeQuery({query:H.e,data:Object(k.a)(Object(k.a)({},n),{},{getMemberships:Object(k.a)(Object(k.a)({},n.getMemberships),{},{memberships:[].concat(Object(D.a)(r),[i])})})})}catch(o){console.log("Error: Updating memberships cache",o)}},xc=function(){var e=Object(v.g)(),t=Object(se.a)(kc,{client:K.b,update:wc,onCompleted:function(t){var a=G()(t,"addTeam");if(a){var n=g.t.buildUrl({accountId:a.id},"/teams/".concat(a.id,"/sites"));e.push(n)}}}),a=Object(V.a)(t,2);return{addTeam:a[0],loading:a[1].loading}},Cc=Object(ie.a)((function(e){return{title:{fontSize:17,color:e.palette.palette.black,fontWeight:500,marginBottom:17},input:{width:330},submitButton:{marginTop:20}}})),Ic=function(e){var t=e.teamName,a=e.selectedPlan,i=Object(Q.a)().t,o=xc(),l=o.addTeam,c=o.loading,s=Object(n.useState)(),u=Object(V.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)({}),f=Object(V.a)(b,2),g=f[0],y=f[1],v=Object(n.useState)(Math.max(a.limitTeams,3)),h=Object(V.a)(v,2),E=h[0],O=h[1],j=Object(m.b)(),S=Cc();Object(n.useEffect)((function(){(function(){var e=Object(W.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=11;break}return e.prev=1,e.next=4,K.b.query({query:H.g,variables:{paymentMethodId:d}});case 4:t=e.sent,y(G()(t,"data.getPaymentMethodInformation",{})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[d]);var k=G()(a,"limitTeamMembers",0),x=G()(a,"extraTeamMemberPrice",0),C=[{name:jc(i,a),price:a.priceMonthly}],I=E-k;I>0&&C.push({name:i("team.create.stepper.step3.additionalUsersLabel",{userNumber:I,pricePerUser:x/100}),price:x*I});var N=function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{input:{name:t,paymentMethodId:d,planId:a.id,seatCount:E}}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),D=G()(g,"card.lastCardNumbers"),T=G()(g,"issuer");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ec,{name:a.name,description:a.description,price:a.priceMonthly}),r.a.createElement(re.a,{className:S.title},i("team.create.stepper.step3.howManyPeople")),r.a.createElement(Te.a,{value:E,className:S.input,onChange:function(e){e.target.value||O("");var t=parseInt(e.target.value,10);"number"===typeof t&&t>0&&O(t<3?3:t)},onBlur:function(){var e=parseInt(E,10);O("number"===typeof e&&e>0?e:3)},label:i("team.create.stepper.step3.inputLabel"),type:"number"}),r.a.createElement(Xl,{creditCardFourLastDigits:D,creditCardType:T,newCreditCardAction:function(){return j(Object(w.j)(w.g,{useTeamId:!1,onSuccess:function(e){var t=G()(e,"setupIntent.payment_method","");p(t)}}))},loading:c}),r.a.createElement(yc,{itemsList:C}),r.a.createElement(ae.a,{loading:c,disabled:!D,buttonVariant:"primary",onClick:N,className:S.submitButton},i("team.create.stepper.step3.createTeam")))};Ic.defaultProps={teamName:""};var Nc=Ic,Dc="/summary/:teamName/:planId",Tc=function(){var e=Object(v.g)(),t=Object(Q.a)().t,a=Object(v.j)(),i=Object(v.h)(),o=Object(nc.a)(),l=Object(se.b)(rc.a,{client:K.b}),c=["".concat(a.url).concat("/team-name"),"".concat(a.url).concat("/pick-plan/:teamName"),"".concat(a.url).concat(Dc)].findIndex((function(e){return Object(v.f)(i.pathname,{path:e,exact:!0})})),s=function(){var t;switch(c){case 0:t="/teams/".concat(o,"/sites");break;case 1:t="".concat(a.url).concat("/team-name");break;case 2:var n=Object(v.f)(i.pathname,{path:"".concat(a.url).concat(Dc),exact:!0}).params;t="".concat(a.url,"/pick-plan/").concat(n.teamName)}e.push(g.t.buildUrl(null,t))},u=[t("team.create.stepper.step1.title"),t("team.create.stepper.step2.title"),t("team.create.stepper.step3.title")],d=Object(v.f)(i.pathname,{path:"".concat(a.url).concat(Dc),exact:!0}),m=G()(d,"params.planId"),p=G()(l,"data.getPlans",[]).find((function(e){return e.id===m}));Object(n.useEffect)((function(){var e=!p&&!l.loading;d&&e&&s()}),[d,l.loading]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,{onClick:s}),r.a.createElement(Z.a,{padding:"37px 57px 42px"},r.a.createElement(ee.a,{title:t("team.create.stepper.title"),description:t("team.create.stepper.description"),stepTitles:u,indexOfActiveStep:c},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"".concat(a.url).concat("/team-name"),exact:!0},r.a.createElement(lc,{setTeamName:function(t){e.push(g.t.buildUrl(null,"".concat(a.url,"/pick-plan/").concat(t)))}})),r.a.createElement(v.b,{path:"".concat(a.url).concat("/pick-plan/:teamName"),exact:!0},r.a.createElement(bc,{selectPlan:function(t){var n=t.plan,r=Object(v.f)(i.pathname,{path:"".concat(a.url).concat("/pick-plan/:teamName"),exact:!0}).params;e.push(g.t.buildUrl(null,"".concat(a.url,"/summary/").concat(r.teamName,"/").concat(n.id)))}})),r.a.createElement(v.b,{path:"".concat(a.url).concat(Dc),exact:!0},p?r.a.createElement(Nc,{teamName:d.params.teamName,selectedPlan:p}):null),r.a.createElement(v.a,{to:g.t.buildUrl(null,"".concat(a.url).concat("/team-name"))})))))},Bc=a(107),Ac=a(1885),Pc=a(1890),Rc=Object(ie.a)((function(e){return{root:{height:135,display:"flex",flexDirection:"row",alignItems:"center"},fileName:{fontWeight:500,marginRight:15},ipfsIcon:{width:15,height:15,margin:"3px 9px 0 0"},ipfsPending:{color:e.palette.palette.grey2},ipfs:{textDecoration:"underline",color:"black"},row:{display:"flex",alignItems:"center",flexDireciton:"row"},textContainer:{flex:1,paddingRight:10,display:"flex",flexDirection:"column",maxWidth:"calc(100% - 250px)"},skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},objectUrl:{margin:"13px 0","& a":{textDecoration:"none"},"& p":{display:"list-item"}}}})),Mc=function(e){var t=e.url,a=e.icon,n=e.status,i=e.ipfsHash,o=e.fileName,l=e.imageSrc,c=e.loadingHash,s=e.loadingInfo,u=e.lastModification,d=Rc(),m=Object(Q.a)().t;return r.a.createElement(Z.a,{padding:"11px 15px 11px 27px",overrideClass:{wrapper:d.root}},r.a.createElement("div",{className:d.textContainer},r.a.createElement("div",{className:d.row},r.a.createElement(re.a,{variant:"h6",display:"inline",className:d.fileName},o),s?r.a.createElement(bt.a,{width:150,height:20,variant:"rect",animation:"wave",classes:{root:d.skeletonRoot}}):r.a.createElement(re.a,{variant:"body2",display:"inline",color:"textSecondary"},u)),r.a.createElement("div",{className:d.objectUrl},r.a.createElement("a",{href:"https://".concat(t),target:"_blank",rel:"noopener noreferrer",className:d.urlLink},r.a.createElement(Pc.b,{noWrap:!0,status:n,variant:"body2"},t))),r.a.createElement("div",{className:d.row},r.a.createElement("img",{alt:"Ipfs logo",className:d.ipfsIcon,src:"https://storage.googleapis.com/terminal-assets/images/wallets/ipfs.svg"}),!i&&c?r.a.createElement(bt.a,{width:130,height:20,variant:"rect",animation:"wave",classes:{root:d.skeletonRoot}}):i?r.a.createElement("a",{href:"https://gateway.temporal.cloud/ipfs/".concat(i),target:"_blank",rel:"noopener noreferrer",className:d.ipfs},r.a.createElement(re.a,{variant:"body2"},m("sites.siteHeader.ipfs.verify"))):r.a.createElement(re.a,{variant:"body2",className:d.ipfsPending},m("sites.siteHeader.ipfs.pending")))),r.a.createElement("div",null,a?s?r.a.createElement(bt.a,{width:250,height:112,variant:"rect",animation:"wave",classes:{root:d.skeletonRoot}}):r.a.createElement(Ac.b,{icon:a,imageSrc:l}):null))};Mc.defaultProps={fileName:"",lastModification:"",url:"",status:Pc.a.Success,ipfsHash:null,imageSrc:null,icon:null,loadingHash:!1,loadingInfo:!1};var Lc=Mc,Fc=function(e){var t=e.loading,a=e.details,n=Object(Q.a)().t,i=Object.entries(a);return r.a.createElement(_n,null,i.map((function(e){var a=Object(V.a)(e,2),i=a[0],o=a[1];return r.a.createElement(Vn,{key:i,value:o,loading:t,field:"".concat(n("storage.details.".concat(i)),":")})})))},Uc=Object(ie.a)({option:{height:25,alignItems:"stretch","&:hover":{backgroundColor:"#f4f4f4"},"& > button":{flex:1,padding:"0 10px",justifyContent:"flex-start"}}}),_c=function(e){var t=e.name,a=e.warning,n=e.onClick,i=Uc(),o=a?"error":"primary";return r.a.createElement(wr.a,{className:i.option},r.a.createElement(Le.a,{type:"button",onClick:n},r.a.createElement(re.a,{color:o,variant:"caption"},t)))};_c.defaultProps={warning:!1};var Wc=_c,Vc=Object(ie.a)((function(e){return{divider:{height:1,margin:"3px 0",backgroundColor:e.palette.palette.whiteSmoke}}})),zc=function(){var e=Vc();return r.a.createElement(wr.a,{className:e.divider})},Gc=a(406),Kc=a.n(Gc),Hc=Object(ie.a)((function(e){return{buttonContent:{height:18,display:"flex",flexDirection:"row","& > div":{fontSize:11,marginLeft:5,display:"inline-flex"}},button:{borderColor:e.palette.primary.main,"&:hover":{backgroundColor:"unset !important"}},list:{padding:"5px 0"}}})),qc=function(e){var t=e.btnName,a=e.disabled,n=e.children,i=Hc();return r.a.createElement(Pr.a,{offsetTop:7,className:i.list,menuId:"actions-menu-dropdown",trigger:r.a.createElement(Kc.a,{disableRipple:!0,disableFocusRipple:!0,disabled:a,buttonVariant:"secondary",overrideClass:{button:i.button}},r.a.createElement("div",{className:i.buttonContent},r.a.createElement("span",null,t),r.a.createElement(ne.default,{icon:["fal","angle-down"]})))},n)};qc.defaultProps={children:null,disabled:!1};var $c=qc,Yc=Object(ha.a)({root:{display:"inherit",flex:1,justifyContent:"flex-end",alignItems:"stretch"},group:{margin:"0 -5px","& > *":{margin:"0 5px"}}}),Jc=function(){var e=Object(W.a)(_.a.mark((function e(){var t,a,n,r,i=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"",a=i.length>1&&void 0!==i[1]?i[1]:[],n=i.length>2&&void 0!==i[2]?i[2]:function(){},r=a[0]){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Object(K.a)();case 8:e.sent.getSignedUrl("getObject",{Bucket:t,Key:r.key},(function(e,t){return n(e,t,r)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qc={open:function(e){var t=e.bucket,a=e.selectedObjects,n=(void 0===a?[]:a)[0];if(n){var r=Object(q.j)(t,n.key);window.open("https://".concat(r),"_blank").focus()}},view:function(e){var t=e.bucket,a=e.history,n=e.accountId,r=e.selectedObjects,i=(void 0===r?[]:r)[0];if(i){var o="folder"===i.type?"folder":"object",l="folder"===i.type?i.name:i.key,c=g.t.buildUrl(null,"/teams/".concat(n,"/storage/").concat(t,"/").concat(o,"/").concat(l));a.push(c)}},rename:function(){},download:function(e){var t=e.t,a=e.toast,n=e.bucket,r=e.selectedObjects;Jc(n,void 0===r?[]:r,(function(e,n,r){if(e)return Bc.a(e),console.error(e);a.success(t("storage.actionsMessage.downloadSuccess"),{autoClose:6e3}),fetch(n).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.style.display="none",a.download=r.name,a.href=t,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a)})).catch((function(e){Bc.a(e)}))}))},"copy-path":function(e){var t=e.t,a=e.toast,n=e.bucket,r=e.selectedObjects,i=(void 0===r?[]:r)[0];if(i){var o=Object(q.j)(n,i.key);Object(ya.copyToClipboard)("https://".concat(o)),a.success(t("storage.actionsMessage.copyPathSuccess"))}},"download-as":function(){}},Zc=function(e){var t=e.file,a=e.disabled,n=e.objectUrl,i=Yc(),o=Object(Q.a)().t,l=Object(v.j)(),c=Object(m.b)();return r.a.createElement("div",{className:i.root},r.a.createElement("div",{className:i.group},r.a.createElement(ae.a,{disabled:a||!n,buttonVariant:"primary",target:"_blank",rel:"noopener noreferrer",href:"https://".concat(n)},o("storage.open")),r.a.createElement(ae.a,{disabled:a,buttonVariant:"primary",onClick:function(e){e.preventDefault(),Qc.download({t:o,toast:va.c,bucket:t.bucket,selectedObjects:[t]})}},o("storage.download")),r.a.createElement(ae.a,{disabled:a,buttonVariant:"primary",onClick:function(e){e.preventDefault(),Qc["copy-path"]({t:o,toast:va.c,bucket:t.bucket,selectedObjects:[t]})}},o("storage.copyPath")),r.a.createElement($c,{disabled:a,btnName:o("storage.actions")},r.a.createElement(Wc,{warning:!0,name:"Delete",onClick:function(e){e.preventDefault();var a=l.params,n=a.teamId,r=a.bucketName,i=t.key.split("/"),o=i.slice(0,i.length-1).join("/"),s=""===o?"":"/folder/".concat(o),u=g.t.buildUrl(null,"/teams/".concat(n,"/storage/").concat(r).concat(s));c(Object(w.j)(w.d,{itemsToRemove:[t],redirectUrl:u}))}}))))};Zc.defaultProps={objectUrl:null};var Xc=Zc,es=Object(ha.a)((function(e){return{divider:{height:1,margin:"20px -27px",backgroundColor:e.palette.palette.whiteSmoke},header:{display:"flex",alignItems:"center",flexDirection:"row"}}})),ts=a(196),as=/\.(png|jpeg|jpg|gif)$/i,ns=function(){var e=es(),t=Object(m.b)(),a=Object(Q.a)().t,i=Object(v.j)().params,o=Object(v.h)().pathname,l=Object(n.useState)({url:null,loading:!0}),c=Object(V.a)(l,2),s=c[0],u=c[1],d=o.split("/"),p=d.indexOf("object"),b=d.slice(p+1).join("/"),f=d.pop(),g=Object(m.c)((function(e){return{isLoading:e.storage.loading,file:e.storage.objects.find((function(e){return e.fullKey==="".concat(i.bucketName,"/").concat(b)}))}})),y=g.file,h=g.isLoading;r.a.useEffect((function(){t(Object(P.p)({Key:b,Bucket:i.bucketName}))}),[]),r.a.useEffect((function(){!h&&y&&function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)();case 2:e.sent.getSignedUrl("getObject",{Bucket:i.bucketName,Key:b},(function(e,t){if(e)return Bc.a(e),console.error(e),void u({url:null,loading:!1});u({url:t,loading:!1})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[b,h,i.bucketName]);var E=Object(se.b)(ts.b,{client:K.b,variables:{bucket:i.bucketName,key:b}}),O=E.data,j=E.loading,S=Object(q.j)(i.bucketName,b);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Lc,{loadingHash:j||s.loading,ipfsHash:G()(O,"getStorageObject.hash","")||"",status:"success",fileName:f,loadingInfo:!y&&h,icon:y&&"archive"===y.subtype?Ac.a.Zip:Ac.a.File,url:Object(q.j)(i.bucketName,b),imageSrc:as.test(b)?s.url:null,lastModification:y?a("storage.lastModified",{date:ba()(y.lastModification).calendar()}):""}),r.a.createElement("br",null),r.a.createElement(Z.a,{padding:"20px 27px 28px 27px"},r.a.createElement("div",{className:e.header},r.a.createElement(re.a,{variant:"h6"},a("storage.header")),r.a.createElement(Xc,{file:y||{},objectUrl:S,disabled:!y&&h})),r.a.createElement("div",{className:e.divider}),r.a.createElement(Fc,{loading:!y&&h,details:{objectUrl:S,name:f,size:y?y.bytesSize:"",hash:G()(O,"getStorageObject.hash","--")||"--"}})))},rs=function(e,t,a){var n=e?"".concat(e,"/"):"",r=t?"".concat(t,"/"):"",i="".concat(n).concat(r).replace(/\//g,"\\/"),o="[^".concat(a,"]*").concat(a,"?$").replace(/\//g,"\\/");return new RegExp(i+o)},is=function(e,t,a,n){var r=e.storage,i=r.objects,o=void 0===i?[]:i,l=r.searchTerm,c=void 0===l?"":l,s=rs(t,a,n);return o.filter((function(e){if(".keep"===e.name)return!1;var r=a?"/".concat(a):"/";if(e.fullKey==="".concat(t).concat(r).concat(n))return!1;var i=s.test(e.fullKey),o=""===c||e.name.includes(c);return i&&o}))},os=a(579),ls=a.n(os),cs=a(1873),ss=a(1872),us=a(91),ds=Object(ie.a)({checkboxCell:{width:68,paddingLeft:28},row:{"&:hover":{cursor:"pointer"},"& *":{userSelect:"none"}}}),ms=function(e){var t=e.head,a=e.rows,n=e.loading,i=e.onSingleClickRow,o=e.onDoubleClickRow,l=e.onSelectAllClick,c=e.allItemsSelected,s=ds(),u=function(e,t){return function(a){a.stopPropagation(),t.onSingleClickRow(e)}};return r.a.createElement(cs.a,{head:t,rows:a,loading:n,renderRow:function(e){var t=e.row,a=Object(gi.a)(e,["row"]);return r.a.createElement(us.TableRow,{hover:!0,key:t.fullKey,onClick:function(){return a.onDoubleClickRow(t)},className:s.row},r.a.createElement(us.TableCell,{className:s.checkboxCell},r.a.createElement(ss.a,{checked:t.selected,onClick:u(t,a)})),r.a.createElement(us.FileCell,{type:t.subtype},t.name),r.a.createElement(us.TableCell,null,ls()(t.lastModified).tz(ls.a.tz.guess()).format("MMM d, YYYY hh:mm:ss A z")),r.a.createElement(us.TableCell,null,t.bytesSize))},renderHead:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.a.createElement(us.TableRow,null,r.a.createElement(us.TableCell,{className:s.checkboxCell},r.a.createElement(ss.a,{checked:e.allItemsSelected,onChange:e.onSelectAllClick})),e.head.map((function(e){return r.a.createElement(us.TableCell,{key:e},e)})))},onSingleClickRow:i,onDoubleClickRow:o,onSelectAllClick:l,allItemsSelected:c,renderLoadingRows:function(){return r.a.createElement(r.a.Fragment,null,Object(D.a)(Array(5)).map((function(e,t){return r.a.createElement(us.TableRow,{key:t},r.a.createElement(us.TableCell,{className:s.checkboxCell},r.a.createElement(ss.a,{checked:!1})),r.a.createElement(us.LoadingCell,{width:192}),r.a.createElement(us.LoadingCell,{width:215}),r.a.createElement(us.LoadingCell,{width:80}))})))}})};ms.defaultProps={head:[],rows:[],loading:!1,allItemsSelected:!1,onSingleClickRow:function(){},onDoubleClickRow:function(){},onSelectAllClick:function(){}};var ps=ms,bs=Object(ie.a)((function(e){return{root:{marginTop:20,borderTop:"1px solid ".concat(e.palette.palette.whiteSmoke)},text:{marginTop:20,display:"flex",justifyContent:"center"}}})),fs=function(e){var t=e.bucket,a=e.prefix,n=e.delimiter,i=bs(),o=Object(v.g)(),l=Object(Q.a)().t,c=Object(m.b)(),s=Object(g.u)(),u=Object(m.c)((function(e){return e.storage.loading})),d=Object(m.c)((function(e){return is(e,t,a,n)})),p=!(d.length<1)&&d.every((function(e){return e.selected})),b=[l("storage.table.columns.name"),l("storage.table.columns.lastModified"),l("storage.table.columns.size")],f=d.length>0;return r.a.createElement("div",{className:i.root},r.a.createElement(ps,{head:b,rows:d,loading:u&&!f,onSingleClickRow:function(e){c(Object(P.m)(Object(k.a)(Object(k.a)({},e),{},{selected:!e.selected})))},onDoubleClickRow:function(e){var a="folder"===e.type?"folder":"object",n="folder"===e.type?e.key.replace(/\/$/,""):e.key,r=g.t.buildUrl(null,"/teams/".concat(s,"/storage/").concat(t,"/").concat(a,"/").concat(n));c(Object(P.s)()),o.push(r)},onSelectAllClick:function(){if(!(d.length<1))if(p){var e=d.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{selected:!1})}));c(Object(P.n)(e))}else{var t=d.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{selected:!0})}));c(Object(P.n)(t))}},allItemsSelected:!u&&p}),!u&&(!d||0===d.length)&&r.a.createElement(re.a,{variant:"caption",color:"textSecondary",className:i.text},l("storage.table.emptyMessage")))};fs.defaultProps={bucket:"",prefix:null,delimiter:"/"};var gs=fs,ys=Object(ha.a)({root:{flex:1}}),vs=function(){var e=ys(),t=Object(m.b)(),a=Object(m.c)((function(e){return e.storage})).searchTerm;return r.a.createElement("div",{className:e.root},r.a.createElement(Je.a,{value:a,placeholder:"Search",icon:["far","search"],onChange:function(e){return t({value:e,type:A.j})}}))},hs=Object(ie.a)({box:{marginTop:22,padding:"20px 0"},actionsHeader:{display:"flex",flexDirection:"row",padding:"0 27px"}}),Es=Object(ha.a)({root:{display:"inherit",flex:1,justifyContent:"flex-end",alignItems:"stretch"},group:{margin:"0 -5px","& > *":{margin:"0 5px"}},buttonContent:{height:20,display:"flex",flexDirection:"row",color:"white","& > div":{fontSize:15,marginRight:7,display:"inline-flex"}}}),Os=function(e){var t=e.bucket,a=e.prefix,n=e.disabled,i=e.delimiter,o=Es(),l=Object(v.g)(),c=Object(Q.a)().t,s=Object(m.b)(),u=Object(g.u)(),d=Object(m.c)((function(e){var n=is(e,t,a,i).filter((function(e){return e.selected})),r=e.storage.actionOptions.filter((function(e){var t=n.length;if(t>1||t<1)return!1;var a=n[0].type;return e.access[a]}));return{selectedObjects:n,actionOptions:r}})),p=d.actionOptions,b=d.selectedObjects,f=function(e){return function(a){a.preventDefault(),console.log(e.id),Qc[e.id]({t:c,toast:va.c,bucket:t,history:l,accountId:u,selectedObjects:b})}},y=b.length<1;return r.a.createElement("div",{className:o.root},r.a.createElement("div",{className:o.group},r.a.createElement(ae.a,{disabled:n,buttonVariant:"primary",onClick:function(){window.analytics.track("Storage upload click",{bucket:t,teamId:g.t.getAccountIdFromUrl()}),s(Object(w.j)(w.h,{bucket:t,prefix:a||""}))}},r.a.createElement("div",{className:o.buttonContent},r.a.createElement(ne.default,{icon:["fal","upload"]}),r.a.createElement("span",null,c("storage.upload")))),r.a.createElement(ae.a,{disabled:n,buttonVariant:"primary",onClick:function(){window.analytics.track("Storage create folder click",{bucket:t,teamId:g.t.getAccountIdFromUrl()}),s(Object(w.j)(w.c))}},r.a.createElement("div",{className:o.buttonContent},r.a.createElement(ne.default,{icon:["fal","folder-plus"]}),r.a.createElement("span",null,c("storage.createFolder")))),r.a.createElement($c,{disabled:y||n,btnName:c("storage.actions")},p.map((function(e){return r.a.createElement(Wc,{key:e.id,name:e.name,onClick:f(e)})})),b.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(zc,null),r.a.createElement(Wc,{warning:!0,name:"Delete",onClick:function(e){e.preventDefault(),s(Object(w.j)(w.d,{itemsToRemove:b}))}})))))};Os.defaultProps={bucket:"",prefix:null,delimiter:"/",disabled:!1};var js=Os,Ss=function(){var e=hs(),t=Object(Q.a)().t,a=Object(m.b)(),i=Object(v.h)(),o=Object(v.j)().params,l=i.pathname.split("/").pop(),c=G()(o,"0"),s=Object(m.c)((function(e){var t=is(e,o.bucketName,c,"/");return{folder:e.storage.objects.find((function(e){return e.fullKey==="".concat(o.bucketName,"/").concat(c,"/")})),isFolderObjectsLoading:!t.length&&e.storage.loading}})),u=s.folder,d=s.isFolderObjectsLoading;Object(n.useEffect)((function(){a(Object(P.q)({Prefix:"".concat(c,"/"),Delimiter:"/",Bucket:o.bucketName}))}),[c,o.bucketName]);var p=Object(se.b)(ts.b,{client:K.b,fetchPolicy:"cache-and-network",variables:{bucket:o.bucketName,key:"".concat(c,"/")}}),b=p.data,f=p.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Lc,{loadingHash:f,ipfsHash:G()(b,"getStorageObject.hash","")||"",fileName:l,url:Object(q.j)(o.bucketName,c),icon:"folder",status:"success",lastModification:u?t("storage.lastModified",{date:ba()(u.lastModification).calendar()}):""}),r.a.createElement(Z.a,{overrideClass:{wrapper:e.box}},r.a.createElement("div",{className:e.actionsHeader},r.a.createElement(vs,null),r.a.createElement(js,{delimiter:"/",prefix:c,bucket:o.bucketName,disabled:d})),r.a.createElement(gs,{delimiter:"/",prefix:c,bucket:o.bucketName})))},ks=Object(ha.a)({actionsHeader:{display:"flex",flexDirection:"row",padding:"0 27px"}}),ws=function(){var e=ks(),t=Object(m.b)(),a=Object(v.j)().params,n=Object(m.c)((function(e){return{isBucketLoading:e.storage.buckets.isLoading,bucket:e.storage.buckets[a.bucketName]}})),i=n.bucket,o=n.isBucketLoading;r.a.useEffect((function(){t(Object(P.o)({Delimiter:"/",Bucket:a.bucketName}))}),[a.bucketName]);var l=Object(se.b)(ts.a,{client:K.b,fetchPolicy:"cache-and-network",variables:{slug:a.bucketName}}),c=l.data,s=l.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Lc,{loadingHash:s,ipfsHash:G()(c,"getBucketBySlug.hash","")||"",status:"success",fileName:a.bucketName,loadingInfo:!i&&o,url:Object(q.j)(a.bucketName),lastModification:i?"Created ".concat(ba()(i.CreationDate).format("MM/DD/YYYY hh:mm A")):""}),r.a.createElement("br",null),r.a.createElement(Z.a,{padding:"20px 0"},r.a.createElement("div",{className:e.actionsHeader},r.a.createElement(vs,null),r.a.createElement(js,{delimiter:"/",bucket:a.bucketName,disabled:!i&&o})),r.a.createElement(gs,{delimiter:"/",bucket:a.bucketName})))},xs=function(){var e=Object(v.h)(),t=Object(v.j)().path;return r.a.useEffect((function(){window.analytics.page("Storage",{path:e.pathname,search:e.search})}),[]),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:t,render:function(e){var t=e.match;return r.a.createElement(v.a,{to:g.t.buildUrl(null,"".concat(t.url,"/").concat(t.params.teamId,"-bucket"))})}}),r.a.createElement(v.b,{exact:!0,path:"".concat(t,"/:bucketName")},r.a.createElement(ws,null)),r.a.createElement(v.b,{path:"".concat(t,"/:bucketName/folder/*")},r.a.createElement(Ss,null)),r.a.createElement(v.b,{path:"".concat(t,"/:bucketName/object/*")},r.a.createElement(ns,null)))},Cs=Object(ie.a)({select:{"&&& svg":{visibility:"hidden"}},submitButton:{marginTop:20}}),Is=function(e){var t=e.selectedPlan,a=e.creditCardFourLastDigits,n=e.creditCardType,i=e.newCreditCardAction,o=e.onSubmit,l=e.loading,c=Object(Q.a)().t,s=Cs(),u=[{name:jc(c,t),price:t.priceMonthly}],d=function(){var e=Object(W.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Ec,{name:t.name,description:t.description,price:t.priceMonthly}),r.a.createElement(Xl,{creditCardFourLastDigits:a,creditCardType:n,newCreditCardAction:i,loading:l}),r.a.createElement(yc,{itemsList:u}),r.a.createElement(ae.a,{loading:l,disabled:!a,buttonVariant:"primary",onClick:d,className:s.submitButton},c("billing.changePlan.step2Payment.updateTeam")))};Is.defaultProps={creditCardFourLastDigits:null,creditCardType:null,newCreditCardAction:function(){},loading:!1};var Ns=Is,Ds=a(89);function Ts(){var e=Object(ue.a)(["\n  mutation updateTeamPlan ($input: UpdateTeamPlanInput){\n    updateTeamPlan(input: $input) {\n      ...TeamInfo\n    }\n  }\n  ","\n"]);return Ts=function(){return e},e}var Bs=me()(Ts(),Ds.g),As=function(){var e=Object(v.g)(),t=Object(m.b)(),a=Object(v.j)(),i=Object(v.h)(),o=Object(Q.a)().t,l=Object(nc.a)(),c=Object(se.b)(rc.a,{client:K.b}),s=c.data,u=c.loading,d=Object(se.b)(Yl.a,{client:K.b,variables:{teamId:l}}),p=d.refetch,b=d.data,f=["".concat(a.url).concat("/pick-plan"),"".concat(a.url).concat("/summary/:planId")].findIndex((function(e){return Object(v.f)(i.pathname,{path:e,exact:!0})})),y=function(){var t;switch(f){case 0:t="/teams/".concat(l,"/billing/general");break;case 1:t="".concat(a.url).concat("/pick-plan")}e.push(g.t.buildUrl(null,t))},h=[o("billing.changePlan.stepper.step1"),o("billing.changePlan.stepper.step2")],E=Object(v.f)(i.pathname,{path:"".concat(a.url).concat("/summary/:planId"),exact:!0}),O=Object(se.a)(Bs,{client:K.b,variables:{input:{teamId:l,planId:G()(E,"params.planId")}},onCompleted:function(){e.push(g.t.buildUrl(null,"/teams/".concat(l,"/billing/general"),["buildOptionsKey"]))}}),j=Object(V.a)(O,2),S=j[0],k=j[1].loading,x=void 0===k||k,C=G()(s,"getPlans",[]),I=G()(b,"getTeamBillingInformation.activePlan.selectedPlan",{}),N=G()(b,"getTeamBillingInformation.paymentMethod",{}),D=G()(E,"params.planId"),T=C.find((function(e){return e.id===D}));return Object(n.useEffect)((function(){E&&(!T&&!u)&&y()}),[E,u]),r.a.createElement("div",null,r.a.createElement(ce,{buttonText:o("billing.changePlan.back"),onClick:y}),r.a.createElement(Z.a,{padding:"37px 57px 34px 57px"},r.a.createElement(ee.a,{title:o("billing.changePlan.stepper.title"),description:o("billing.changePlan.stepper.description"),stepTitles:h,indexOfActiveStep:f},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"".concat(a.url).concat("/pick-plan"),exact:!0},r.a.createElement(mc,{onClickPlan:function(t){var n=t.plan;window.ga("send","event",A.d.BILLING,"Pick plan",I.id),window.analytics.track("Pick plan",{teamId:l,pickedPlanId:n.id,currentPlanId:I.id}),e.push(g.t.buildUrl(null,"".concat(a.url,"/summary/").concat(n.id)))},plans:C,currentPlan:I,supportEmail:pc.a.supportEmail})),r.a.createElement(v.b,{path:"".concat(a.url).concat("/summary/:planId"),exact:!0},T?r.a.createElement(Ns,{selectedPlan:T,creditCardFourLastDigits:G()(N,"card.lastCardNumbers",""),creditCardType:G()(N,"issuer"),newCreditCardAction:function(){return window.ga("send","event",A.d.BILLING,"Add payment method"),window.analytics.track("Add payment method",{teamId:l}),t(Object(w.j)(w.g,{onSuccess:p}))},onSubmit:function(){window.ga("send","event",A.d.BILLING,"Update Team Plan",D),window.analytics.track("Update Team Plan",{teamId:l,selectedPlanId:D}),S()},loading:x}):null),r.a.createElement(v.a,{to:g.t.buildUrl(null,"".concat(a.url).concat("/pick-plan"))})))))},Ps=function(){var e=Object(Q.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.Helmet,null,r.a.createElement("title",null,e("billing.changePlan.pageTitle"))),r.a.createElement(As,null))},Rs=Object(ie.a)((function(e){return{title:{color:e.palette.palette.black,fontSize:22,fontWeight:500,marginBottom:2},subTitle:{color:e.palette.palette.grey2,frontSize:15,marginBottom:9},resetAnchorStyles:{textDecoration:"none"},blackColor:{color:e.palette.palette.black}}})),Ms=Object(ie.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},title:{marginBottom:16},billingDate:{marginBottom:15}}})),Ls=function(){var e=Ms();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.title},r.a.createElement(bt.a,{width:270,height:28,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.billingDate},r.a.createElement(bt.a,{width:385,height:24,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})))},Fs=function(e){var t=e.recipient,a=e.startDate,n=e.endDate,i=e.loading,o=Object(Q.a)().t,l=function(e){return ba()(e).format("MMM DD[, ]YYYY")},c=l(a),s=l(n||ba()(a).add(1,"M")),u=Rs();return r.a.createElement(Z.a,null,i?r.a.createElement(Ls,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{className:u.title},o("billing.headerCard.billingFor",{recipient:t})),r.a.createElement(re.a,{className:u.subTitle},r.a.createElement(Ca.a,{i18nKey:"billing.headerCard.billingPeriod",values:{startDate:c,endDate:s},components:[null,r.a.createElement("span",{className:u.blackColor},"START_DATE"),null,r.a.createElement("span",{className:u.blackColor},"END_DATE"),null]}))),r.a.createElement("a",{href:"https://docs.fleek.co",target:"_blank",rel:"noopener noreferrer",className:u.resetAnchorStyles},r.a.createElement(Be.a,null,o("billing.headerCard.learnMore"))))};Fs.defaultProps={recipient:"",startDate:"",endDate:""};var Us=Fs,_s=a(431),Ws=a.n(_s),Vs=Object(ie.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},firstRowWrapper:{marginBottom:3},secondRowWrapper:{marginBottom:7},plan:{display:"inline-block",width:280},bandwidth:{display:"inline-block",width:350},price:{display:"inline-block"},planDate:{display:"inline-block",width:280},buildMinutes:{display:"inline-block"}}})),zs=function(){var e=Vs();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.firstRowWrapper},r.a.createElement("div",{className:e.plan},r.a.createElement(bt.a,{width:118,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.bandwidth},r.a.createElement(bt.a,{width:178,height:22,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.price},r.a.createElement(bt.a,{width:40,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))),r.a.createElement("div",{className:e.secondRowWrapper},r.a.createElement("div",{className:e.planDate},r.a.createElement(bt.a,{width:165,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.buildMinutes},r.a.createElement(bt.a,{width:123,height:18,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))))},Gs=Object(ie.a)((function(e){return{header:{padding:"5px 0 16px 0"},headerTitle:{fontWeight:500,fontSize:17},resetAnchorStyles:{textDecoration:"none"},button:{margin:"19px 0px"},detailsContainer:{display:"flex",justifyContent:"flex-start",margin:"10px 0px 13px"},planTypeContainer:{flexBasis:290},pricingContainer:{flexGrow:1,textAlign:"right"},pricingText:{fontWeight:500},mainText:{color:e.palette.palette.black,fontSize:15},subText:{color:e.palette.palette.grey2,fontSize:13}}})),Ks=function(e){return e>=1e3?{unit:"gb",value:Math.round(e/1e3)}:{unit:"mb",value:e}},Hs=function(e){var t=e.onClickChangePlan,a=e.planType,n=e.startDate,i=e.usedBandwidth,o=e.bandwidthLimit,l=e.usedMinutes,c=e.minutesLimit,s=e.price,u=e.loading,d=Object(Q.a)().t,m=Gs(),p=ba()(n).format("MMM DD[,] YYYY"),b=Ks(o),f=Ks(i.value);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.header},r.a.createElement(re.a,{variant:"body1",className:m.headerTitle},d("billing.planDetails.title")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},d("billing.planDetails.subtitle"))),r.a.createElement(Gt.a,{mainContent:d("billing.planDetails.cardTitle")},u?r.a.createElement(zs,null):r.a.createElement("div",{className:m.detailsContainer},r.a.createElement("div",{className:m.planTypeContainer},r.a.createElement(re.a,{className:m.mainText},a&&d("billing.planDetails.teamPlan",{type:a})),r.a.createElement(re.a,{className:m.subText},d("billing.planDetails.effectiveFrom",{startDate:p}))),r.a.createElement("div",null,r.a.createElement(re.a,{className:m.mainText},d("billing.planDetails.bandwidth",{used:f.value,unit:d("billing.planDetails.".concat(f.unit)),limitUnit:d("billing.planDetails.".concat(b.unit)),limit:b.value})),r.a.createElement(re.a,{className:m.subText},d("billing.planDetails.minutes",{used:l,limit:c}))),r.a.createElement("div",{className:m.pricingContainer},r.a.createElement(re.a,{className:Bt()(m.mainText,m.pricingText)},d("billing.planDetails.price",{price:Ws()(s,{precision:2})})))),r.a.createElement("a",{href:"https://fleek.co/pricing",target:"_blank",rel:"noopener noreferrer",className:m.resetAnchorStyles},r.a.createElement(Be.a,null,d("billing.planDetails.link"))),r.a.createElement(ae.a,{buttonVariant:"primary",onClick:t,className:m.button,disabled:u},d("billing.planDetails.buttonText"))))};Hs.defaultProps={onClickChangePlan:function(){},planType:null,startDate:"",usedBandwidth:{value:"0",unit:"mb",limitUnit:"mb"},usedMinutes:"0",minutesLimit:"0",bandwidthLimit:"0",price:"0.00"};var qs=Hs,$s=function(e,t){return function(a){try{var n=a.readQuery({query:H.h,variables:{teamId:e}}),r=Object(k.a)(Object(k.a)({},n),{},{getTeamBillingInformation:Object(k.a)(Object(k.a)({},n.getTeamBillingInformation),{},{billingInformation:Object(k.a)(Object(k.a)({},n.billingInformation),t)})});a.writeQuery({query:H.h,variables:{teamId:e},data:r})}catch(i){console.error("Update cache of billing information",i)}}};function Ys(){var e=Object(ue.a)(["\n  mutation updateBillingInformation($input: UpdateTeamBillingInfoInput) {\n    updateBillingInformation(input: $input) {\n      billingInformation {\n        name\n        email\n      }\n    }\n  }\n"]);return Ys=function(){return e},e}var Js=me()(Ys()),Qs=Object(ie.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},wrapper:{marginTop:13,marginLeft:21},tag:{display:"inline-block",width:190},value:{display:"inline-block"},firstLineWrapper:{marginBottom:22},secondLineWrapper:{marginBottom:12}}})),Zs=function(){var e=Qs();return r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.firstLineWrapper},r.a.createElement("div",{className:e.tag},r.a.createElement(bt.a,{width:44,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.value},r.a.createElement(bt.a,{width:98,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))),r.a.createElement("div",{className:e.secondLineWrapper},r.a.createElement("div",{className:e.tag},r.a.createElement(bt.a,{width:40,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.value},r.a.createElement(bt.a,{width:173,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))))},Xs=Object(ha.a)((function(){return{root:{padding:0},goToEditButton:{flexBasis:108}}})),eu=function(e){var t=e.billingData,a=e.disabled,n=e.loading,i=Xs(),o=Object(Q.a)().t,l=Object(v.j)().params,c=Object(se.a)(Js,{client:K.b}),s=Object(V.a)(c,1)[0],u=function(){var e=Object(W.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{input:{teamId:l.teamId,name:t.name,email:t.email}},optimisticResponse:{__typename:"Mutation",editBuildSettings:{id:l.teamId,__typename:"Team"}},update:$s(l.teamId,t)});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error update bulling information:",e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),d=[{stateKey:"name",label:o("billingDetails.billingInformation.name"),value:G()(t,"name",""),placeholder:o("billingDetails.billingInformation.placeholder")},{stateKey:"email",label:o("billingDetails.billingInformation.email"),value:G()(t,"email",""),placeholder:o("billingDetails.billingInformation.placeholder")}];return r.a.createElement(Gt.a,{mainContent:o("billingDetails.billingInformation.title"),classes:{content:i.root}},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(Zs,null),r.a.createElement(dr,{data:[],disabled:n,goToEditButtonText:o("common.edit"),goToEditButtonClass:i.goToEditButton})):r.a.createElement(dr,{data:d,disabled:a,goToEditButtonText:o("common.edit"),goToEditButtonClass:i.goToEditButton,onSubmitChanges:u}))};eu.defaultProps={disabled:!1,billingData:{name:"",email:""}};var tu=eu,au=a(193),nu=a.n(au),ru=Object(ie.a)((function(e){return{skeletonRoot:{backgroundColor:e.palette.palette.grey5,borderRadius:4},info:{display:"inline-block",width:190},creditCardNumber:{display:"inline-block"},lineWrapper:{marginBottom:-9}}})),iu=function(){var e=ru();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.lineWrapper},r.a.createElement("div",{className:e.info},r.a.createElement(bt.a,{width:120,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}})),r.a.createElement("div",{className:e.creditCardNumber},r.a.createElement(bt.a,{width:150,height:22,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}))))},ou=Object(ha.a)((function(e){return{root:{padding:"23px 20px"},row:{display:"flex"},label:{flexBasis:230},button:{marginTop:20},creditCardIcon:{display:"flex",color:e.palette.text.secondary,marginRight:8,fontSize:21}}})),lu=function(e){var t=e.paymentData,a=e.refetchTeamBillingInfo,i=e.loading,o=ou(),l=Object(m.b)(),c=Object(m.d)().getState().loadingState.loading,s=Object(Q.a)().t,u=Object(n.useRef)(!1),d=function(){l(Object(w.j)(w.g,{onSuccess:a}))},p=Object(v.g)(),b=Object(v.h)(),f=nu.a.parse(b.search)[Wt.a];Object(n.useEffect)((function(){if(!c&&!i&&f===Wt.b&&!1===u.current){u.current=!0,d();var e=g.t.buildUrl(null,null,[Wt.a]);p.push(e)}}),[i,c]);var y=G()(t,"issuer"),h=G()(t,"card.lastCardNumbers");return r.a.createElement(Gt.a,{mainContent:s("billingDetails.paymentInformation.title"),classes:{content:o.root}},i?r.a.createElement(iu,null):r.a.createElement("div",{className:o.row},r.a.createElement(re.a,{variant:"body2",className:o.label},s("billingDetails.paymentInformation.paymentMethod")),h?r.a.createElement(Jl.a,{cardType:y,fourLastDigits:h}):r.a.createElement(re.a,{variant:"body2",className:o.label},s("billing.creditCardDisplay.noCreditCard"))),r.a.createElement(ae.a,{buttonVariant:"secondary",overrideClass:{button:o.button},onClick:d,disabled:i},s(t?"common.change":"common.addPM")))};lu.defaultProps={refetchTeamBillingInfo:function(){},paymentData:null};var cu=lu,su=Object(ha.a)((function(){return{title:{fontWeight:500},paymentInformationWrapper:{margin:"15px 0"}}})),uu=function(e){var t=e.loading,a=su(),n=Object(Q.a)().t,i=Object(g.u)(),o=Object(se.b)(H.h,{variables:{teamId:i},client:K.b}),l=o.refetch,c=o.data,s=o.loading,u=G()(c,"getTeamBillingInformation.billingInformation"),d=G()(c,"getTeamBillingInformation.paymentMethod");return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{className:a.title,variant:"body1"},n("billingDetails.title")),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},n("billingDetails.subtitle")),r.a.createElement("div",{className:a.paymentInformationWrapper},r.a.createElement(cu,{paymentData:d,refetchTeamBillingInfo:l,loading:t||s})),r.a.createElement(tu,{disabled:!d,billingData:u,loading:t||s}))},du="general",mu="plan-details",pu="billing-details",bu=[mu,pu],fu=function(e,t){var a=[{title:e("billing.billingSettings.sectionTitles.general"),id:du,type:"main",list:[{title:e("billing.billingSettings.sectionTitles.planDetails"),id:mu,type:"subsection"},{title:e("billing.billingSettings.sectionTitles.billingDetails"),id:pu,type:"subsection"}]}];return $t(t,a)},gu=Object(ie.a)((function(){return{root:{display:"flex"},content:{flexGrow:1,paddingBottom:30},header:{padding:"5px 0 16px 0",cursor:"default"},headerTitle:{fontWeight:500},spaceBetweenSections:{margin:0,border:"none",height:15},navigationLink:{display:"flex",textDecoration:"none",outline:"none",userSelect:"none",textAlign:"left"},mainLink:{cursor:"default"},subsectionLink:{cursor:"pointer"},billingDetailsContainer:{marginTop:30},nodeContainer:{width:"100%"}}})),yu=function(e){var t=gu(e),a=Object(Q.a)().t,i=Object(v.j)(),o=Object(v.g)(),l=e.billingInfo,c=e.loading,s=Object(n.useState)(i.params.section||du),u=Object(V.a)(s,2),d=u[0],m=u[1],p=fu(a,d),b=function(e){return fa.scroller.scrollTo(e,{duration:1500,delay:100,smooth:!0,containerId:A.f,offset:-10})};Object(n.useEffect)((function(){bu.includes(i.params.section)&&b(i.params.section)}),[]);var f=G()(l,"getTeamBillingInformation.activePlan");return r.a.createElement("section",{className:t.root},r.a.createElement(g.e,{items:p,renderItem:function(e,a){var n,o=a.id,l=a.type,c="main"===l?"":"/".concat(o);return r.a.createElement(y.b,{to:g.t.buildUrl(null,"/teams/".concat(i.params.teamId,"/billing/general").concat(c)),className:Bt()(t.navigationLink,(n={},Object(N.a)(n,t.mainLink,"main"===l),Object(N.a)(n,t.subsectionLink,"subsection"===l),n)),onClick:function(){m(o),"subsection"===l&&b(o)}},r.a.createElement("div",{className:t.nodeContainer},e))}}),r.a.createElement("div",{className:t.content},r.a.createElement(fa.Element,{name:mu}),r.a.createElement(qs,{loading:c,startDate:G()(f,"activatedAt",""),planType:G()(f,"selectedPlan.name"),usedBandwidth:{value:function(e){var t=G()(e,"currentBandwidthInMonth","0");return(Number(t)/Math.pow(1e3,2)).toFixed(0)}(f),unit:"mb",limitUnit:"mb"},usedMinutes:G()(f,"currentBuildMinutesInMonth",""),bandwidthLimit:G()(f,"selectedPlan.limitBandwidthInMB",""),minutesLimit:G()(f,"selectedPlan.limitBuildTimeInMins",""),price:G()(f,"selectedPlan.priceMonthly",0)/100,onClickChangePlan:function(){return window.ga("send","event",A.d.BILLING,"Change plan"),window.analytics.track("Change plan",{teamId:i.params.teamId}),o.push(g.t.buildUrl(null,"/teams/".concat(i.params.teamId,"/billing/change-plan")))}}),r.a.createElement("div",{className:t.billingDetailsContainer},r.a.createElement(fa.Element,{name:pu}),r.a.createElement(uu,{loading:c}))))};yu.defaultProps={billingInfo:{}};var vu=yu,hu=Object(ie.a)((function(){return{navMenuContainer:{marginTop:15}}})),Eu=function(){var e=hu(),t=Object(v.j)(),a=Object(v.h)(),n=Object(se.b)(H.h,{client:K.b,fetchPolicy:"cache-and-network",variables:{teamId:t.params.teamId}}),i=n.data,o=n.loading,l=Object(se.b)(H.i,{client:K.b,variables:{id:t.params.teamId}}),c=l.data,s=l.loading,u=o||s;return r.a.useEffect((function(){window.analytics.page("Billing",{path:a.pathname,search:a.search})}),[]),r.a.createElement("div",null,r.a.createElement(Us,{recipient:G()(c,"getTeamById.name"),startDate:G()(i,"getTeamBillingInformation.activePlan.activatedAt",""),endDate:G()(i,"getTeamBillingInformation.activePlan.expiresAt",""),loading:u}),r.a.createElement("div",{className:e.navMenuContainer},r.a.createElement(vu,{billingInfo:i,loading:u})))},Ou=function(){var e=Object(v.j)(),t=Object(Q.a)().t,a=r.a.createElement(g.a,null);return r.a.createElement(g.i,{topBarContent:a},r.a.createElement(J.Helmet,null,r.a.createElement("title",null,t("teams.pageTitle"))),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"".concat(e.path,"/create")},r.a.createElement(Tc,null)),r.a.createElement(v.b,{path:"".concat(e.path,"/:teamId/sites")},r.a.createElement(Nl,null)),r.a.createElement(v.b,{path:"".concat(e.path,"/:teamId/billing/general/:section?")},r.a.createElement(Eu,null)),r.a.createElement(v.b,{path:"".concat(e.path,"/:teamId/billing/change-plan")},r.a.createElement(Ps,null)),r.a.createElement(v.b,{path:"".concat(e.path,"/:teamId/members/add")},r.a.createElement(ac,null)),r.a.createElement(v.b,{path:"".concat(e.path,"/:teamId/members")},r.a.createElement($l,null)),r.a.createElement(v.b,{path:"".concat(e.path,"/:teamId/storage")},r.a.createElement(xs,null))))},ju=a(1035),Su=Object(ie.a)({root:{marginTop:20,display:"flex",alignItems:"center",justifyContent:"center"}}),ku=function(){var e=Su(),t=Object(v.i)(),a=Object(v.g)(),n=Object(Q.a)().t,i=Object(nc.a)(),o=Object(Dl.a)(H.e,{client:K.b}).data;r.a.useEffect((function(){var e=G()(o,"getMemberships.memberships",[])||[];if(!e.find((function(e){return e.teamId===i}))&&e.length){var t=g.t.buildUrl({accountId:e[0].teamId});a.replace(t)}}),[o]);var l=parseInt(G()(t,"errorCode",500),10);return r.a.createElement(Ft.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(ju.a,{code:l,title:n("errors.".concat(l,".title")),subtitle:n("errors.".concat(l,".description")),hexImage:"https://storage.googleapis.com/terminal-assets/images/404%20hex.png"},r.a.createElement(_t.a,{variant:"contained",color:"primary",component:y.b,to:"/teams/".concat(i,"/sites?accountId=").concat(i)},n("errors.".concat(l,".cta"))))))},wu=function(){var e=Object(W.a)(_.a.mark((function e(){var t,a,n,r,i,o,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.b.query({query:H.e});case 3:return t=e.sent,a=t.data,n=G()(a,"getMemberships.memberships",[])||[],r=Object(D.a)(n).sort(q.g),i=Object(V.a)(r,1),o=i[0],l=G()(o,"teamId",null)||null,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),xu=function(){var e=Object(W.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wu();case 2:(a=e.sent)?t.push("/teams/".concat(a,"/sites?accountId=").concat(a)):t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cu=function(){var e=Object(v.g)(),t=Object(v.h)(),a=Object(Q.a)().t;return Object(n.useEffect)((function(){var a=t.hash.substr(1),n=$.a.getQSFromHash(a);(function(){var t=Object(W.a)(_.a.mark((function t(){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.access_token){t.next=15;break}if($.a.setIdToken(n.id_token),$.a.setAccessToken(n.access_token),!n.state){t.next=13;break}if(a="/".concat(decodeURIComponent(n.state)),!!a.includes("undefined")){t.next=10;break}e.push(a),t.next=12;break;case 10:return t.next=12,xu(e);case 12:return t.abrupt("return");case 13:return t.next=15,xu(e);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),r.a.createElement(Ft.a,null,r.a.createElement(J.Helmet,null,r.a.createElement("title",null,a("auth.page_title"))),r.a.createElement(g.h,null))},Iu=function(){return Object(n.useEffect)((function(){$.a.authenticate(null,"signup")}),[]),null},Nu=Object(ie.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh",backgroundColor:e.palette.palette.landingPageGrey},typography:{marginTop:30,fontSize:36.9,borderRadius:10,padding:"17px 60px",background:e.palette.palette.whiteThree},logo:{height:198}}})),Du=function(){var e=Object(Q.a)().t,t=Nu();return Object(n.useEffect)((function(){setTimeout((function(){window.localStorage.setItem("authorizationCompleted",!0),window.close()}),2e3)}),[]),r.a.createElement("div",{className:t.root},r.a.createElement("img",{className:t.logo,src:"/loading-logo.svg",alt:e("githubAuthorized.logoAlt")}),r.a.createElement(re.a,{className:t.typography},e("githubAuthorized.title")))},Tu=function(){var e=Object(v.g)(),t=Object(v.h)(),a=Object(nl.a)(Rr.a,{client:K.b,update:function(e,t){var a=t.data.addTeamMember;try{var n=e.readQuery({query:H.e}),r=[].concat(Object(D.a)(n.getMemberships.memberships),[Object(k.a)({},a)]);e.writeQuery({query:H.e,data:Object(k.a)(Object(k.a)({},n),{},{getMemberships:Object(k.a)(Object(k.a)({},n.getMemberships),{},{memberships:r})})})}catch(i){console.error("Error when trying to update GET_MEMBERSHIPS query: ",i.message)}}}),i=Object(V.a)(a,1)[0];return Object(n.useEffect)((function(){var a=di.a.parse(t.search),n=a.token,r=a.invitation;function o(){return(o=Object(W.a)(_.a.mark((function t(){var a,o,l;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i({variables:{input:{invitationId:r,invitationToken:n}}});case 3:a=t.sent,(o=a.data).addTeamMember&&(l=G()(o.addTeamMember,"teamId"))&&e.replace("/teams/".concat(l,"/sites?accountId=").concat(l)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error when trying to add team member: ".concat(t.t0.message)),e.push("/");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}r&&n&&function(){o.apply(this,arguments)}()}),[]),r.a.createElement(g.h,null)},Bu=Object(ie.a)((function(e){return{content:{padding:"3px 0 16px 0"},item:{height:46,padding:"0 20px",alignItems:"center","& > p:nth-child(2)":{width:260}},key:{minWidth:202},buttonContainer:{padding:"0 20px"},iconContainer:{flex:1,"& > div":{fontSize:16,display:"flex",cursor:"pointer"},"& > div > svg":{width:"14px !important",color:e.palette.palette.linkBlue}}}})),Au=function(e){var t=e.t,a=e.apiKey;return function(e){e.preventDefault(),navigator.clipboard.writeText(a),va.c.success(t("accountSettings.api.card.copy"))}},Pu=function(){var e=Bu(),t=Object(m.b)(),a=Object(Q.a)().t,n=Object(se.b)(H.b,{client:K.b}),i=n.data,o=n.loading,l=G()(i,"getApiKeys.apiKeys",[])||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"body1"},r.a.createElement(ga.a,{component:"span",fontWeight:500},a("accountSettings.api.title"))),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},a("accountSettings.api.description")),r.a.createElement("br",null),r.a.createElement(Gt.a,{mainContent:a("accountSettings.api.card.title"),classes:{content:e.content}},r.a.createElement(kr.a,{striped:!0},l.map((function(t){var n=t.key;return r.a.createElement(wr.a,{key:n,className:e.item},r.a.createElement(re.a,{variant:"body2",color:"textPrimary",className:e.key},"".concat(a("accountSettings.api.card.apiKey"),":")),r.a.createElement(re.a,{noWrap:!0,variant:"body2"},r.a.createElement(ga.a,{component:"span",fontWeight:500},n)),r.a.createElement("div",{className:e.iconContainer},r.a.createElement(ne.default,{icon:["fal","copy"],onClick:Au({t:a,apiKey:n})})))}))),r.a.createElement("br",null),r.a.createElement("div",{className:e.buttonContainer},r.a.createElement(ae.a,{disabled:o,buttonVariant:"secondary",onClick:function(){return t(Object(w.j)(w.a,{}))}},a("accountSettings.api.card.new")))))},Ru=Object(ie.a)({content:{padding:"3px 0 15px 0"},item:{height:46,padding:"0 20px",alignItems:"center"},key:{minWidth:202},skeletonRoot:{borderRadius:4}}),Mu=function(){var e=Ru(),t=Object(Q.a)().t,a=Object(se.b)(H.a,{client:K.c}),n=a.data,i=a.loading,o=G()(n,"getCurrentUser.user.individual.lastname","")||"",l=G()(n,"getCurrentUser.user.individual.firstname","")||"",c=Object.entries({name:"".concat(l," ").concat(o).trim(),email:G()(n,"getCurrentUser.user.email","")||""});return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"body1"},r.a.createElement(ga.a,{component:"span",fontWeight:500},t("accountSettings.profile.title"))),r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},t("accountSettings.profile.description")),r.a.createElement("br",null),r.a.createElement(Gt.a,{mainContent:t("accountSettings.profile.card.title"),classes:{content:e.content}},r.a.createElement(kr.a,{striped:!0},c.map((function(a){var n=Object(V.a)(a,2),o=n[0],l=n[1];return r.a.createElement(wr.a,{key:o,className:e.item},r.a.createElement(re.a,{variant:"body2",color:"textPrimary",className:e.key},"".concat(t("accountSettings.profile.card.".concat(o)),":")),i?r.a.createElement(bt.a,{width:240,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}):r.a.createElement(re.a,{noWrap:!0,variant:"body2"},r.a.createElement(ga.a,{component:"span",fontWeight:500},l)))})))))},Lu="api",Fu="profile",Uu="general",_u="main",Wu="subsection",Vu=function(e){var t=e.t,a=e.section;return $t(a,[{title:t("accountSettings.navs.general"),id:Uu,type:_u,list:[{title:t("accountSettings.navs.profile"),id:Fu,type:Wu},{title:t("accountSettings.navs.api"),id:Lu,type:Wu}]}])},zu=Object(ie.a)({root:{display:"flex",flexDirection:"row"},nav:{width:212,display:"inherit",flexDirection:"column"},sections:{flex:1,padding:"7px 0 20px 20px"},nodeContainer:{width:"100%"},navigationLink:{display:"flex",textDecoration:"none",outline:"none",userSelect:"none",textAlign:"left"}}),Gu=function(){var e=zu(),t=Object(v.j)(),a=Object(Q.a)().t,n=r.a.useRef(null),i=r.a.useRef(null),o=t.params.section,l=Vu({t:a,section:o});return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.nav},r.a.createElement(g.e,{items:l,renderItem:function(t,a){var o=a.id,l=a.type===_u?"":"/".concat(o);return r.a.createElement(y.b,{to:g.t.buildUrl(null,"/settings/general".concat(l)),className:e.navigationLink,onClick:function(){o===Lu&&n.current.scrollIntoView({behavior:"smooth"}),o===Fu&&i.current.scrollIntoView({behavior:"smooth"})}},r.a.createElement("div",{className:e.nodeContainer},t))}})),r.a.createElement("div",{className:e.sections},r.a.createElement("section",{ref:i},r.a.createElement(Mu,null)),r.a.createElement("br",null),r.a.createElement("section",{ref:n},r.a.createElement(Pu,null))))},Ku=Object(ie.a)({accountHeaderCard:{marginTop:22},accountEmail:{margin:"12px 0"},skeletonRoot:{borderRadius:4}}),Hu=function(){var e=Ku(),t=Object(Q.a)().t,a=Object(se.b)(H.a,{client:K.c}),n=a.data,i=a.error,o=a.loading;return r.a.useEffect((function(){i&&va.c.error(t("accountSettings.error"))}),[i]),r.a.createElement(Z.a,{overrideClass:{wrapper:e.accountHeaderCard},padding:"22px 27px 27px 27px"},function(){if(o)return r.a.createElement(r.a.Fragment,null,r.a.createElement(bt.a,{width:190,height:25,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}),r.a.createElement(bt.a,{width:240,height:20,variant:"rect",animation:"wave",classes:{root:Bt()(e.skeletonRoot,e.accountEmail)}}),r.a.createElement(bt.a,{width:210,height:20,variant:"rect",animation:"wave",classes:{root:e.skeletonRoot}}));var a=G()(n,"getCurrentUser.user.createdAt"),i=G()(n,"getCurrentUser.user.email","")||"",l=G()(n,"getCurrentUser.user.individual.lastname","")||"",c=G()(n,"getCurrentUser.user.individual.firstname","")||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"h6",color:"textPrimary"},r.a.createElement(ga.a,{component:"span",fontWeight:500},"".concat(c," ").concat(l).trim())),r.a.createElement(re.a,{variant:"body2",color:"textSecondary",className:e.accountEmail},i),a&&r.a.createElement(re.a,{variant:"body2",color:"textSecondary"},t("accountSettings.join",{date:ba()(a).format("MMM DD, YYYY")})))}())},qu=function(){var e=Object(v.j)(),t=Object(Q.a)().t;return r.a.createElement(g.i,null,r.a.createElement(J.Helmet,null,r.a.createElement("title",null,t("accountSettings.pageTitle"))),r.a.createElement(Hu,null),r.a.createElement("br",null),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:e.path,render:function(){return r.a.createElement(v.a,{to:g.t.buildUrl(null,"".concat(e.path,"/general/profile"))})}}),r.a.createElement(v.b,{exact:!0,path:"".concat(e.path,"/general"),render:function(){return r.a.createElement(v.a,{to:g.t.buildUrl(null,"".concat(e.path,"/general/profile"))})}}),r.a.createElement(v.b,{path:"".concat(e.path,"/general/:section")},r.a.createElement(Gu,null))))},$u=(a(1787),Object(f.a)());var Yu=function(){return window.location.href.includes("/github-authorized")?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement(b.a,{theme:$u},r.a.createElement(Du,null))):r.a.createElement(m.a,{store:F},r.a.createElement(y.a,null,r.a.createElement(p.a,null),r.a.createElement(b.a,{theme:$u},r.a.createElement(g.f,null,r.a.createElement(g.g,null),r.a.createElement(g.j,null),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/",exact:!0},r.a.createElement(Y,null)),r.a.createElement(g.k,{path:"/start"},r.a.createElement(It,null)),r.a.createElement(g.k,{path:"/sites"},r.a.createElement(dl,null)),r.a.createElement(g.k,{path:"/teams"},r.a.createElement(Ou,null)),r.a.createElement(g.k,{path:"/invitation"},r.a.createElement(Tu,null)),r.a.createElement(g.k,{path:"/settings"},r.a.createElement(qu,null)),r.a.createElement(v.b,{path:"/auth/cb"},r.a.createElement(Cu,null)),r.a.createElement(v.b,{path:"/auth/sign-up"},r.a.createElement(Iu,null)),r.a.createElement(v.b,{path:"/error/:errorCode"},r.a.createElement(ku,null)),r.a.createElement(v.b,{path:"*"},r.a.createElement(v.a,{to:g.t.buildUrl(null,"/error/404")})))))))},Ju={resources:{en:{translation:a(1025)}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.use(d.f).init(Ju),s.c({orgId:pc.a.fullStory.orgId}),c.a({dsn:pc.a.sentry.dsn,release:"6f3d27a0",environment:"production",maxValueLength:5e3,integrations:[new u.a(pc.a.sentry.org)]}),l.a.render(r.a.createElement(Yu,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},179:function(e,t,a){"use strict";var n=a(5),r=a(28),i=a(6),o=a.n(i),l=a(14),c=a(133),s=a(24),u=a(25);function d(){var e=Object(s.a)(["\n  query getGithubToken($teamId: ID!) {\n    getGithubToken(teamId: $teamId)\n  }\n"]);return d=function(){return e},e}var m=a.n(u)()(d());t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.a)(),a=Object(r.b)(m,Object(n.a)({client:l.b,variables:{teamId:t},skip:!t},e)),i=o()(a,"data.getGithubToken");return[a.loading,i]}},184:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r),o=a(65);function l(){var e=Object(n.a)(["\n  query getSitesByTeam($teamId: ID!, $limit: Int, $nextToken: String) {\n    getSitesByTeam(teamId: $teamId, limit: $limit, nextToken: $nextToken) {\n      nextToken\n      sites {\n        ...MinSiteDetail\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var c=i()(l(),o.b);t.a=c},185:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n="payment",r="modalDefaultOpen"},196:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r);function o(){var e=Object(n.a)(["\n  query getStorageObject($bucket: String!, $key: String!) {\n    getStorageObject(bucket: $bucket, key: $key) {\n      hash\n    }\n  }\n"]);return o=function(){return e},e}var l=i()(o());function c(){var e=Object(n.a)(["\n  query getBucketBySlug($slug: String!) {\n    getBucketBySlug(slug: $slug) {\n      hash\n    }\n  }\n"]);return c=function(){return e},e}var s=i()(c());a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s}))},20:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"k",(function(){return c})),a.d(t,"f",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"i",(function(){return m})),a.d(t,"j",(function(){return p}));var n={IN_PROGRESS:"IN_PROGRESS",FAILED:"FAILED",CANCELLED:"CANCELLED",DEPLOYED:"DEPLOYED"},r={PRIMARY:"PRIMARY",DEFAULT_SUBDOMAIN:"DEFAULT_SUBDOMAIN",REDIRECT_TO_PRIMARY:"REDIRECT_TO_PRIMARY",ALIAS_DOMAIN:"ALIAS_DOMAIN"},i={PENDING_PROPAGATION:"PENDING_PROPAGATION",PROPAGATED:"PROPAGATED",ERROR:"ERROR"},o={PULL_REQUEST:"pull_request",PUSH:"push"},l={SITES:"Sites",BILLING:"Billing"},c={ACTIVE:"ACTIVE",OVERDUE:"OVERDUE",RESTRICTED:"RESTRICTED",SUSPENDED:"SUSPENDED"},s="scrollable-element",u=20,d=20,m=-2,p="SEARCH_TERM_CHANGE"},208:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(6),o=a.n(i),l=a(28),c=a(36),s=a(11),u=a(14),d=a(1880),m=a(20),p=a(29),b=a(30),f=a(339),g=a(31),y=a(1847),v=a(185),h=a(638),E=Object(h.a)((function(e){return{container:{height:30,backgroundColor:e.palette.palette.errorRed,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",zIndex:10},text:{fontSize:13,color:"white"},link:{fontWeight:600,textDecoration:"none",color:"white"},icon:{color:"white",fontSize:14,fontWeight:600,marginRight:3}}})),O=function(e){var t=e.isSuspended,a=E(),n=s.t.getAccountIdFromUrl();return r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.icon},r.a.createElement(b.default,{icon:["far","exclamation-triangle"],className:a.icon})),r.a.createElement(f.a,{className:a.text},r.a.createElement(y.a,{i18nKey:t?"accountSuspensionBanner.suspendedMessage":"accountSuspensionBanner.restrictedMessage",components:[null,r.a.createElement(g.b,{to:s.t.buildUrl(Object(p.a)({},v.a,v.b),"/teams/".concat(n,"/billing/general")),className:a.link},"Add your billing information.")]})))},j=Object(h.a)((function(){return{root:{flex:1,position:"relative",height:"100vh"},topBar:{height:55,boxSizing:"border-box",backgroundColor:"transparent"},topbarContent:{height:"100%",display:"flex",alignItems:"center",padding:"0 15px"},contentWrapper:{overflow:"auto",height:function(e){var t=e.isTopbar,a=e.isAccountSuspensionBanner,n=t?85+(a?30:0):0;return"calc(100vh - ".concat(n,"px)")}},content:{padding:"3px 15px 15px"}}})),S=function(e){var t=e.children,a=e.topBarContent,n=s.t.getAccountIdFromUrl(),i=Object(l.b)(c.i,{client:u.b,variables:{id:n},skip:!n}),p=o()(i,"data.getTeamById.status"),b=p===m.k.RESTRICTED||p===m.k.SUSPENDED,f=j({isTopbar:!!a,isAccountSuspensionBanner:b});return r.a.createElement("div",{className:f.root},a&&r.a.createElement("div",{className:f.topBar},r.a.createElement(d.a,{overrideClass:{wrapper:f.topbarContent}},a)),r.a.createElement("div",{className:f.contentWrapper,id:m.f},r.a.createElement(d.a,{overrideClass:{wrapper:f.content}},t)),r.a.createElement(O,{isSuspended:p===m.k.SUSPENDED}))};S.defaultProps={children:null,topBarContent:null};var k=S;a.d(t,"a",(function(){return k}))},213:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r),o=a(89);function l(){var e=Object(n.a)(["\nquery getPlans{\n  getPlans{\n    ...PlanInfo\n  }\n}\n","\n"]);return l=function(){return e},e}var c=i()(l(),o.e);a.d(t,"a",(function(){return c}))},220:function(e,t,a){"use strict";var n=a(6),r=a.n(n),i=a(11),o=a(423);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=r()(e,"Key",""),n=a.split("/"),l=""===n[n.length-1],c=n.filter((function(e){return""!==e})).pop()||"",s=l?"folder":"file",u=!l&&o.a.test(c)?"archive":s,d=new Date(r()(e,"LastModified")),m=r()(e,"Size",0),p=l?"--":Object(i.n)(m);return{key:a,type:s,name:c,size:m,bucket:t,subtype:u,bytesSize:p,lastModified:d,selected:!1,eTag:r()(e,"ETag"),fullKey:"".concat(t,"/").concat(a)}}},267:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r),o=a(89);function l(){var e=Object(n.a)(["\n  query getTeamBillingInformation($teamId: ID!) {\n    getTeamBillingInformation(teamId: $teamId) {\n      ...BillingInfo\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var c=i()(l(),o.b);t.a=c},270:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(1840),o=a(1847),l=a(29),c=a(991),s=a.n(c),u=a(992),d=a.n(u),m=a(993),p=a.n(m),b=a(994),f=a.n(b),g=a(995),y=a.n(g),v="UNKNOWN",h="AMEX",E="VISA",O="MASTERCARD",j="DISCOVER",S=v,k=a(638),w=Object(k.a)((function(e){return{container:{display:"inline-flex",alignItems:"center",justifyContent:"center"},text:{color:e.palette.palette.black,fontSize:15},creditCardIcon:{marginRight:8,maxHeight:23,maxWidth:25},boldText:{fontWeight:500}}}));t.a=function(e){var t=w(),a=e.cardType,n=e.fourLastDigits,c=function(e){var t;return t={},Object(l.a)(t,h,{name:e("billing.creditCardDisplay.creditCardTypes.amex"),logo:d.a}),Object(l.a)(t,E,{name:e("billing.creditCardDisplay.creditCardTypes.visa"),logo:s.a}),Object(l.a)(t,O,{name:e("billing.creditCardDisplay.creditCardTypes.mastercard"),logo:p.a}),Object(l.a)(t,j,{name:e("billing.creditCardDisplay.creditCardTypes.discover"),logo:f.a}),Object(l.a)(t,S,{name:e("billing.creditCardDisplay.creditCardTypes.defaultCard"),logo:y.a}),t}(Object(i.a)().t),u=c[a]||c[v];return r.a.createElement("div",{className:t.container},r.a.createElement("img",{className:t.creditCardIcon,src:u.logo,alt:u.name}),r.a.createElement("span",null,r.a.createElement(o.a,{i18nKey:"billing.creditCardDisplay.text",values:{type:u.name,digits:n},components:[null,r.a.createElement("span",{className:t.boldText},"LAST_4_DIGITS")]})))}},291:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o}));var n="STORE_CLIENT_SECRET",r="DELETE_CLIENT_SECRET",i=function(e){return{type:n,payload:e}},o=function(){return{type:r}}},350:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="UPDATE_LOADING_STATE",r=function(e){return{type:n,payload:{loading:e}}}},36:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r);function o(){var e=Object(n.a)(["\n  {\n    allTeams {\n      id\n      name\n      description\n    }\n  }\n"]);return o=function(){return e},e}i()(o());function l(){var e=Object(n.a)(["\n  {\n    getCurrentUser {\n      user {\n        id\n        email\n        username\n        createdAt\n        individual {\n          firstname\n          lastname\n          profilePicUrl\n          description\n          websiteUrl\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}var c=i()(l()),s=a(89);function u(){var e=Object(n.a)(["\n  query getMemberships(\n    $limit: Int = 10,\n    $nextToken: String\n  ) {\n    getMemberships(\n      limit: $limit,\n      nextToken: $nextToken\n    ) {\n      memberships {\n        ...MembershipInfo\n      }\n      nextToken\n    }\n  }\n  ","\n"]);return u=function(){return e},e}var d=i()(u(),s.d),m=a(267);function p(){var e=Object(n.a)(["\n  query getTeamBillingInformation($teamId: ID!) {\n    getTeamBillingInformation(teamId: $teamId) {\n      ...SitesLimitBillingInfo\n    }\n  }\n  ","\n"]);return p=function(){return e},e}i()(p(),s.f);function b(){var e=Object(n.a)(["\n  query getMembersByTeam($teamId: ID!) {\n    getMembersByTeam(teamId: $teamId) {\n      accessLevel\n      member {\n        id\n        email\n        firstname\n        lastname\n      }\n      pendingMember {\n        ...InvitationInfo\n      }\n    }\n  }\n  ","\n"]);return b=function(){return e},e}var f=i()(b(),s.c);function g(){var e=Object(n.a)(["\n  query getPaymentMethodInformation($paymentMethodId: ID!) {\n    getPaymentMethodInformation(paymentMethodId: $paymentMethodId) {\n      type\n      issuer\n      card {\n        lastCardNumbers\n        expMonth\n        expYear\n      }\n    }\n  }\n"]);return g=function(){return e},e}var y=i()(g());function v(){var e=Object(n.a)(["\n  query getTeamById($id: ID!) {\n    getTeamById(id: $id) {\n      ...TeamInfo\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var h=i()(v(),s.g),E=a(403);function O(){var e=Object(n.a)(["\n  query getEnsDomainInfo($domain: String!, $network: EnsNetwork) {\n    getEnsDomainInfo(domain: $domain, network: $network) {\n      ...EnsDomainInformation\n    }\n  }\n  ","\n"]);return O=function(){return e},e}var j=i()(O(),E.a);function S(){var e=Object(n.a)(["\n  query getEnsControllerAddress($siteId: String!) {\n    getEnsControllerAddress(siteId: $siteId)\n  }\n"]);return S=function(){return e},e}var k=i()(S());function w(){var e=Object(n.a)(["\n  query getApiKeys($limit: Int, $nextToken: String) {\n    getApiKeys(limit: $limit, nextToken: $nextToken) {\n      apiKeys {\n        ...ApiKeyInfo\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}var x=i()(w(),s.a);a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"h",(function(){return m.a})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return y})),a.d(t,"i",(function(){return h})),a.d(t,"d",(function(){return j})),a.d(t,"c",(function(){return k})),a.d(t,"b",(function(){return x}))},403:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(24),r=a(25);function i(){var e=Object(n.a)(["\n  fragment EnsDomainInformation on EnsDomainInfo {\n    domain\n    ownerAddress\n    registrantAddress\n    isResolverMigrated\n    isFleekControlled\n    isAlreadyInUse\n  }\n"]);return i=function(){return e},e}var o=a.n(r)()(i())},404:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r),o=a(65);function l(){var e=Object(n.a)(["\n  mutation setSiteEnsDomain($input: AddSiteEnsDomainInput!) {\n    setSiteEnsDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return l=function(){return e},e}t.a=i()(l(),o.c)},405:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r),o=a(65);function l(){var e=Object(n.a)(["\n  mutation removeSiteEnsDomain($input: RemoveSiteEnsDomainInput!) {\n    removeSiteEnsDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return l=function(){return e},e}t.a=i()(l(),o.c)},408:function(e,t,a){"use strict";var n=a(13),r=a(984),i=a(179),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auth,a=e.userAgent,o=e.baseUrl,l=void 0===o?"https://api.github.com":o,c=e.previews,s=e.timeZone,u=Object(i.a)(),d=Object(n.a)(u,2),m=d[1];return Object(r.Octokit)({auth:t||m,userAgent:a,baseUrl:l,previews:c,timeZone:s})};a.d(t,"a",(function(){return o}))},41:function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"k",(function(){return u})),a.d(t,"l",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"h",(function(){return p})),a.d(t,"j",(function(){return b}));var n="other",r="gatsby",i="hugo",o="next-js",l="create-react-app",c="jekyll",s="gridsome",u="svelte",d="wordpress",m="MkDocs",p="nuxt-js",b="sapper"},423:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=/\.(zip|rar|gzip|tgz|tar\.gz)$/},481:function(e,t){},487:function(e,t){},53:function(e,t,a){"use strict";var n=a(29),r=a(5),i=a(13),o=a(571),l=a.n(o),c=a(964),s=a.n(c),u=a(965),d=a.n(u),m=a(193),p=a.n(m),b=a(966),f=a.n(b),g=a(68),y=function(){var e=new Uint8Array(36),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return window.crypto.getRandomValues(e),e=e.map((function(e){return t.charCodeAt(e%t.length)})),String.fromCharCode.apply(null,e)},v=window.localStorage.getItem("a_t"),h={events:{onUserAuth:"onUserAuth"},cbs:[],idToken:window.localStorage.getItem("i_t"),accessToken:v,isAuthenticated:!!v,isAuthTokenRefreshingDisabled:!1,setIdToken:function(e){window.localStorage.setItem("i_t",e),h.idToken=e},setAccessToken:function(e){h.setTimeoutWithRedirect(e),window.localStorage.setItem("a_t",e),l.a.set("a_t","true",{expires:365,domain:".fleek.co"}),h.isAuthenticated=!0,h.accessToken=e,h.emit(h.events.onUserAuth,!0)},getQSFromHash:function(e){try{return e.split("&").reduce((function(e,t){var a=t.split("="),o=Object(i.a)(a,2),l=o[0],c=o[1];return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},l,c))}),{})}catch(t){return console.error("[Verify user error]: ".concat(t.message)),null}},clean:function(){h.idToken=null,h.accessToken=null,h.isAuthenticated=!1,window.localStorage.removeItem("i_t"),window.localStorage.removeItem("a_t"),l.a.remove("a_t",{domain:".fleek.co"})},signout:function(){h.clean(),window.location.replace("".concat(g.a.auth.baseURL,"/session/end"))},authenticate:function(e,t){if(!h.isAuthTokenRefreshingDisabled){var a=d()({state:e,prompt:t,nonce:y(),client_id:g.a.auth.clientId,redirect_uri:g.a.auth.oidcRedirectUri,response_mode:"fragment",response_type:"token id_token",scope:"openid email profile team_info"},s.a),n=p.a.stringify(a);window.location.replace("".concat(g.a.auth.baseURL,"/auth?").concat(n))}},emit:function(e,t){h.cbs[e]&&h.cbs[e].forEach((function(e){e.call(null,t)}))},onListen:function(e,t){return"undefined"===typeof h.cbs[e]&&(h.cbs[e]=[]),h.cbs[e].push(t),function(){h.cbs[e]=h.cbs[e].filter((function(e){return e!==t}))}},init:function(){var e=window.location.href.split("#")[2]||"",t=h.getQSFromHash(e);t&&t.access_token||!v||h.setTimeoutWithRedirect(v)},setTimeoutWithRedirect:function(e){var t={exp:0};try{t=f()(e)}catch(n){}var a=1e3*t.exp-(new Date).getTime();setTimeout((function(){h.authenticate("".concat(window.location.href.split("/#/")[1]))}),a)},disableAuthTokenRefreshing:function(){h.isAuthTokenRefreshingDisabled=!0},enableAuthTokenRefreshing:function(){h.isAuthTokenRefreshingDisabled=!1,h.setTimeoutWithRedirect(h.accessToken)}};h.init(),t.a=h},54:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"h",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"i",(function(){return m}));var n="OPEN_MODAL",r="CLOSE_MODAL",i="DNS_LINK_MODAL",o="PAYMENT_METHOD_MODAL",l="CREATE_FOLDER_MODAL",c="DELETE_STORED_ITEMS_MODAL",s="UPLOAD_ITEMS_MODAL",u="API_DETAILS_MODAL",d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:n,payload:{props:t,id:e}}},m=function(){return{type:r}}},62:function(e,t,a){"use strict";var n=a(5),r=a(166),i=a.n(r),o=a(977),l=a.n(o),c=function(e){return e?"object"===typeof e?e:"string"===typeof e?i.a.parse(e):{}:{}},s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=i.a.parse(window.location.href.split("?")[1]||""),o=c(e),s=Object(n.a)(Object(n.a)({},r),o),u=i.a.parseUrl(window.location.hash.substr(1)).url;return i.a.stringifyUrl({url:t||u,query:l()(s,a)})},u=a(133),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=String(t),n={"-1":e("billing.misc.unlimited"),"-2":e("billing.misc.custom")};return{value:n[a]||t,wasConverted:Object.keys(n).includes(a)}},m=function(e,t){return e("billing.misc.priceWithUnit",{price:(t/100).toFixed(2)})},p=a(20),b=function(e){var t=e.find((function(e){var t=e.type,a=e.status;return t===p.c.PRIMARY&&a===p.b.PROPAGATED})),a=e.find((function(e){var t=e.type,a=e.status;return t===p.c.ALIAS_DOMAIN&&a===p.b.PROPAGATED})),n=e.find((function(e){return e.type===p.c.DEFAULT_SUBDOMAIN}));return t||a||n||{}},f=a(6),g=a.n(f),y=a(978),v=a.n(y),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g()(e,"name",""),a=g()(e,"domains",[]),n=b(a);return v()(n)||n.type===p.c.DEFAULT_SUBDOMAIN?t:n.domain},E=a(47),O=a.n(E),j=function(e,t){var a=O.a.utc(t),n=O()().format("DD")===a.local().format("DD"),r=O()().diff(a,"days")<=1;return n&&r?" ".concat(e("common.at")," ").concat(a.format("LT")):"".concat(e("common.on")," ").concat(a.format("MMM DD"))},S=function(e,t){var a=t.isPublished,n=t.createdAt,r=t.lastPublishAt;return a?"".concat(e("sites.lastPublished")," ").concat(j(e,r)):"".concat(e("common.created")," ").concat(j(e,n))},k=function(e){var t=g()(e,"data.getSiteBySlug"),a=g()(t,"publishedDeploy.repository"),n=g()(t,"latestDeploy.repository"),r=g()(a,"owner")||g()(n,"owner",""),i=g()(a,"name")||g()(n,"name","");return{owner:r,name:i,branch:g()(a,"branch")||g()(n,"branch",""),url:"https://github.com/".concat(r,"/").concat(i)}},w=function(e,t){return e.createdAt>t.createdAt?1:e.createdAt<t.createdAt?-1:0},x=["Bytes","KB","MB","GB","TB"],C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=Math.floor(Math.log(e)/Math.log(1024)),n=parseFloat(e/Math.pow(1024,a)).toFixed(t);return"".concat(n," ").concat(x[a])},I=a(423),N=function(e){return I.a.test(e)?"archive":"/"===e[0]?"folder":"file"},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x0000000000000000000000000000000000000000";return"".concat(e.substring(0,4),"...").concat(e.substring(e.length-4,e.length))},T=a(68),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e,".").concat(T.a.storageIPFSGateway,"/").concat(t)},A=function(e,t){return g()(t,"gitEvent",null)===p.e.PULL_REQUEST?e("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.deployPreview"):e("sites.tabs.deploys.sections.deployInfo.listOfDeploys.deployItem.branchLabel")};a.d(t,"l",(function(){return P})),a.d(t,"a",(function(){return R})),a.d(t,"f",(function(){return b})),a.d(t,"i",(function(){return h})),a.d(t,"h",(function(){return S})),a.d(t,"e",(function(){return k})),a.d(t,"g",(function(){return w})),a.d(t,"b",(function(){return C})),a.d(t,"d",(function(){return N})),a.d(t,"k",(function(){return D})),a.d(t,"j",(function(){return B})),a.d(t,"c",(function(){return A}));var P={buildUrl:s,getAccountIdFromUrl:u.a},R={getUnlimitedOrValue:d,getDollarsFromCents:m}},65:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return p})),a.d(t,"a",(function(){return b}));var n=a(24),r=a(25),i=a.n(r);function o(){var e=Object(n.a)(["\n  fragment DeployDetail on Deploy {\n    id\n    startedAt\n    completedAt\n    status\n    ipfsHash\n    log\n    published\n    previewImage\n    repository {\n      url\n      name\n      owner\n      branch\n      commit\n      message\n    }\n    gitEvent\n    pullRequestUrl\n  }\n"]);return o=function(){return e},e}function l(){var e=Object(n.a)(["\nfragment SiteDetailSubscription on Site {\n  ","\n}\n"]);return l=function(){return e},e}function c(){var e=Object(n.a)(["\n  fragment SiteDetail on Site {\n    ","\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(n.a)(["\n  fragment MinSiteDetail on Site {\n    id\n    slug\n    name\n    team {\n      id\n      name\n    }\n    domains {\n      type\n      status\n      domain\n    }\n    latestDeploy {\n      id\n      status\n      ipfsHash\n      completedAt\n      previewImage\n      repository {\n        url\n      }\n    }\n    publishedDeploy {\n      id\n      status\n      completedAt\n    }\n  }\n"]);return s=function(){return e},e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hideTeam,a=void 0!==t&&t,n=a?"":"\n  team {\n    id\n    name\n  }\n";return"\n    id\n    name\n    slug\n    createdBy\n    createdAt\n    updatedAt\n    description\n    ".concat(n,"\n    buildSettings {\n      buildCommand\n      baseDirectoryPath\n      publishDirectoryPath\n      dockerImage\n      environmentVariables {\n        name\n        value\n      }\n    }\n    deploySettings {\n      autoPublishing\n      prDeployPreviews\n      repository {\n        url\n        type\n        branch\n      }\n    }\n    domains {\n      type\n      domain\n      status\n      siteId\n      teamId\n      primary\n      domainId\n      createdAt\n      creatorId\n      dnsLinkStatus\n      stripeSessionId\n      boughtWithTerminal\n      sslInfo {\n        type\n        createdAt\n        expiresAt\n        error\n      }\n    }\n    publishedDeploy {\n      id\n      startedAt\n      completedAt\n      status\n      ipfsHash\n      log\n      published\n      previewImage\n      repository {\n        url\n        name\n        owner\n        branch\n        commit\n      }\n    }\n    latestDeploy {\n      id\n      startedAt\n      completedAt\n      status\n      ipfsHash\n      log\n      published\n      previewImage\n      completedAt\n      repository {\n        url\n        name\n        owner\n        branch\n        commit\n      }\n    }\n    ensDomain {\n      domain\n      contentHash\n      ownerAddress\n      registrantAddress\n      network\n      isFleekControlled\n      verificationStatus\n      updateStatus\n      verificationError\n      isResolverMigrated\n    }\n  ")},d=i()(s()),m=i()(c(),u()),p=i()(l(),u({hideTeam:!0})),b=i()(o())},68:function(e,t,a){"use strict";var n={production:{ethereum:{netId:1,network:"mainnet",ENSRegistryContractAddress:"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85",ENSStorageContractAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},supportEmail:"support@fleek.co",stripeKey:"pk_live_5BfNUNll7l9PFbO0vNmTTSIi",auth:{clientId:"terminal",baseURL:"https://auth.fleek.co",oidcRedirectUri:"https://app.fleek.co/auth-cb/"},oldApi:{baseURL:"https://terminal.co/graphql",wsBaseURL:"wss://terminal.co/graphql"},newApi:{baseURL:"https://b6756lokszgovfg2lkge3t4kai.appsync-api.us-west-2.amazonaws.com/graphql",wsBaseURL:"wss://b6756lokszgovfg2lkge3t4kai.appsync-realtime-api.us-west-2.amazonaws.com/graphql"},intercomKey:"k1pm16x3",storageIPFSGateway:"storage.fleek.co",s3Client:{baseURL:"https://storageapi.fleek.co/"},sentry:{org:"fleek-uo",dsn:"https://e7d85f83b6854092885b33074c5eab7d@o385630.ingest.sentry.io/5228504"},fullStory:{orgId:"MXAGS"}},staging:{ethereum:{netId:1,network:"mainnet",ENSRegistryContractAddress:"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85",ENSStorageContractAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},supportEmail:"support@fleek.co",stripeKey:"pk_live_5BfNUNll7l9PFbO0vNmTTSIi",auth:{clientId:"terminal",baseURL:"https://stg-auth.fleek.co",oidcRedirectUri:"https://stg-app.fleek.co/auth-cb/"},oldApi:{baseURL:"https://stg.terminal.co/graphql",wsBaseURL:"wss://stg.terminal.co/graphql"},newApi:{baseURL:"https://h6qbvxquqjg5direndhm7ugaj4.appsync-api.us-west-2.amazonaws.com/graphql",wsBaseURL:"wss://h6qbvxquqjg5direndhm7ugaj4.appsync-realtime-api.us-west-2.amazonaws.com/graphql"},intercomKey:"zyexc80g",storageIPFSGateway:"storage-stg.fleek.co",s3Client:{baseURL:"https://storageapi-stg.fleek.co/"},sentry:{org:"fleek-uo",dsn:"https://e7d85f83b6854092885b33074c5eab7d@o385630.ingest.sentry.io/5228504"},fullStory:{orgId:"MXAGS"}},development:{ethereum:{netId:3,network:"ropsten",ENSRegistryContractAddress:"0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85",ENSStorageContractAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},supportEmail:"support@fleek.co",stripeKey:"pk_test_CJZoF6F9uT47IWH2gtdoxvOn",auth:{clientId:"terminal",baseURL:"https://dev-auth.fleek.co",oidcRedirectUri:"https://dev-app.fleek.co/auth-cb/"},oldApi:{baseURL:"https://dev.terminal.co/graphql",wsBaseURL:"wss://dev.terminal.co/graphql"},newApi:{baseURL:"https://7w65cjs2fnbwzdsltmxj427wfu.appsync-api.us-west-2.amazonaws.com/graphql",wsBaseURL:"wss://7w65cjs2fnbwzdsltmxj427wfu.appsync-realtime-api.us-west-2.amazonaws.com/graphql"},intercomKey:"zyexc80g",storageIPFSGateway:"storage-dev.fleek.co",s3Client:{baseURL:"https://storageapi-dev.fleek.co/"},sentry:{org:"fleek-uo",dsn:"https://e7d85f83b6854092885b33074c5eab7d@o385630.ingest.sentry.io/5228504"},fullStory:{orgId:"MXAGS"}}};t.a=n.production||n.development},74:function(e,t,a){"use strict";a.d(t,"i",(function(){return b})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return g})),a.d(t,"a",(function(){return y})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return h})),a.d(t,"d",(function(){return E})),a.d(t,"e",(function(){return O})),a.d(t,"f",(function(){return j})),a.d(t,"j",(function(){return S})),a.d(t,"s",(function(){return k})),a.d(t,"r",(function(){return C})),a.d(t,"m",(function(){return I})),a.d(t,"n",(function(){return N})),a.d(t,"p",(function(){return D})),a.d(t,"q",(function(){return T})),a.d(t,"o",(function(){return B})),a.d(t,"k",(function(){return A})),a.d(t,"t",(function(){return P})),a.d(t,"l",(function(){return R}));var n=a(4),r=a.n(n),i=a(5),o=a(26),l=a(6),c=a.n(l),s=a(107),u=a(216),d=a(11),m=a(14),p=a(220),b="STORE_OBJETCS",f="SET_ERROR_STATE",g="SET_LOADING_STATE",y="BUCKET_ERROR",v="BUCKET_SUCESS",h="BUCKET_LOADING",E="EDIT_OBJECT",O="EDIT_OBJECTS",j="REMOVE_OBJECTS",S="UNSELECT_ALL_OBJECTS",k=function(){return{type:S}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:g,payload:e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:f,payload:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:j,payload:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:E,payload:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:O,payload:e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(w(!0)),t.next=3,Object(m.a)();case 3:t.sent.headObject(e,(function(t,n){if(t)return s.a(t),404===t.statusCode?void(window.location.hash=d.t.buildUrl(null,"/error/404")):(console.error("Error when trying to get the file: ".concat(t)),u.c.error("Error when trying to get your file ".concat(e.Key),{autoClose:6e3}),void a(x(t)));var r=Object(p.a)(Object(i.a)({Key:e.Key,Size:n.ContentLength},n),e.Bucket);a({type:b,payload:[r]})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(w(!0)),t.next=3,Object(m.a)();case 3:n=t.sent,i=c()(e,"Bucket",""),n.listObjectsV2(e,(function(t,r){if(t)return s.a(t),404===t.statusCode?void(window.location.hash=d.t.buildUrl(null,"/error/404")):(console.error("Error when trying to get bucket objects: ".concat(t)),u.c.error("Error when trying to get your objects from the bucket ".concat(i),{autoClose:6e3}),void a(x(t)));var o=r.Contents.map((function(e){return Object(p.a)(e,i)}));a({type:b,payload:o}),o.filter((function(e){return"folder"===e.type})).forEach((function(t){n.listObjectsV2({Bucket:e.Bucket,Delimiter:"/",Prefix:t.key},(function(e,t){if(e)return s.a(e),console.error(e);var n=t.Contents.map((function(e){return Object(p.a)(e,i)}));a({type:b,payload:n})}))}))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:h}),t.next=3,Object(m.a)();case 3:n=t.sent,T(e)(a),n.listBuckets((function(t,n){if(t)return s.a(t),console.error("Error when trying to get bucket objects: ".concat(t)),u.c.error("Error when trying to get your bucket: ".concat(e.Bucket),{autoClose:6e3}),void a({error:t.message,type:y});var r=n.Buckets.find((function(t){return t.Name===e.Bucket}));r?a({bucket:r,type:v}):window.location.hash=d.t.buildUrl(null,"/error/404")}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e,t){return function(a){var n={Key:e,LastModified:(new Date).toUTCString(),Size:0,eTag:""};a({type:b,payload:[Object(p.a)(n,t)]})}},P=function(e){return function(t){var a=e.Key.split("/").map((function(t,a,n){var r=t===e.Body.name,i=n.slice(0,a+1).join("/"),o=(new Date).toUTCString();return r?{Key:i,LastModified:o,Size:e.Body.size,eTag:"-1"}:{Key:"".concat(i,"/"),LastModified:o,Size:0,eTag:""}}));t({type:b,payload:a.map((function(t){return Object(p.a)(t,e.Bucket)}))})}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){Object(m.a)().then((function(n){n.deleteObjects(e,(function(e,n){return e?(s.a(e),a(e)):t(n)}))})).catch((function(e){return a(e)}))}))}},76:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r),o=a(65);function l(){var e=Object(n.a)(["\n  query getSiteBySlug($slug: String!) {\n    getSiteBySlug(slug: $slug) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var c=i()(l(),o.c);function s(){var e=Object(n.a)(["\nquery verifyDomainAvailability($domain: String!) {\n  verifyDomainAvailability(domain: $domain) {\n    price\n    period\n    currency\n    available\n  }\n}\n"]);return s=function(){return e},e}var u=i()(s());function d(){var e=Object(n.a)(["\nquery getDeploysBySite(\n  $siteId: ID!,\n  $limit: Int,\n  $nextToken: String\n  ) {\n  getDeploysBySite(\n    siteId: $siteId,\n    limit: $limit\n    nextToken: $nextToken\n  ) {\n    nextToken\n    deploys {\n      ...DeployDetail\n    }\n  }\n}\n","\n"]);return d=function(){return e},e}var m=i()(d(),o.a);a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return m}))},84:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r);function o(){var e=Object(n.a)(["\n  mutation removeSite($input: RemoveSiteInput!) {\n    removeSite(input: $input) {\n      id\n    }\n  }\n"]);return o=function(){return e},e}var l=i()(o());function c(){var e=Object(n.a)(["\n  mutation setupBillingIntent($teamId: ID!) {\n    setupBillingIntent(teamId: $teamId) {\n      intentId\n    }\n  }\n"]);return c=function(){return e},e}var s=i()(c());function u(){var e=Object(n.a)(["\n  mutation removeCustomDomain($input: RemoveCustomDomainInput!) {\n    removeCustomDomain(input: $input) {\n      id\n    }\n  }\n"]);return u=function(){return e},e}var d=i()(u());function m(){var e=Object(n.a)(["\n  mutation attachPaymentMethod($teamId: ID!, $paymentMethodId: String!) {\n    attachPaymentMethod(teamId: $teamId, paymentMethodId: $paymentMethodId)\n  }\n"]);return m=function(){return e},e}var p=i()(m());function b(){var e=Object(n.a)(["\n  mutation removeTeamMemberSlot($input: RemoveTeamMemberSlotInput!) {\n    removeTeamMemberSlot(input: $input)\n  }\n"]);return b=function(){return e},e}var f=i()(b()),g=a(89);function y(){var e=Object(n.a)(["\n  mutation inviteUser($teamId: ID!, $emails: [String!]!) {\n    inviteUser(teamId: $teamId, emails: $emails) {\n      ...InvitationInfo\n    }\n  }\n  ","\n"]);return y=function(){return e},e}var v=i()(y(),g.c);function h(){var e=Object(n.a)(["\n  mutation addTeamMember($input: AddTeamMemberInput!) {\n    addTeamMember(input: $input) {\n      ...MembershipInfo\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var E=i()(h(),g.d);function O(){var e=Object(n.a)(["\n  mutation editSiteName($input: EditSiteNameInput!) {\n    editSiteName(input: $input) {\n      id\n    }\n  }\n"]);return O=function(){return e},e}var j=i()(O()),S=(a(404),a(405),a(65));function k(){var e=Object(n.a)(["\n  mutation verifySiteEnsDomain($input: VerifySiteEnsDomainInput!) {\n    verifySiteEnsDomain(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return k=function(){return e},e}var w=i()(k(),S.c);function x(){var e=Object(n.a)(["\n  mutation verifyDnsLink($input: VerifyDnsInput!) {\n    verifyDnsLink(input: $input) {\n      ...SiteDetail\n    }\n  }\n  ","\n"]);return x=function(){return e},e}var C=i()(x(),S.c);function I(){var e=Object(n.a)(["\n  mutation setupBillingIntentWithoutTeam {\n    setupBillingIntentWithoutTeam {\n      intentId\n    }\n  }\n"]);return I=function(){return e},e}var N=i()(I());function D(){var e=Object(n.a)(["\n  mutation DeleteStoredItems($input: DeleteStoredItemsInput!) {\n    DeleteStoredItems(input: $input) {\n      id\n    }\n  }\n"]);return D=function(){return e},e}i()(D());function T(){var e=Object(n.a)(["\n  mutation generateTempApiKey {\n    generateTempApiKey {\n      key\n      secret\n      expiration\n      sessionToken\n    }\n  }\n"]);return T=function(){return e},e}var B=i()(T());function A(){var e=Object(n.a)(["\n  mutation generateApiKey {\n    generateApiKey {\n      ...ApiKeyInfo\n    }\n  }\n  ","\n"]);return A=function(){return e},e}var P=i()(A(),g.a);a.d(t,"h",(function(){return l})),a.d(t,"j",(function(){return s})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"i",(function(){return f})),a.d(t,"f",(function(){return v})),a.d(t,"a",(function(){return E})),a.d(t,"c",(function(){return j})),a.d(t,"m",(function(){return w})),a.d(t,"l",(function(){return C})),a.d(t,"k",(function(){return N})),a.d(t,"e",(function(){return B})),a.d(t,"d",(function(){return P}))},89:function(e,t,a){"use strict";var n=a(24),r=a(25),i=a.n(r);function o(){var e=Object(n.a)(["\n  fragment BillingInfo on TeamBillingInfo {\n    activePlan {\n      currentBuildMinutesInMonth\n      currentBandwidthInMonth\n      # currentMemberAmount ### waiting on BE\n      activatedAt\n      expiresAt\n      selectedPlan {\n        ...PlanInfo\n      }\n    }\n    paymentMethod {\n      ...PaymentInfo\n    }\n    stripeCustomerId\n    billingInformation {\n      name\n      email\n    }\n  }\n  ","\n  ","\n"]);return o=function(){return e},e}function l(){var e=Object(n.a)(["\n  fragment SitesLimitBillingInfo on TeamBillingInfo {\n    activePlan {\n      selectedPlan {\n        id\n        name\n        limitNumberOfSites\n      }\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=Object(n.a)(["\n  fragment PaymentInfo on PaymentMethod {\n    type\n    issuer\n    card {\n      lastCardNumbers\n    }\n  }\n"]);return c=function(){return e},e}function s(){var e=Object(n.a)(["\n  fragment PlanInfo on Plan {\n    id\n    name\n    description\n    priceMonthly\n    priceYearly\n    limitBuildTimeInMins\n    limitBandwidthInMB\n    limitNumberOfSites\n    limitTeams\n    limitTeamMembers\n    extraTeamMemberPrice\n  }\n"]);return s=function(){return e},e}var u=i()(s()),d=i()(c()),m=i()(l()),p=i()(o(),u,d);function b(){var e=Object(n.a)(["\n  fragment TeamInfo on Team {\n    id\n    name\n    creatorId\n    seatCount\n    membersCount\n    stripeCustomerId\n    pendingInviteCount\n    status\n  }\n"]);return b=function(){return e},e}var f=i()(b());function g(){var e=Object(n.a)(["\n  fragment MembershipInfo on Membership {\n    teamId\n    teamName\n    createdAt\n    accessLevel\n  }\n"]);return g=function(){return e},e}var y=i()(g());a(403);function v(){var e=Object(n.a)(["\n  fragment ApiKeyInfo on ApiKey {\n    key\n    secret\n  }\n"]);return v=function(){return e},e}var h=i()(v());function E(){var e=Object(n.a)(["\n  fragment InvitationInfo on Invitation {\n    id\n    email\n    teamId\n    status\n    senderId\n    createdAt\n  }\n"]);return E=function(){return e},e}var O=i()(E());a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"g",(function(){return f})),a.d(t,"d",(function(){return y})),a.d(t,"a",(function(){return h})),a.d(t,"c",(function(){return O}))},986:function(e,t){e.exports=Stripe},988:function(e){e.exports=JSON.parse('[{"label":"Afghanistan","value":"AF"},{"label":"\xc5land Islands","value":"AX"},{"label":"Albania","value":"AL"},{"label":"Algeria","value":"DZ"},{"label":"American Samoa","value":"AS"},{"label":"Andorra","value":"AD"},{"label":"Angola","value":"AO"},{"label":"Anguilla","value":"AI"},{"label":"Antarctica","value":"AQ"},{"label":"Antigua and Barbuda","value":"AG"},{"label":"Argentina","value":"AR"},{"label":"Armenia","value":"AM"},{"label":"Aruba","value":"AW"},{"label":"Australia","value":"AU"},{"label":"Austria","value":"AT"},{"label":"Azerbaijan","value":"AZ"},{"label":"Bahamas","value":"BS"},{"label":"Bahrain","value":"BH"},{"label":"Bangladesh","value":"BD"},{"label":"Barbados","value":"BB"},{"label":"Belarus","value":"BY"},{"label":"Belgium","value":"BE"},{"label":"Belize","value":"BZ"},{"label":"Benin","value":"BJ"},{"label":"Bermuda","value":"BM"},{"label":"Bhutan","value":"BT"},{"label":"Bolivia","value":"BO"},{"label":"Bosnia and Herzegovina","value":"BA"},{"label":"Botswana","value":"BW"},{"label":"Bouvet Island","value":"BV"},{"label":"Brazil","value":"BR"},{"label":"British Indian Ocean Territory","value":"IO"},{"label":"Brunei Darussalam","value":"BN"},{"label":"Bulgaria","value":"BG"},{"label":"Burkina Faso","value":"BF"},{"label":"Burundi","value":"BI"},{"label":"Cambodia","value":"KH"},{"label":"Cameroon","value":"CM"},{"label":"Canada","value":"CA"},{"label":"Cape Verde","value":"CV"},{"label":"Cayman Islands","value":"KY"},{"label":"Central African Republic","value":"CF"},{"label":"Chad","value":"TD"},{"label":"Chile","value":"CL"},{"label":"China","value":"CN"},{"label":"Christmas Island","value":"CX"},{"label":"Cocos (Keeling) Islands","value":"CC"},{"label":"Colombia","value":"CO"},{"label":"Comoros","value":"KM"},{"label":"Congo","value":"CG"},{"label":"Congo, The Democratic Republic of the","value":"CD"},{"label":"Cook Islands","value":"CK"},{"label":"Costa Rica","value":"CR"},{"label":"Cote D\'Ivoire","value":"CI"},{"label":"Croatia","value":"HR"},{"label":"Cuba","value":"CU"},{"label":"Cyprus","value":"CY"},{"label":"Czech Republic","value":"CZ"},{"label":"Denmark","value":"DK"},{"label":"Djibouti","value":"DJ"},{"label":"Dominica","value":"DM"},{"label":"Dominican Republic","value":"DO"},{"label":"Ecuador","value":"EC"},{"label":"Egypt","value":"EG"},{"label":"El Salvador","value":"SV"},{"label":"Equatorial Guinea","value":"GQ"},{"label":"Eritrea","value":"ER"},{"label":"Estonia","value":"EE"},{"label":"Ethiopia","value":"ET"},{"label":"Falkland Islands (Malvinas)","value":"FK"},{"label":"Faroe Islands","value":"FO"},{"label":"Fiji","value":"FJ"},{"label":"Finland","value":"FI"},{"label":"France","value":"FR"},{"label":"French Guiana","value":"GF"},{"label":"French Polynesia","value":"PF"},{"label":"French Southern Territories","value":"TF"},{"label":"Gabon","value":"GA"},{"label":"Gambia","value":"GM"},{"label":"Georgia","value":"GE"},{"label":"Germany","value":"DE"},{"label":"Ghana","value":"GH"},{"label":"Gibraltar","value":"GI"},{"label":"Greece","value":"GR"},{"label":"Greenland","value":"GL"},{"label":"Grenada","value":"GD"},{"label":"Guadeloupe","value":"GP"},{"label":"Guam","value":"GU"},{"label":"Guatemala","value":"GT"},{"label":"Guernsey","value":"GG"},{"label":"Guinea","value":"GN"},{"label":"Guinea-Bissau","value":"GW"},{"label":"Guyana","value":"GY"},{"label":"Haiti","value":"HT"},{"label":"Heard Island and Mcdonald Islands","value":"HM"},{"label":"Holy See (Vatican City State)","value":"VA"},{"label":"Honduras","value":"HN"},{"label":"Hong Kong","value":"HK"},{"label":"Hungary","value":"HU"},{"label":"Iceland","value":"IS"},{"label":"India","value":"IN"},{"label":"Indonesia","value":"ID"},{"label":"Iran, Islamic Republic Of","value":"IR"},{"label":"Iraq","value":"IQ"},{"label":"Ireland","value":"IE"},{"label":"Isle of Man","value":"IM"},{"label":"Israel","value":"IL"},{"label":"Italy","value":"IT"},{"label":"Jamaica","value":"JM"},{"label":"Japan","value":"JP"},{"label":"Jersey","value":"JE"},{"label":"Jordan","value":"JO"},{"label":"Kazakhstan","value":"KZ"},{"label":"Kenya","value":"KE"},{"label":"Kiribati","value":"KI"},{"label":"Democratic People\'s Republic of Korea","value":"KP"},{"label":"Korea, Republic of","value":"KR"},{"label":"Kosovo","value":"XK"},{"label":"Kuwait","value":"KW"},{"label":"Kyrgyzstan","value":"KG"},{"label":"Lao People\'s Democratic Republic","value":"LA"},{"label":"Latvia","value":"LV"},{"label":"Lebanon","value":"LB"},{"label":"Lesotho","value":"LS"},{"label":"Liberia","value":"LR"},{"label":"Libyan Arab Jamahiriya","value":"LY"},{"label":"Liechtenstein","value":"LI"},{"label":"Lithuania","value":"LT"},{"label":"Luxembourg","value":"LU"},{"label":"Macao","value":"MO"},{"label":"Macedonia, The Former Yugoslav Republic of","value":"MK"},{"label":"Madagascar","value":"MG"},{"label":"Malawi","value":"MW"},{"label":"Malaysia","value":"MY"},{"label":"Maldives","value":"MV"},{"label":"Mali","value":"ML"},{"label":"Malta","value":"MT"},{"label":"Marshall Islands","value":"MH"},{"label":"Martinique","value":"MQ"},{"label":"Mauritania","value":"MR"},{"label":"Mauritius","value":"MU"},{"label":"Mayotte","value":"YT"},{"label":"Mexico","value":"MX"},{"label":"Micronesia, Federated States of","value":"FM"},{"label":"Moldova, Republic of","value":"MD"},{"label":"Monaco","value":"MC"},{"label":"Mongolia","value":"MN"},{"label":"Montenegro","value":"ME"},{"label":"Montserrat","value":"MS"},{"label":"Morocco","value":"MA"},{"label":"Mozambique","value":"MZ"},{"label":"Myanmar","value":"MM"},{"label":"Namibia","value":"NA"},{"label":"Nauru","value":"NR"},{"label":"Nepal","value":"NP"},{"label":"Netherlands","value":"NL"},{"label":"Netherlands Antilles","value":"AN"},{"label":"New Caledonia","value":"NC"},{"label":"New Zealand","value":"NZ"},{"label":"Nicaragua","value":"NI"},{"label":"Niger","value":"NE"},{"label":"Nigeria","value":"NG"},{"label":"Niue","value":"NU"},{"label":"Norfolk Island","value":"NF"},{"label":"Northern Mariana Islands","value":"MP"},{"label":"Norway","value":"NO"},{"label":"Oman","value":"OM"},{"label":"Pakistan","value":"PK"},{"label":"Palau","value":"PW"},{"label":"Palestinian Territory, Occupied","value":"PS"},{"label":"Panama","value":"PA"},{"label":"Papua New Guinea","value":"PG"},{"label":"Paraguay","value":"PY"},{"label":"Peru","value":"PE"},{"label":"Philippines","value":"PH"},{"label":"Pitcairn","value":"PN"},{"label":"Poland","value":"PL"},{"label":"Portugal","value":"PT"},{"label":"Puerto Rico","value":"PR"},{"label":"Qatar","value":"QA"},{"label":"Reunion","value":"RE"},{"label":"Romania","value":"RO"},{"label":"Russian Federation","value":"RU"},{"label":"Rwanda","value":"RW"},{"label":"Saint Helena","value":"SH"},{"label":"Saint Kitts and Nevis","value":"KN"},{"label":"Saint Lucia","value":"LC"},{"label":"Saint Pierre and Miquelon","value":"PM"},{"label":"Saint Vincent and the Grenadines","value":"VC"},{"label":"Samoa","value":"WS"},{"label":"San Marino","value":"SM"},{"label":"Sao Tome and Principe","value":"ST"},{"label":"Saudi Arabia","value":"SA"},{"label":"Senegal","value":"SN"},{"label":"Serbia","value":"RS"},{"label":"Seychelles","value":"SC"},{"label":"Sierra Leone","value":"SL"},{"label":"Singapore","value":"SG"},{"label":"Slovakia","value":"SK"},{"label":"Slovenia","value":"SI"},{"label":"Solomon Islands","value":"SB"},{"label":"Somalia","value":"SO"},{"label":"South Africa","value":"ZA"},{"label":"South Georgia and the South Sandwich Islands","value":"GS"},{"label":"Spain","value":"ES"},{"label":"Sri Lanka","value":"LK"},{"label":"Sudan","value":"SD"},{"label":"Suriname","value":"SR"},{"label":"Svalbard and Jan Mayen","value":"SJ"},{"label":"Swaziland","value":"SZ"},{"label":"Sweden","value":"SE"},{"label":"Switzerland","value":"CH"},{"label":"Syrian Arab Republic","value":"SY"},{"label":"Taiwan","value":"TW"},{"label":"Tajikistan","value":"TJ"},{"label":"Tanzania, United Republic of","value":"TZ"},{"label":"Thailand","value":"TH"},{"label":"Timor-Leste","value":"TL"},{"label":"Togo","value":"TG"},{"label":"Tokelau","value":"TK"},{"label":"Tonga","value":"TO"},{"label":"Trinidad and Tobago","value":"TT"},{"label":"Tunisia","value":"TN"},{"label":"Turkey","value":"TR"},{"label":"Turkmenistan","value":"TM"},{"label":"Turks and Caicos Islands","value":"TC"},{"label":"Tuvalu","value":"TV"},{"label":"Uganda","value":"UG"},{"label":"Ukraine","value":"UA"},{"label":"United Arab Emirates","value":"AE"},{"label":"United Kingdom","value":"GB"},{"label":"United States","value":"US"},{"label":"United States Minor Outlying Islands","value":"UM"},{"label":"Uruguay","value":"UY"},{"label":"Uzbekistan","value":"UZ"},{"label":"Vanuatu","value":"VU"},{"label":"Venezuela","value":"VE"},{"label":"Viet Nam","value":"VN"},{"label":"Virgin Islands, British","value":"VG"},{"label":"Virgin Islands, U.S.","value":"VI"},{"label":"Wallis and Futuna","value":"WF"},{"label":"Western Sahara","value":"EH"},{"label":"Yemen","value":"YE"},{"label":"Zambia","value":"ZM"},{"label":"Zimbabwe","value":"ZW"}]')}},[[1056,1,2]]]);
//# sourceMappingURL=main.a0e61557.chunk.js.map